import{t as s}from"./vendor-B2Wt-wJ2.js";const u="https://lnpviyfsdgyacslwtkrb.supabase.co",d="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucHZpeWZzZGd5YWNzbHd0a3JiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY4NzM1OTMsImV4cCI6MjA1MjQ0OTU5M30.ZT6P5YzMPKMAByy5RAaLyoUVr5RJdmqpgTqNxTDBPn4",n=s(u,d);async function l(o){try{const{data:r}=n.storage.from("applications").getPublicUrl(o);if(!(r!=null&&r.publicUrl))throw new Error("Failed to get public URL");return r.publicUrl}catch(r){throw console.error("Error getting file URL:",r),r}}async function p(){try{const{data:o,error:r}=await n.from("projects").select("featured").limit(1),c=!r&&o&&o.length>0&&"featured"in o[0],{data:i,error:a}=await n.from("projects").select("*");if(a)throw a;return!i||i.length===0?[]:i.sort((e,t)=>{if(c){if(e.featured&&!t.featured)return-1;if(!e.featured&&t.featured)return 1}return typeof e.order=="number"&&typeof t.order=="number"?e.order-t.order:e.created_at&&t.created_at?new Date(t.created_at).getTime()-new Date(e.created_at).getTime():typeof e.id=="number"&&typeof t.id=="number"?t.id-e.id:String(e.id).localeCompare(String(t.id))})}catch(o){throw console.error("Error fetching projects:",o),o}}export{p as a,l as g};
