var TV=Object.defineProperty;var iM=n=>{throw TypeError(n)};var kV=(n,e,t)=>e in n?TV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ae=(n,e,t)=>kV(n,typeof e!="symbol"?e+"":e,t),F1=(n,e,t)=>e.has(n)||iM("Cannot "+t);var h=(n,e,t)=>(F1(n,e,"read from private field"),t?t.call(n):e.get(n)),x=(n,e,t)=>e.has(n)?iM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,i)=>(F1(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),S=(n,e,t)=>(F1(n,e,"access private method"),t);var An=(n,e,t,i)=>({set _(s){b(n,e,s,t)},get _(){return h(n,e,i)}});var Ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function RV(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var w2={exports:{}},kb={},_2={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=Symbol.for("react.element"),MV=Symbol.for("react.portal"),IV=Symbol.for("react.fragment"),LV=Symbol.for("react.strict_mode"),DV=Symbol.for("react.profiler"),OV=Symbol.for("react.provider"),NV=Symbol.for("react.context"),FV=Symbol.for("react.forward_ref"),$V=Symbol.for("react.suspense"),BV=Symbol.for("react.memo"),zV=Symbol.for("react.lazy"),sM=Symbol.iterator;function UV(n){return n===null||typeof n!="object"?null:(n=sM&&n[sM]||n["@@iterator"],typeof n=="function"?n:null)}var b2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S2=Object.assign,A2={};function vp(n,e,t){this.props=n,this.context=e,this.refs=A2,this.updater=t||b2}vp.prototype.isReactComponent={};vp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};vp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function x2(){}x2.prototype=vp.prototype;function OT(n,e,t){this.props=n,this.context=e,this.refs=A2,this.updater=t||b2}var NT=OT.prototype=new x2;NT.constructor=OT;S2(NT,vp.prototype);NT.isPureReactComponent=!0;var rM=Array.isArray,E2=Object.prototype.hasOwnProperty,FT={current:null},P2={key:!0,ref:!0,__self:!0,__source:!0};function C2(n,e,t){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)E2.call(e,i)&&!P2.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Ey,type:n,key:r,ref:o,props:s,_owner:FT.current}}function VV(n,e){return{$$typeof:Ey,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function $T(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ey}function jV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var oM=/\/+/g;function $1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?jV(""+n.key):e.toString(36)}function nw(n,e,t,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ey:case MV:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+$1(o,0):i,rM(s)?(t="",n!=null&&(t=n.replace(oM,"$&/")+"/"),nw(s,e,t,"",function(u){return u})):s!=null&&($T(s)&&(s=VV(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oM,"$&/")+"/")+n)),e.push(s)),1;if(o=0,i=i===""?".":i+":",rM(n))for(var a=0;a<n.length;a++){r=n[a];var l=i+$1(r,a);o+=nw(r,e,t,l,s)}else if(l=UV(n),typeof l=="function")for(n=l.call(n),a=0;!(r=n.next()).done;)r=r.value,l=i+$1(r,a++),o+=nw(r,e,t,l,s);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function n0(n,e,t){if(n==null)return n;var i=[],s=0;return nw(n,i,"","",function(r){return e.call(t,r,s++)}),i}function HV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var oi={current:null},iw={transition:null},WV={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:iw,ReactCurrentOwner:FT};function T2(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:n0,forEach:function(n,e,t){n0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return n0(n,function(){e++}),e},toArray:function(n){return n0(n,function(e){return e})||[]},only:function(n){if(!$T(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Te.Component=vp;Te.Fragment=IV;Te.Profiler=DV;Te.PureComponent=OT;Te.StrictMode=LV;Te.Suspense=$V;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV;Te.act=T2;Te.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=S2({},n.props),s=n.key,r=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=FT.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)E2.call(e,l)&&!P2.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Ey,type:n.type,key:s,ref:r,props:i,_owner:o}};Te.createContext=function(n){return n={$$typeof:NV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:OV,_context:n},n.Consumer=n};Te.createElement=C2;Te.createFactory=function(n){var e=C2.bind(null,n);return e.type=n,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(n){return{$$typeof:FV,render:n}};Te.isValidElement=$T;Te.lazy=function(n){return{$$typeof:zV,_payload:{_status:-1,_result:n},_init:HV}};Te.memo=function(n,e){return{$$typeof:BV,type:n,compare:e===void 0?null:e}};Te.startTransition=function(n){var e=iw.transition;iw.transition={};try{n()}finally{iw.transition=e}};Te.unstable_act=T2;Te.useCallback=function(n,e){return oi.current.useCallback(n,e)};Te.useContext=function(n){return oi.current.useContext(n)};Te.useDebugValue=function(){};Te.useDeferredValue=function(n){return oi.current.useDeferredValue(n)};Te.useEffect=function(n,e){return oi.current.useEffect(n,e)};Te.useId=function(){return oi.current.useId()};Te.useImperativeHandle=function(n,e,t){return oi.current.useImperativeHandle(n,e,t)};Te.useInsertionEffect=function(n,e){return oi.current.useInsertionEffect(n,e)};Te.useLayoutEffect=function(n,e){return oi.current.useLayoutEffect(n,e)};Te.useMemo=function(n,e){return oi.current.useMemo(n,e)};Te.useReducer=function(n,e,t){return oi.current.useReducer(n,e,t)};Te.useRef=function(n){return oi.current.useRef(n)};Te.useState=function(n){return oi.current.useState(n)};Te.useSyncExternalStore=function(n,e,t){return oi.current.useSyncExternalStore(n,e,t)};Te.useTransition=function(){return oi.current.useTransition()};Te.version="18.3.1";_2.exports=Te;var L=_2.exports;const pe=xy(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GV=L,qV=Symbol.for("react.element"),KV=Symbol.for("react.fragment"),ZV=Object.prototype.hasOwnProperty,YV=GV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XV={key:!0,ref:!0,__self:!0,__source:!0};function k2(n,e,t){var i,s={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)ZV.call(e,i)&&!XV.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:qV,type:n,key:r,ref:o,props:s,_owner:YV.current}}kb.Fragment=KV;kb.jsx=k2;kb.jsxs=k2;w2.exports=kb;var d_=w2.exports,aM={},R2={exports:{}},ns={},M2={exports:{}},I2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,Q){var J=N.length;N.push(Q);e:for(;0<J;){var he=J-1>>>1,ue=N[he];if(0<s(ue,Q))N[he]=Q,N[J]=ue,J=he;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var Q=N[0],J=N.pop();if(J!==Q){N[0]=J;e:for(var he=0,ue=N.length,ge=ue>>>1;he<ge;){var $e=2*(he+1)-1,Xe=N[$e],Pe=$e+1,oe=N[Pe];if(0>s(Xe,J))Pe<ue&&0>s(oe,Xe)?(N[he]=oe,N[Pe]=J,he=Pe):(N[he]=Xe,N[$e]=J,he=$e);else if(Pe<ue&&0>s(oe,J))N[he]=oe,N[Pe]=J,he=Pe;else break e}}return Q}function s(N,Q){var J=N.sortIndex-Q.sortIndex;return J!==0?J:N.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var Q=t(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=N)i(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(u)}}function A(N){if(g=!1,_(N),!m)if(t(l)!==null)m=!0,Y(E);else{var Q=t(u);Q!==null&&G(A,Q.startTime-N)}}function E(N,Q){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var J=f;try{for(_(Q),d=t(l);d!==null&&(!(d.expirationTime>Q)||N&&!D());){var he=d.callback;if(typeof he=="function"){d.callback=null,f=d.priorityLevel;var ue=he(d.expirationTime<=Q);Q=n.unstable_now(),typeof ue=="function"?d.callback=ue:d===t(l)&&i(l),_(Q)}else i(l);d=t(l)}if(d!==null)var ge=!0;else{var $e=t(u);$e!==null&&G(A,$e.startTime-Q),ge=!1}return ge}finally{d=null,f=J,p=!1}}var C=!1,T=null,k=-1,P=5,M=-1;function D(){return!(n.unstable_now()-M<P)}function H(){if(T!==null){var N=n.unstable_now();M=N;var Q=!0;try{Q=T(!0,N)}finally{Q?W():(C=!1,T=null)}}else C=!1}var W;if(typeof y=="function")W=function(){y(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=H,W=function(){X.postMessage(null)}}else W=function(){w(H,0)};function Y(N){T=N,C||(C=!0,W())}function G(N,Q){k=w(function(){N(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,Y(E))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var J=f;f=Q;try{return N()}finally{f=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,Q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=f;f=N;try{return Q()}finally{f=J}},n.unstable_scheduleCallback=function(N,Q,J){var he=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,N){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=J+ue,N={id:c++,callback:Q,priorityLevel:N,startTime:J,expirationTime:ue,sortIndex:-1},J>he?(N.sortIndex=J,e(u,N),t(l)===null&&N===t(u)&&(g?(v(k),k=-1):g=!0,G(A,J-he))):(N.sortIndex=ue,e(l,N),m||p||(m=!0,Y(E))),N},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(N){var Q=f;return function(){var J=f;f=Q;try{return N.apply(this,arguments)}finally{f=J}}}})(I2);M2.exports=I2;var QV=M2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JV=L,Ji=QV;function U(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L2=new Set,Yg={};function ch(n,e){Zf(n,e),Zf(n+"Capture",e)}function Zf(n,e){for(Yg[n]=e,n=0;n<e.length;n++)L2.add(e[n])}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vA=Object.prototype.hasOwnProperty,ej=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lM={},uM={};function tj(n){return vA.call(uM,n)?!0:vA.call(lM,n)?!1:ej.test(n)?uM[n]=!0:(lM[n]=!0,!1)}function nj(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ij(n,e,t,i){if(e===null||typeof e>"u"||nj(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ai(n,e,t,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Sn[n]=new ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Sn[e]=new ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Sn[n]=new ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Sn[n]=new ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Sn[n]=new ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Sn[n]=new ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Sn[n]=new ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Sn[n]=new ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Sn[n]=new ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var BT=/[\-:]([a-z])/g;function zT(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(BT,zT);Sn[e]=new ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(BT,zT);Sn[e]=new ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(BT,zT);Sn[e]=new ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Sn[n]=new ai(n,1,!1,n.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Sn[n]=new ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function UT(n,e,t,i){var s=Sn.hasOwnProperty(e)?Sn[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ij(e,t,s,i)&&(t=null),i||s===null?tj(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,i=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ya=JV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i0=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),VT=Symbol.for("react.strict_mode"),yA=Symbol.for("react.profiler"),D2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),jT=Symbol.for("react.forward_ref"),wA=Symbol.for("react.suspense"),_A=Symbol.for("react.suspense_list"),HT=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),N2=Symbol.for("react.offscreen"),cM=Symbol.iterator;function Mp(n){return n===null||typeof n!="object"?null:(n=cM&&n[cM]||n["@@iterator"],typeof n=="function"?n:null)}var bt=Object.assign,B1;function Yp(n){if(B1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);B1=e&&e[1]||""}return`
`+B1+n}var z1=!1;function U1(n,e){if(!n||z1)return"";z1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{z1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Yp(n):""}function sj(n){switch(n.tag){case 5:return Yp(n.type);case 16:return Yp("Lazy");case 13:return Yp("Suspense");case 19:return Yp("SuspenseList");case 0:case 2:case 15:return n=U1(n.type,!1),n;case 11:return n=U1(n.type.render,!1),n;case 1:return n=U1(n.type,!0),n;default:return""}}function bA(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Wh:return"Fragment";case Hh:return"Portal";case yA:return"Profiler";case VT:return"StrictMode";case wA:return"Suspense";case _A:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O2:return(n.displayName||"Context")+".Consumer";case D2:return(n._context.displayName||"Context")+".Provider";case jT:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case HT:return e=n.displayName||null,e!==null?e:bA(n.type)||"Memo";case Pa:e=n._payload,n=n._init;try{return bA(n(e))}catch{}}return null}function rj(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bA(e);case 8:return e===VT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function F2(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oj(n){var e=F2(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function s0(n){n._valueTracker||(n._valueTracker=oj(n))}function $2(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=F2(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function f_(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function SA(n,e){var t=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function hM(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=zl(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B2(n,e){e=e.checked,e!=null&&UT(n,"checked",e,!1)}function AA(n,e){B2(n,e);var t=zl(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?xA(n,e.type,t):e.hasOwnProperty("defaultValue")&&xA(n,e.type,zl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function dM(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function xA(n,e,t){(e!=="number"||f_(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Xp=Array.isArray;function dd(n,e,t,i){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&i&&(n[t].defaultSelected=!0)}else{for(t=""+zl(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function EA(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fM(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(U(92));if(Xp(t)){if(1<t.length)throw Error(U(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:zl(t)}}function z2(n,e){var t=zl(e.value),i=zl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function pM(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function U2(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PA(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?U2(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var r0,V2=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(r0=r0||document.createElement("div"),r0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=r0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Xg(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aj=["Webkit","ms","Moz","O"];Object.keys(Pg).forEach(function(n){aj.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Pg[e]=Pg[n]})});function j2(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Pg.hasOwnProperty(n)&&Pg[n]?(""+e).trim():e+"px"}function H2(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,s=j2(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,s):n[t]=s}}var lj=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CA(n,e){if(e){if(lj[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function TA(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kA=null;function WT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var RA=null,fd=null,pd=null;function gM(n){if(n=Ty(n)){if(typeof RA!="function")throw Error(U(280));var e=n.stateNode;e&&(e=Db(e),RA(n.stateNode,n.type,e))}}function W2(n){fd?pd?pd.push(n):pd=[n]:fd=n}function G2(){if(fd){var n=fd,e=pd;if(pd=fd=null,gM(n),e)for(n=0;n<e.length;n++)gM(e[n])}}function q2(n,e){return n(e)}function K2(){}var V1=!1;function Z2(n,e,t){if(V1)return n(e,t);V1=!0;try{return q2(n,e,t)}finally{V1=!1,(fd!==null||pd!==null)&&(K2(),G2())}}function Qg(n,e){var t=n.stateNode;if(t===null)return null;var i=Db(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(U(231,e,typeof t));return t}var MA=!1;if(da)try{var Ip={};Object.defineProperty(Ip,"passive",{get:function(){MA=!0}}),window.addEventListener("test",Ip,Ip),window.removeEventListener("test",Ip,Ip)}catch{MA=!1}function uj(n,e,t,i,s,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Cg=!1,p_=null,g_=!1,IA=null,cj={onError:function(n){Cg=!0,p_=n}};function hj(n,e,t,i,s,r,o,a,l){Cg=!1,p_=null,uj.apply(cj,arguments)}function dj(n,e,t,i,s,r,o,a,l){if(hj.apply(this,arguments),Cg){if(Cg){var u=p_;Cg=!1,p_=null}else throw Error(U(198));g_||(g_=!0,IA=u)}}function hh(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Y2(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function mM(n){if(hh(n)!==n)throw Error(U(188))}function fj(n){var e=n.alternate;if(!e){if(e=hh(n),e===null)throw Error(U(188));return e!==n?null:n}for(var t=n,i=e;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){t=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return mM(s),n;if(r===i)return mM(s),e;r=r.sibling}throw Error(U(188))}if(t.return!==i.return)t=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(t.alternate!==i)throw Error(U(190))}if(t.tag!==3)throw Error(U(188));return t.stateNode.current===t?n:e}function X2(n){return n=fj(n),n!==null?Q2(n):null}function Q2(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Q2(n);if(e!==null)return e;n=n.sibling}return null}var J2=Ji.unstable_scheduleCallback,vM=Ji.unstable_cancelCallback,pj=Ji.unstable_shouldYield,gj=Ji.unstable_requestPaint,It=Ji.unstable_now,mj=Ji.unstable_getCurrentPriorityLevel,GT=Ji.unstable_ImmediatePriority,eN=Ji.unstable_UserBlockingPriority,m_=Ji.unstable_NormalPriority,vj=Ji.unstable_LowPriority,tN=Ji.unstable_IdlePriority,Rb=null,no=null;function yj(n){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(Rb,n,void 0,(n.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:bj,wj=Math.log,_j=Math.LN2;function bj(n){return n>>>=0,n===0?32:31-(wj(n)/_j|0)|0}var o0=64,a0=4194304;function Qp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function v_(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?i=Qp(a):(r&=o,r!==0&&(i=Qp(r)))}else o=t&~s,o!==0?i=Qp(o):r!==0&&(i=Qp(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-hr(e),s=1<<t,i|=n[t],e&=~s;return i}function Sj(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aj(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-hr(r),a=1<<o,l=s[o];l===-1?(!(a&t)||a&i)&&(s[o]=Sj(a,e)):l<=e&&(n.expiredLanes|=a),r&=~a}}function LA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function nN(){var n=o0;return o0<<=1,!(o0&4194240)&&(o0=64),n}function j1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Py(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-hr(e),n[e]=t}function xj(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-hr(t),r=1<<s;e[s]=0,i[s]=-1,n[s]=-1,t&=~r}}function qT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-hr(t),s=1<<i;s&e|n[i]&e&&(n[i]|=e),t&=~s}}var We=0;function iN(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var sN,KT,rN,oN,aN,DA=!1,l0=[],Rl=null,Ml=null,Il=null,Jg=new Map,em=new Map,Ra=[],Ej="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yM(n,e){switch(n){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Jg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(e.pointerId)}}function Lp(n,e,t,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Ty(e),e!==null&&KT(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function Pj(n,e,t,i,s){switch(e){case"focusin":return Rl=Lp(Rl,n,e,t,i,s),!0;case"dragenter":return Ml=Lp(Ml,n,e,t,i,s),!0;case"mouseover":return Il=Lp(Il,n,e,t,i,s),!0;case"pointerover":var r=s.pointerId;return Jg.set(r,Lp(Jg.get(r)||null,n,e,t,i,s)),!0;case"gotpointercapture":return r=s.pointerId,em.set(r,Lp(em.get(r)||null,n,e,t,i,s)),!0}return!1}function lN(n){var e=Eu(n.target);if(e!==null){var t=hh(e);if(t!==null){if(e=t.tag,e===13){if(e=Y2(t),e!==null){n.blockedOn=e,aN(n.priority,function(){rN(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sw(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=OA(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);kA=i,t.target.dispatchEvent(i),kA=null}else return e=Ty(t),e!==null&&KT(e),n.blockedOn=t,!1;e.shift()}return!0}function wM(n,e,t){sw(n)&&t.delete(e)}function Cj(){DA=!1,Rl!==null&&sw(Rl)&&(Rl=null),Ml!==null&&sw(Ml)&&(Ml=null),Il!==null&&sw(Il)&&(Il=null),Jg.forEach(wM),em.forEach(wM)}function Dp(n,e){n.blockedOn===e&&(n.blockedOn=null,DA||(DA=!0,Ji.unstable_scheduleCallback(Ji.unstable_NormalPriority,Cj)))}function tm(n){function e(s){return Dp(s,n)}if(0<l0.length){Dp(l0[0],n);for(var t=1;t<l0.length;t++){var i=l0[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Rl!==null&&Dp(Rl,n),Ml!==null&&Dp(Ml,n),Il!==null&&Dp(Il,n),Jg.forEach(e),em.forEach(e),t=0;t<Ra.length;t++)i=Ra[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ra.length&&(t=Ra[0],t.blockedOn===null);)lN(t),t.blockedOn===null&&Ra.shift()}var gd=ya.ReactCurrentBatchConfig,y_=!0;function Tj(n,e,t,i){var s=We,r=gd.transition;gd.transition=null;try{We=1,ZT(n,e,t,i)}finally{We=s,gd.transition=r}}function kj(n,e,t,i){var s=We,r=gd.transition;gd.transition=null;try{We=4,ZT(n,e,t,i)}finally{We=s,gd.transition=r}}function ZT(n,e,t,i){if(y_){var s=OA(n,e,t,i);if(s===null)J1(n,e,i,w_,t),yM(n,i);else if(Pj(s,n,e,t,i))i.stopPropagation();else if(yM(n,i),e&4&&-1<Ej.indexOf(n)){for(;s!==null;){var r=Ty(s);if(r!==null&&sN(r),r=OA(n,e,t,i),r===null&&J1(n,e,i,w_,t),r===s)break;s=r}s!==null&&i.stopPropagation()}else J1(n,e,i,null,t)}}var w_=null;function OA(n,e,t,i){if(w_=null,n=WT(i),n=Eu(n),n!==null)if(e=hh(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Y2(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return w_=n,null}function uN(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mj()){case GT:return 1;case eN:return 4;case m_:case vj:return 16;case tN:return 536870912;default:return 16}default:return 16}}var El=null,YT=null,rw=null;function cN(){if(rw)return rw;var n,e=YT,t=e.length,i,s="value"in El?El.value:El.textContent,r=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===s[r-i];i++);return rw=s.slice(n,1<i?1-i:void 0)}function ow(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function u0(){return!0}function _M(){return!1}function is(n){function e(t,i,s,r,o){this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?u0:_M,this.isPropagationStopped=_M,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=u0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=u0)},persist:function(){},isPersistent:u0}),e}var yp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XT=is(yp),Cy=bt({},yp,{view:0,detail:0}),Rj=is(Cy),H1,W1,Op,Mb=bt({},Cy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Op&&(Op&&n.type==="mousemove"?(H1=n.screenX-Op.screenX,W1=n.screenY-Op.screenY):W1=H1=0,Op=n),H1)},movementY:function(n){return"movementY"in n?n.movementY:W1}}),bM=is(Mb),Mj=bt({},Mb,{dataTransfer:0}),Ij=is(Mj),Lj=bt({},Cy,{relatedTarget:0}),G1=is(Lj),Dj=bt({},yp,{animationName:0,elapsedTime:0,pseudoElement:0}),Oj=is(Dj),Nj=bt({},yp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fj=is(Nj),$j=bt({},yp,{data:0}),SM=is($j),Bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vj(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Uj[n])?!!e[n]:!1}function QT(){return Vj}var jj=bt({},Cy,{key:function(n){if(n.key){var e=Bj[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ow(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zj[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QT,charCode:function(n){return n.type==="keypress"?ow(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ow(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hj=is(jj),Wj=bt({},Mb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AM=is(Wj),Gj=bt({},Cy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QT}),qj=is(Gj),Kj=bt({},yp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zj=is(Kj),Yj=bt({},Mb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xj=is(Yj),Qj=[9,13,27,32],JT=da&&"CompositionEvent"in window,Tg=null;da&&"documentMode"in document&&(Tg=document.documentMode);var Jj=da&&"TextEvent"in window&&!Tg,hN=da&&(!JT||Tg&&8<Tg&&11>=Tg),xM=" ",EM=!1;function dN(n,e){switch(n){case"keyup":return Qj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gh=!1;function e4(n,e){switch(n){case"compositionend":return fN(e);case"keypress":return e.which!==32?null:(EM=!0,xM);case"textInput":return n=e.data,n===xM&&EM?null:n;default:return null}}function t4(n,e){if(Gh)return n==="compositionend"||!JT&&dN(n,e)?(n=cN(),rw=YT=El=null,Gh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hN&&e.locale!=="ko"?null:e.data;default:return null}}var n4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!n4[n.type]:e==="textarea"}function pN(n,e,t,i){W2(i),e=__(e,"onChange"),0<e.length&&(t=new XT("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var kg=null,nm=null;function i4(n){EN(n,0)}function Ib(n){var e=Zh(n);if($2(e))return n}function s4(n,e){if(n==="change")return e}var gN=!1;if(da){var q1;if(da){var K1="oninput"in document;if(!K1){var CM=document.createElement("div");CM.setAttribute("oninput","return;"),K1=typeof CM.oninput=="function"}q1=K1}else q1=!1;gN=q1&&(!document.documentMode||9<document.documentMode)}function TM(){kg&&(kg.detachEvent("onpropertychange",mN),nm=kg=null)}function mN(n){if(n.propertyName==="value"&&Ib(nm)){var e=[];pN(e,nm,n,WT(n)),Z2(i4,e)}}function r4(n,e,t){n==="focusin"?(TM(),kg=e,nm=t,kg.attachEvent("onpropertychange",mN)):n==="focusout"&&TM()}function o4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ib(nm)}function a4(n,e){if(n==="click")return Ib(e)}function l4(n,e){if(n==="input"||n==="change")return Ib(e)}function u4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var gr=typeof Object.is=="function"?Object.is:u4;function im(n,e){if(gr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var s=t[i];if(!vA.call(e,s)||!gr(n[s],e[s]))return!1}return!0}function kM(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function RM(n,e){var t=kM(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=kM(t)}}function vN(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?vN(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function yN(){for(var n=window,e=f_();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=f_(n.document)}return e}function ek(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function c4(n){var e=yN(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&vN(t.ownerDocument.documentElement,t)){if(i!==null&&ek(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=RM(t,r);var o=RM(t,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var h4=da&&"documentMode"in document&&11>=document.documentMode,qh=null,NA=null,Rg=null,FA=!1;function MM(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;FA||qh==null||qh!==f_(i)||(i=qh,"selectionStart"in i&&ek(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Rg&&im(Rg,i)||(Rg=i,i=__(NA,"onSelect"),0<i.length&&(e=new XT("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=qh)))}function c0(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Kh={animationend:c0("Animation","AnimationEnd"),animationiteration:c0("Animation","AnimationIteration"),animationstart:c0("Animation","AnimationStart"),transitionend:c0("Transition","TransitionEnd")},Z1={},wN={};da&&(wN=document.createElement("div").style,"AnimationEvent"in window||(delete Kh.animationend.animation,delete Kh.animationiteration.animation,delete Kh.animationstart.animation),"TransitionEvent"in window||delete Kh.transitionend.transition);function Lb(n){if(Z1[n])return Z1[n];if(!Kh[n])return n;var e=Kh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in wN)return Z1[n]=e[t];return n}var _N=Lb("animationend"),bN=Lb("animationiteration"),SN=Lb("animationstart"),AN=Lb("transitionend"),xN=new Map,IM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zl(n,e){xN.set(n,e),ch(e,[n])}for(var Y1=0;Y1<IM.length;Y1++){var X1=IM[Y1],d4=X1.toLowerCase(),f4=X1[0].toUpperCase()+X1.slice(1);Zl(d4,"on"+f4)}Zl(_N,"onAnimationEnd");Zl(bN,"onAnimationIteration");Zl(SN,"onAnimationStart");Zl("dblclick","onDoubleClick");Zl("focusin","onFocus");Zl("focusout","onBlur");Zl(AN,"onTransitionEnd");Zf("onMouseEnter",["mouseout","mouseover"]);Zf("onMouseLeave",["mouseout","mouseover"]);Zf("onPointerEnter",["pointerout","pointerover"]);Zf("onPointerLeave",["pointerout","pointerover"]);ch("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ch("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ch("onBeforeInput",["compositionend","keypress","textInput","paste"]);ch("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jp));function LM(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,dj(i,e,void 0,n),n.currentTarget=null}function EN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;LM(s,a,u),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;LM(s,a,u),r=l}}}if(g_)throw n=IA,g_=!1,IA=null,n}function tt(n,e){var t=e[VA];t===void 0&&(t=e[VA]=new Set);var i=n+"__bubble";t.has(i)||(PN(e,n,2,!1),t.add(i))}function Q1(n,e,t){var i=0;e&&(i|=4),PN(t,n,i,e)}var h0="_reactListening"+Math.random().toString(36).slice(2);function sm(n){if(!n[h0]){n[h0]=!0,L2.forEach(function(t){t!=="selectionchange"&&(p4.has(t)||Q1(t,!1,n),Q1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[h0]||(e[h0]=!0,Q1("selectionchange",!1,e))}}function PN(n,e,t,i){switch(uN(e)){case 1:var s=Tj;break;case 4:s=kj;break;default:s=ZT}t=s.bind(null,e,t,n),s=void 0,!MA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function J1(n,e,t,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Eu(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}Z2(function(){var u=r,c=WT(t),d=[];e:{var f=xN.get(n);if(f!==void 0){var p=XT,m=n;switch(n){case"keypress":if(ow(t)===0)break e;case"keydown":case"keyup":p=Hj;break;case"focusin":m="focus",p=G1;break;case"focusout":m="blur",p=G1;break;case"beforeblur":case"afterblur":p=G1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qj;break;case _N:case bN:case SN:p=Oj;break;case AN:p=Zj;break;case"scroll":p=Rj;break;case"wheel":p=Xj;break;case"copy":case"cut":case"paste":p=Fj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=AM}var g=(e&4)!==0,w=!g&&n==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,_;y!==null;){_=y;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,v!==null&&(A=Qg(y,v),A!=null&&g.push(rm(y,A,_)))),w)break;y=y.return}0<g.length&&(f=new p(f,m,null,t,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==kA&&(m=t.relatedTarget||t.fromElement)&&(Eu(m)||m[fa]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=u,m=m?Eu(m):null,m!==null&&(w=hh(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=bM,A="onMouseLeave",v="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(g=AM,A="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?f:Zh(p),_=m==null?f:Zh(m),f=new g(A,y+"leave",p,t,c),f.target=w,f.relatedTarget=_,A=null,Eu(c)===u&&(g=new g(v,y+"enter",m,t,c),g.target=_,g.relatedTarget=w,A=g),w=A,p&&m)t:{for(g=p,v=m,y=0,_=g;_;_=Ch(_))y++;for(_=0,A=v;A;A=Ch(A))_++;for(;0<y-_;)g=Ch(g),y--;for(;0<_-y;)v=Ch(v),_--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ch(g),v=Ch(v)}g=null}else g=null;p!==null&&DM(d,f,p,g,!1),m!==null&&w!==null&&DM(d,w,m,g,!0)}}e:{if(f=u?Zh(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=s4;else if(PM(f))if(gN)E=l4;else{E=o4;var C=r4}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=a4);if(E&&(E=E(n,u))){pN(d,E,t,c);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&xA(f,"number",f.value)}switch(C=u?Zh(u):window,n){case"focusin":(PM(C)||C.contentEditable==="true")&&(qh=C,NA=u,Rg=null);break;case"focusout":Rg=NA=qh=null;break;case"mousedown":FA=!0;break;case"contextmenu":case"mouseup":case"dragend":FA=!1,MM(d,t,c);break;case"selectionchange":if(h4)break;case"keydown":case"keyup":MM(d,t,c)}var T;if(JT)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gh?dN(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(hN&&t.locale!=="ko"&&(Gh||k!=="onCompositionStart"?k==="onCompositionEnd"&&Gh&&(T=cN()):(El=c,YT="value"in El?El.value:El.textContent,Gh=!0)),C=__(u,k),0<C.length&&(k=new SM(k,n,null,t,c),d.push({event:k,listeners:C}),T?k.data=T:(T=fN(t),T!==null&&(k.data=T)))),(T=Jj?e4(n,t):t4(n,t))&&(u=__(u,"onBeforeInput"),0<u.length&&(c=new SM("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=T))}EN(d,e)})}function rm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function __(n,e){for(var t=e+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Qg(n,t),r!=null&&i.unshift(rm(n,r,s)),r=Qg(n,e),r!=null&&i.push(rm(n,r,s))),n=n.return}return i}function Ch(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function DM(n,e,t,i,s){for(var r=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,s?(l=Qg(t,r),l!=null&&o.unshift(rm(t,l,a))):s||(l=Qg(t,r),l!=null&&o.push(rm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var g4=/\r\n?/g,m4=/\u0000|\uFFFD/g;function OM(n){return(typeof n=="string"?n:""+n).replace(g4,`
`).replace(m4,"")}function d0(n,e,t){if(e=OM(e),OM(n)!==e&&t)throw Error(U(425))}function b_(){}var $A=null,BA=null;function zA(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var UA=typeof setTimeout=="function"?setTimeout:void 0,v4=typeof clearTimeout=="function"?clearTimeout:void 0,NM=typeof Promise=="function"?Promise:void 0,y4=typeof queueMicrotask=="function"?queueMicrotask:typeof NM<"u"?function(n){return NM.resolve(null).then(n).catch(w4)}:UA;function w4(n){setTimeout(function(){throw n})}function eS(n,e){var t=e,i=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(i===0){n.removeChild(s),tm(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=s}while(t);tm(e)}function Ll(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function FM(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var wp=Math.random().toString(36).slice(2),Jr="__reactFiber$"+wp,om="__reactProps$"+wp,fa="__reactContainer$"+wp,VA="__reactEvents$"+wp,_4="__reactListeners$"+wp,b4="__reactHandles$"+wp;function Eu(n){var e=n[Jr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[fa]||t[Jr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=FM(n);n!==null;){if(t=n[Jr])return t;n=FM(n)}return e}n=t,t=n.parentNode}return null}function Ty(n){return n=n[Jr]||n[fa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Zh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(U(33))}function Db(n){return n[om]||null}var jA=[],Yh=-1;function Yl(n){return{current:n}}function it(n){0>Yh||(n.current=jA[Yh],jA[Yh]=null,Yh--)}function et(n,e){Yh++,jA[Yh]=n.current,n.current=e}var Ul={},Bn=Yl(Ul),Ai=Yl(!1),Qc=Ul;function Yf(n,e){var t=n.type.contextTypes;if(!t)return Ul;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in t)s[r]=e[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function xi(n){return n=n.childContextTypes,n!=null}function S_(){it(Ai),it(Bn)}function $M(n,e,t){if(Bn.current!==Ul)throw Error(U(168));et(Bn,e),et(Ai,t)}function CN(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(U(108,rj(n)||"Unknown",s));return bt({},t,i)}function A_(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ul,Qc=Bn.current,et(Bn,n),et(Ai,Ai.current),!0}function BM(n,e,t){var i=n.stateNode;if(!i)throw Error(U(169));t?(n=CN(n,e,Qc),i.__reactInternalMemoizedMergedChildContext=n,it(Ai),it(Bn),et(Bn,n)):it(Ai),et(Ai,t)}var xo=null,Ob=!1,tS=!1;function TN(n){xo===null?xo=[n]:xo.push(n)}function S4(n){Ob=!0,TN(n)}function Xl(){if(!tS&&xo!==null){tS=!0;var n=0,e=We;try{var t=xo;for(We=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}xo=null,Ob=!1}catch(s){throw xo!==null&&(xo=xo.slice(n+1)),J2(GT,Xl),s}finally{We=e,tS=!1}}return null}var Xh=[],Qh=0,x_=null,E_=0,As=[],xs=0,Jc=null,ta=1,na="";function uu(n,e){Xh[Qh++]=E_,Xh[Qh++]=x_,x_=n,E_=e}function kN(n,e,t){As[xs++]=ta,As[xs++]=na,As[xs++]=Jc,Jc=n;var i=ta;n=na;var s=32-hr(i)-1;i&=~(1<<s),t+=1;var r=32-hr(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,ta=1<<32-hr(e)+s|t<<s|i,na=r+n}else ta=1<<r|t<<s|i,na=n}function tk(n){n.return!==null&&(uu(n,1),kN(n,1,0))}function nk(n){for(;n===x_;)x_=Xh[--Qh],Xh[Qh]=null,E_=Xh[--Qh],Xh[Qh]=null;for(;n===Jc;)Jc=As[--xs],As[xs]=null,na=As[--xs],As[xs]=null,ta=As[--xs],As[xs]=null}var Zi=null,Gi=null,dt=!1,or=null;function RN(n,e){var t=Ts(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function zM(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Zi=n,Gi=Ll(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Zi=n,Gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Jc!==null?{id:ta,overflow:na}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ts(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Zi=n,Gi=null,!0):!1;default:return!1}}function HA(n){return(n.mode&1)!==0&&(n.flags&128)===0}function WA(n){if(dt){var e=Gi;if(e){var t=e;if(!zM(n,e)){if(HA(n))throw Error(U(418));e=Ll(t.nextSibling);var i=Zi;e&&zM(n,e)?RN(i,t):(n.flags=n.flags&-4097|2,dt=!1,Zi=n)}}else{if(HA(n))throw Error(U(418));n.flags=n.flags&-4097|2,dt=!1,Zi=n}}}function UM(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Zi=n}function f0(n){if(n!==Zi)return!1;if(!dt)return UM(n),dt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!zA(n.type,n.memoizedProps)),e&&(e=Gi)){if(HA(n))throw MN(),Error(U(418));for(;e;)RN(n,e),e=Ll(e.nextSibling)}if(UM(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(U(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Gi=Ll(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Gi=null}}else Gi=Zi?Ll(n.stateNode.nextSibling):null;return!0}function MN(){for(var n=Gi;n;)n=Ll(n.nextSibling)}function Xf(){Gi=Zi=null,dt=!1}function ik(n){or===null?or=[n]:or.push(n)}var A4=ya.ReactCurrentBatchConfig;function Np(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(U(309));var i=t.stateNode}if(!i)throw Error(U(147,n));var s=i,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof n!="string")throw Error(U(284));if(!t._owner)throw Error(U(290,n))}return n}function p0(n,e){throw n=Object.prototype.toString.call(e),Error(U(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function VM(n){var e=n._init;return e(n._payload)}function IN(n){function e(v,y){if(n){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function t(v,y){if(!n)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Fl(v,y),v.index=0,v.sibling=null,v}function r(v,y,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,y,_,A){return y===null||y.tag!==6?(y=lS(_,v.mode,A),y.return=v,y):(y=s(y,_),y.return=v,y)}function l(v,y,_,A){var E=_.type;return E===Wh?c(v,y,_.props.children,A,_.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pa&&VM(E)===y.type)?(A=s(y,_.props),A.ref=Np(v,y,_),A.return=v,A):(A=fw(_.type,_.key,_.props,null,v.mode,A),A.ref=Np(v,y,_),A.return=v,A)}function u(v,y,_,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=uS(_,v.mode,A),y.return=v,y):(y=s(y,_.children||[]),y.return=v,y)}function c(v,y,_,A,E){return y===null||y.tag!==7?(y=Kc(_,v.mode,A,E),y.return=v,y):(y=s(y,_),y.return=v,y)}function d(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lS(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case i0:return _=fw(y.type,y.key,y.props,null,v.mode,_),_.ref=Np(v,null,y),_.return=v,_;case Hh:return y=uS(y,v.mode,_),y.return=v,y;case Pa:var A=y._init;return d(v,A(y._payload),_)}if(Xp(y)||Mp(y))return y=Kc(y,v.mode,_,null),y.return=v,y;p0(v,y)}return null}function f(v,y,_,A){var E=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(v,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case i0:return _.key===E?l(v,y,_,A):null;case Hh:return _.key===E?u(v,y,_,A):null;case Pa:return E=_._init,f(v,y,E(_._payload),A)}if(Xp(_)||Mp(_))return E!==null?null:c(v,y,_,A,null);p0(v,_)}return null}function p(v,y,_,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(_)||null,a(y,v,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case i0:return v=v.get(A.key===null?_:A.key)||null,l(y,v,A,E);case Hh:return v=v.get(A.key===null?_:A.key)||null,u(y,v,A,E);case Pa:var C=A._init;return p(v,y,_,C(A._payload),E)}if(Xp(A)||Mp(A))return v=v.get(_)||null,c(y,v,A,E,null);p0(y,A)}return null}function m(v,y,_,A){for(var E=null,C=null,T=y,k=y=0,P=null;T!==null&&k<_.length;k++){T.index>k?(P=T,T=null):P=T.sibling;var M=f(v,T,_[k],A);if(M===null){T===null&&(T=P);break}n&&T&&M.alternate===null&&e(v,T),y=r(M,y,k),C===null?E=M:C.sibling=M,C=M,T=P}if(k===_.length)return t(v,T),dt&&uu(v,k),E;if(T===null){for(;k<_.length;k++)T=d(v,_[k],A),T!==null&&(y=r(T,y,k),C===null?E=T:C.sibling=T,C=T);return dt&&uu(v,k),E}for(T=i(v,T);k<_.length;k++)P=p(T,v,k,_[k],A),P!==null&&(n&&P.alternate!==null&&T.delete(P.key===null?k:P.key),y=r(P,y,k),C===null?E=P:C.sibling=P,C=P);return n&&T.forEach(function(D){return e(v,D)}),dt&&uu(v,k),E}function g(v,y,_,A){var E=Mp(_);if(typeof E!="function")throw Error(U(150));if(_=E.call(_),_==null)throw Error(U(151));for(var C=E=null,T=y,k=y=0,P=null,M=_.next();T!==null&&!M.done;k++,M=_.next()){T.index>k?(P=T,T=null):P=T.sibling;var D=f(v,T,M.value,A);if(D===null){T===null&&(T=P);break}n&&T&&D.alternate===null&&e(v,T),y=r(D,y,k),C===null?E=D:C.sibling=D,C=D,T=P}if(M.done)return t(v,T),dt&&uu(v,k),E;if(T===null){for(;!M.done;k++,M=_.next())M=d(v,M.value,A),M!==null&&(y=r(M,y,k),C===null?E=M:C.sibling=M,C=M);return dt&&uu(v,k),E}for(T=i(v,T);!M.done;k++,M=_.next())M=p(T,v,k,M.value,A),M!==null&&(n&&M.alternate!==null&&T.delete(M.key===null?k:M.key),y=r(M,y,k),C===null?E=M:C.sibling=M,C=M);return n&&T.forEach(function(H){return e(v,H)}),dt&&uu(v,k),E}function w(v,y,_,A){if(typeof _=="object"&&_!==null&&_.type===Wh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case i0:e:{for(var E=_.key,C=y;C!==null;){if(C.key===E){if(E=_.type,E===Wh){if(C.tag===7){t(v,C.sibling),y=s(C,_.props.children),y.return=v,v=y;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pa&&VM(E)===C.type){t(v,C.sibling),y=s(C,_.props),y.ref=Np(v,C,_),y.return=v,v=y;break e}t(v,C);break}else e(v,C);C=C.sibling}_.type===Wh?(y=Kc(_.props.children,v.mode,A,_.key),y.return=v,v=y):(A=fw(_.type,_.key,_.props,null,v.mode,A),A.ref=Np(v,y,_),A.return=v,v=A)}return o(v);case Hh:e:{for(C=_.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){t(v,y.sibling),y=s(y,_.children||[]),y.return=v,v=y;break e}else{t(v,y);break}else e(v,y);y=y.sibling}y=uS(_,v.mode,A),y.return=v,v=y}return o(v);case Pa:return C=_._init,w(v,y,C(_._payload),A)}if(Xp(_))return m(v,y,_,A);if(Mp(_))return g(v,y,_,A);p0(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(t(v,y.sibling),y=s(y,_),y.return=v,v=y):(t(v,y),y=lS(_,v.mode,A),y.return=v,v=y),o(v)):t(v,y)}return w}var Qf=IN(!0),LN=IN(!1),P_=Yl(null),C_=null,Jh=null,sk=null;function rk(){sk=Jh=C_=null}function ok(n){var e=P_.current;it(P_),n._currentValue=e}function GA(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function md(n,e){C_=n,sk=Jh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Si=!0),n.firstContext=null)}function Is(n){var e=n._currentValue;if(sk!==n)if(n={context:n,memoizedValue:e,next:null},Jh===null){if(C_===null)throw Error(U(308));Jh=n,C_.dependencies={lanes:0,firstContext:n}}else Jh=Jh.next=n;return e}var Pu=null;function ak(n){Pu===null?Pu=[n]:Pu.push(n)}function DN(n,e,t,i){var s=e.interleaved;return s===null?(t.next=t,ak(e)):(t.next=s.next,s.next=t),e.interleaved=t,pa(n,i)}function pa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ca=!1;function lk(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ON(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function sa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ne&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,pa(n,t)}return s=i.interleaved,s===null?(e.next=e,ak(i)):(e.next=s.next,s.next=e),i.interleaved=e,pa(n,t)}function aw(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,qT(n,t)}}function jM(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?s=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?s=r=e:r=r.next=e}else s=r=e;t={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function T_(n,e,t,i){var s=n.updateQueue;Ca=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?r=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(r!==null){var d=s.baseState;o=0,c=u=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(f=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=bt({},d,f);break e;case 2:Ca=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);th|=o,n.lanes=o,n.memoizedState=d}}function HM(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=t,typeof s!="function")throw Error(U(191,s));s.call(i)}}}var ky={},io=Yl(ky),am=Yl(ky),lm=Yl(ky);function Cu(n){if(n===ky)throw Error(U(174));return n}function uk(n,e){switch(et(lm,e),et(am,n),et(io,ky),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:PA(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=PA(e,n)}it(io),et(io,e)}function Jf(){it(io),it(am),it(lm)}function NN(n){Cu(lm.current);var e=Cu(io.current),t=PA(e,n.type);e!==t&&(et(am,n),et(io,t))}function ck(n){am.current===n&&(it(io),it(am))}var mt=Yl(0);function k_(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nS=[];function hk(){for(var n=0;n<nS.length;n++)nS[n]._workInProgressVersionPrimary=null;nS.length=0}var lw=ya.ReactCurrentDispatcher,iS=ya.ReactCurrentBatchConfig,eh=0,wt=null,Zt=null,on=null,R_=!1,Mg=!1,um=0,x4=0;function xn(){throw Error(U(321))}function dk(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!gr(n[t],e[t]))return!1;return!0}function fk(n,e,t,i,s,r){if(eh=r,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lw.current=n===null||n.memoizedState===null?T4:k4,n=t(i,s),Mg){r=0;do{if(Mg=!1,um=0,25<=r)throw Error(U(301));r+=1,on=Zt=null,e.updateQueue=null,lw.current=R4,n=t(i,s)}while(Mg)}if(lw.current=M_,e=Zt!==null&&Zt.next!==null,eh=0,on=Zt=wt=null,R_=!1,e)throw Error(U(300));return n}function pk(){var n=um!==0;return um=0,n}function Er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?wt.memoizedState=on=n:on=on.next=n,on}function Ls(){if(Zt===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var e=on===null?wt.memoizedState:on.next;if(e!==null)on=e,Zt=n;else{if(n===null)throw Error(U(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},on===null?wt.memoizedState=on=n:on=on.next=n}return on}function cm(n,e){return typeof e=="function"?e(n):e}function sS(n){var e=Ls(),t=e.queue;if(t===null)throw Error(U(311));t.lastRenderedReducer=n;var i=Zt,s=i.baseQueue,r=t.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,t.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,u=r;do{var c=u.lane;if((eh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,wt.lanes|=c,th|=c}u=u.next}while(u!==null&&u!==r);l===null?o=i:l.next=a,gr(i,e.memoizedState)||(Si=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){s=n;do r=s.lane,wt.lanes|=r,th|=r,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function rS(n){var e=Ls(),t=e.queue;if(t===null)throw Error(U(311));t.lastRenderedReducer=n;var i=t.dispatch,s=t.pending,r=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);gr(r,e.memoizedState)||(Si=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,i]}function FN(){}function $N(n,e){var t=wt,i=Ls(),s=e(),r=!gr(i.memoizedState,s);if(r&&(i.memoizedState=s,Si=!0),i=i.queue,gk(UN.bind(null,t,i,n),[n]),i.getSnapshot!==e||r||on!==null&&on.memoizedState.tag&1){if(t.flags|=2048,hm(9,zN.bind(null,t,i,s,e),void 0,null),ln===null)throw Error(U(349));eh&30||BN(t,e,s)}return s}function BN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function zN(n,e,t,i){e.value=t,e.getSnapshot=i,VN(e)&&jN(n)}function UN(n,e,t){return t(function(){VN(e)&&jN(n)})}function VN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!gr(n,t)}catch{return!0}}function jN(n){var e=pa(n,1);e!==null&&dr(e,n,1,-1)}function WM(n){var e=Er();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cm,lastRenderedState:n},e.queue=n,n=n.dispatch=C4.bind(null,wt,n),[e.memoizedState,n]}function hm(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function HN(){return Ls().memoizedState}function uw(n,e,t,i){var s=Er();wt.flags|=n,s.memoizedState=hm(1|e,t,void 0,i===void 0?null:i)}function Nb(n,e,t,i){var s=Ls();i=i===void 0?null:i;var r=void 0;if(Zt!==null){var o=Zt.memoizedState;if(r=o.destroy,i!==null&&dk(i,o.deps)){s.memoizedState=hm(e,t,r,i);return}}wt.flags|=n,s.memoizedState=hm(1|e,t,r,i)}function GM(n,e){return uw(8390656,8,n,e)}function gk(n,e){return Nb(2048,8,n,e)}function WN(n,e){return Nb(4,2,n,e)}function GN(n,e){return Nb(4,4,n,e)}function qN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function KN(n,e,t){return t=t!=null?t.concat([n]):null,Nb(4,4,qN.bind(null,e,n),t)}function mk(){}function ZN(n,e){var t=Ls();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&dk(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function YN(n,e){var t=Ls();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&dk(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function XN(n,e,t){return eh&21?(gr(t,e)||(t=nN(),wt.lanes|=t,th|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Si=!0),n.memoizedState=t)}function E4(n,e){var t=We;We=t!==0&&4>t?t:4,n(!0);var i=iS.transition;iS.transition={};try{n(!1),e()}finally{We=t,iS.transition=i}}function QN(){return Ls().memoizedState}function P4(n,e,t){var i=Nl(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},JN(n))eF(e,t);else if(t=DN(n,e,t,i),t!==null){var s=ei();dr(t,n,i,s),tF(t,e,i)}}function C4(n,e,t){var i=Nl(n),s={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(JN(n))eF(e,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,t);if(s.hasEagerState=!0,s.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(s.next=s,ak(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=DN(n,e,s,i),t!==null&&(s=ei(),dr(t,n,i,s),tF(t,e,i))}}function JN(n){var e=n.alternate;return n===wt||e!==null&&e===wt}function eF(n,e){Mg=R_=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function tF(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,qT(n,t)}}var M_={readContext:Is,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},T4={readContext:Is,useCallback:function(n,e){return Er().memoizedState=[n,e===void 0?null:e],n},useContext:Is,useEffect:GM,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,uw(4194308,4,qN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return uw(4194308,4,n,e)},useInsertionEffect:function(n,e){return uw(4,2,n,e)},useMemo:function(n,e){var t=Er();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Er();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=P4.bind(null,wt,n),[i.memoizedState,n]},useRef:function(n){var e=Er();return n={current:n},e.memoizedState=n},useState:WM,useDebugValue:mk,useDeferredValue:function(n){return Er().memoizedState=n},useTransition:function(){var n=WM(!1),e=n[0];return n=E4.bind(null,n[1]),Er().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=wt,s=Er();if(dt){if(t===void 0)throw Error(U(407));t=t()}else{if(t=e(),ln===null)throw Error(U(349));eh&30||BN(i,e,t)}s.memoizedState=t;var r={value:t,getSnapshot:e};return s.queue=r,GM(UN.bind(null,i,r,n),[n]),i.flags|=2048,hm(9,zN.bind(null,i,r,t,e),void 0,null),t},useId:function(){var n=Er(),e=ln.identifierPrefix;if(dt){var t=na,i=ta;t=(i&~(1<<32-hr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=um++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=x4++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},k4={readContext:Is,useCallback:ZN,useContext:Is,useEffect:gk,useImperativeHandle:KN,useInsertionEffect:WN,useLayoutEffect:GN,useMemo:YN,useReducer:sS,useRef:HN,useState:function(){return sS(cm)},useDebugValue:mk,useDeferredValue:function(n){var e=Ls();return XN(e,Zt.memoizedState,n)},useTransition:function(){var n=sS(cm)[0],e=Ls().memoizedState;return[n,e]},useMutableSource:FN,useSyncExternalStore:$N,useId:QN,unstable_isNewReconciler:!1},R4={readContext:Is,useCallback:ZN,useContext:Is,useEffect:gk,useImperativeHandle:KN,useInsertionEffect:WN,useLayoutEffect:GN,useMemo:YN,useReducer:rS,useRef:HN,useState:function(){return rS(cm)},useDebugValue:mk,useDeferredValue:function(n){var e=Ls();return Zt===null?e.memoizedState=n:XN(e,Zt.memoizedState,n)},useTransition:function(){var n=rS(cm)[0],e=Ls().memoizedState;return[n,e]},useMutableSource:FN,useSyncExternalStore:$N,useId:QN,unstable_isNewReconciler:!1};function Us(n,e){if(n&&n.defaultProps){e=bt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function qA(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:bt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Fb={isMounted:function(n){return(n=n._reactInternals)?hh(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ei(),s=Nl(n),r=sa(i,s);r.payload=e,t!=null&&(r.callback=t),e=Dl(n,r,s),e!==null&&(dr(e,n,s,i),aw(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ei(),s=Nl(n),r=sa(i,s);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Dl(n,r,s),e!==null&&(dr(e,n,s,i),aw(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ei(),i=Nl(n),s=sa(t,i);s.tag=2,e!=null&&(s.callback=e),e=Dl(n,s,i),e!==null&&(dr(e,n,i,t),aw(e,n,i))}};function qM(n,e,t,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!im(t,i)||!im(s,r):!0}function nF(n,e,t){var i=!1,s=Ul,r=e.contextType;return typeof r=="object"&&r!==null?r=Is(r):(s=xi(e)?Qc:Bn.current,i=e.contextTypes,r=(i=i!=null)?Yf(n,s):Ul),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fb,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),e}function KM(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Fb.enqueueReplaceState(e,e.state,null)}function KA(n,e,t,i){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},lk(n);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Is(r):(r=xi(e)?Qc:Bn.current,s.context=Yf(n,r)),s.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(qA(n,e,r,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fb.enqueueReplaceState(s,s.state,null),T_(n,t,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function ep(n,e){try{var t="",i=e;do t+=sj(i),i=i.return;while(i);var s=t}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:s,digest:null}}function oS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function ZA(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var M4=typeof WeakMap=="function"?WeakMap:Map;function iF(n,e,t){t=sa(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){L_||(L_=!0,rx=i),ZA(n,e)},t}function sF(n,e,t){t=sa(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;t.payload=function(){return i(s)},t.callback=function(){ZA(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){ZA(n,e),typeof i!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function ZM(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new M4;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(t)||(s.add(t),n=W4.bind(null,n,e,t),e.then(n,n))}function YM(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function XM(n,e,t,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=sa(-1,1),e.tag=2,Dl(t,e,1))),t.lanes|=1),n)}var I4=ya.ReactCurrentOwner,Si=!1;function Yn(n,e,t,i){e.child=n===null?LN(e,null,t,i):Qf(e,n.child,t,i)}function QM(n,e,t,i,s){t=t.render;var r=e.ref;return md(e,s),i=fk(n,e,t,i,r,s),t=pk(),n!==null&&!Si?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ga(n,e,s)):(dt&&t&&tk(e),e.flags|=1,Yn(n,e,i,s),e.child)}function JM(n,e,t,i,s){if(n===null){var r=t.type;return typeof r=="function"&&!xk(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,rF(n,e,r,i,s)):(n=fw(t.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:im,t(o,i)&&n.ref===e.ref)return ga(n,e,s)}return e.flags|=1,n=Fl(r,i),n.ref=e.ref,n.return=e,e.child=n}function rF(n,e,t,i,s){if(n!==null){var r=n.memoizedProps;if(im(r,i)&&n.ref===e.ref)if(Si=!1,e.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(Si=!0);else return e.lanes=n.lanes,ga(n,e,s)}return YA(n,e,t,i,s)}function oF(n,e,t){var i=e.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(td,Hi),Hi|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,et(td,Hi),Hi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,et(td,Hi),Hi|=i}else r!==null?(i=r.baseLanes|t,e.memoizedState=null):i=t,et(td,Hi),Hi|=i;return Yn(n,e,s,t),e.child}function aF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function YA(n,e,t,i,s){var r=xi(t)?Qc:Bn.current;return r=Yf(e,r),md(e,s),t=fk(n,e,t,i,r,s),i=pk(),n!==null&&!Si?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ga(n,e,s)):(dt&&i&&tk(e),e.flags|=1,Yn(n,e,t,s),e.child)}function eI(n,e,t,i,s){if(xi(t)){var r=!0;A_(e)}else r=!1;if(md(e,s),e.stateNode===null)cw(n,e),nF(e,t,i),KA(e,t,i,s),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Is(u):(u=xi(t)?Qc:Bn.current,u=Yf(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&KM(e,o,i,u),Ca=!1;var f=e.memoizedState;o.state=f,T_(e,i,o,s),l=e.memoizedState,a!==i||f!==l||Ai.current||Ca?(typeof c=="function"&&(qA(e,t,c,i),l=e.memoizedState),(a=Ca||qM(e,t,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,ON(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Us(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Is(l):(l=xi(t)?Qc:Bn.current,l=Yf(e,l));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&KM(e,o,i,l),Ca=!1,f=e.memoizedState,o.state=f,T_(e,i,o,s);var m=e.memoizedState;a!==d||f!==m||Ai.current||Ca?(typeof p=="function"&&(qA(e,t,p,i),m=e.memoizedState),(u=Ca||qM(e,t,u,i,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return XA(n,e,t,i,r,s)}function XA(n,e,t,i,s,r){aF(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&BM(e,t,!1),ga(n,e,r);i=e.stateNode,I4.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Qf(e,n.child,null,r),e.child=Qf(e,null,a,r)):Yn(n,e,a,r),e.memoizedState=i.state,s&&BM(e,t,!0),e.child}function lF(n){var e=n.stateNode;e.pendingContext?$M(n,e.pendingContext,e.pendingContext!==e.context):e.context&&$M(n,e.context,!1),uk(n,e.containerInfo)}function tI(n,e,t,i,s){return Xf(),ik(s),e.flags|=256,Yn(n,e,t,i),e.child}var QA={dehydrated:null,treeContext:null,retryLane:0};function JA(n){return{baseLanes:n,cachePool:null,transitions:null}}function uF(n,e,t){var i=e.pendingProps,s=mt.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),et(mt,s&1),n===null)return WA(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=zb(o,i,0,null),n=Kc(n,i,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=JA(t),e.memoizedState=QA,n):vk(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return L4(n,e,o,i,a,s,t);if(r){r=i.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Fl(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Fl(a,r):(r=Kc(r,o,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=n.child.memoizedState,o=o===null?JA(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~t,e.memoizedState=QA,i}return r=n.child,n=r.sibling,i=Fl(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function vk(n,e){return e=zb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function g0(n,e,t,i){return i!==null&&ik(i),Qf(e,n.child,null,t),n=vk(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function L4(n,e,t,i,s,r,o){if(t)return e.flags&256?(e.flags&=-257,i=oS(Error(U(422))),g0(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=zb({mode:"visible",children:i.children},s,0,null),r=Kc(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Qf(e,n.child,null,o),e.child.memoizedState=JA(o),e.memoizedState=QA,r);if(!(e.mode&1))return g0(n,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(U(419)),i=oS(r,i,void 0),g0(n,e,o,i)}if(a=(o&n.childLanes)!==0,Si||a){if(i=ln,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,pa(n,s),dr(i,n,s,-1))}return Ak(),i=oS(Error(U(421))),g0(n,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=G4.bind(null,n),s._reactRetry=e,null):(n=r.treeContext,Gi=Ll(s.nextSibling),Zi=e,dt=!0,or=null,n!==null&&(As[xs++]=ta,As[xs++]=na,As[xs++]=Jc,ta=n.id,na=n.overflow,Jc=e),e=vk(e,i.children),e.flags|=4096,e)}function nI(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),GA(n.return,e,t)}function aS(n,e,t,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=s)}function cF(n,e,t){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Yn(n,e,i.children,t),i=mt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nI(n,t,e);else if(n.tag===19)nI(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(et(mt,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&k_(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),aS(e,!1,s,t,r);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&k_(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}aS(e,!0,t,null,r);break;case"together":aS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cw(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ga(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),th|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(U(153));if(e.child!==null){for(n=e.child,t=Fl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Fl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function D4(n,e,t){switch(e.tag){case 3:lF(e),Xf();break;case 5:NN(e);break;case 1:xi(e.type)&&A_(e);break;case 4:uk(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;et(P_,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(et(mt,mt.current&1),e.flags|=128,null):t&e.child.childLanes?uF(n,e,t):(et(mt,mt.current&1),n=ga(n,e,t),n!==null?n.sibling:null);et(mt,mt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return cF(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),et(mt,mt.current),i)break;return null;case 22:case 23:return e.lanes=0,oF(n,e,t)}return ga(n,e,t)}var hF,ex,dF,fF;hF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ex=function(){};dF=function(n,e,t,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Cu(io.current);var r=null;switch(t){case"input":s=SA(n,s),i=SA(n,i),r=[];break;case"select":s=bt({},s,{value:void 0}),i=bt({},i,{value:void 0}),r=[];break;case"textarea":s=EA(n,s),i=EA(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=b_)}CA(t,i);var o;t=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yg.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var l=i[u];if(a=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(r||(r=[]),r.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",n),r||a===l||(r=[])):(r=r||[]).push(u,l))}t&&(r=r||[]).push("style",t);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};fF=function(n,e,t,i){t!==i&&(e.flags|=4)};function Fp(n,e){if(!dt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function En(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function O4(n,e,t){var i=e.pendingProps;switch(nk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return xi(e.type)&&S_(),En(e),null;case 3:return i=e.stateNode,Jf(),it(Ai),it(Bn),hk(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(f0(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(lx(or),or=null))),ex(n,e),En(e),null;case 5:ck(e);var s=Cu(lm.current);if(t=e.type,n!==null&&e.stateNode!=null)dF(n,e,t,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return En(e),null}if(n=Cu(io.current),f0(e)){i=e.stateNode,t=e.type;var r=e.memoizedProps;switch(i[Jr]=e,i[om]=r,n=(e.mode&1)!==0,t){case"dialog":tt("cancel",i),tt("close",i);break;case"iframe":case"object":case"embed":tt("load",i);break;case"video":case"audio":for(s=0;s<Jp.length;s++)tt(Jp[s],i);break;case"source":tt("error",i);break;case"img":case"image":case"link":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"input":hM(i,r),tt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},tt("invalid",i);break;case"textarea":fM(i,r),tt("invalid",i)}CA(t,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&d0(i.textContent,a,n),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&d0(i.textContent,a,n),s=["children",""+a]):Yg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",i)}switch(t){case"input":s0(i),dM(i,r,!0);break;case"textarea":s0(i),pM(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=b_)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=U2(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Jr]=e,n[om]=i,hF(n,e,!1,!1),e.stateNode=n;e:{switch(o=TA(t,i),t){case"dialog":tt("cancel",n),tt("close",n),s=i;break;case"iframe":case"object":case"embed":tt("load",n),s=i;break;case"video":case"audio":for(s=0;s<Jp.length;s++)tt(Jp[s],n);s=i;break;case"source":tt("error",n),s=i;break;case"img":case"image":case"link":tt("error",n),tt("load",n),s=i;break;case"details":tt("toggle",n),s=i;break;case"input":hM(n,i),s=SA(n,i),tt("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=bt({},i,{value:void 0}),tt("invalid",n);break;case"textarea":fM(n,i),s=EA(n,i),tt("invalid",n);break;default:s=i}CA(t,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?H2(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V2(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Xg(n,l):typeof l=="number"&&Xg(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Yg.hasOwnProperty(r)?l!=null&&r==="onScroll"&&tt("scroll",n):l!=null&&UT(n,r,l,o))}switch(t){case"input":s0(n),dM(n,i,!1);break;case"textarea":s0(n),pM(n);break;case"option":i.value!=null&&n.setAttribute("value",""+zl(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?dd(n,!!i.multiple,r,!1):i.defaultValue!=null&&dd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=b_)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(n&&e.stateNode!=null)fF(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=Cu(lm.current),Cu(io.current),f0(e)){if(i=e.stateNode,t=e.memoizedProps,i[Jr]=e,(r=i.nodeValue!==t)&&(n=Zi,n!==null))switch(n.tag){case 3:d0(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&d0(i.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Jr]=e,e.stateNode=i}return En(e),null;case 13:if(it(mt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(dt&&Gi!==null&&e.mode&1&&!(e.flags&128))MN(),Xf(),e.flags|=98560,r=!1;else if(r=f0(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(U(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[Jr]=e}else Xf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),r=!1}else or!==null&&(lx(or),or=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||mt.current&1?Yt===0&&(Yt=3):Ak())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return Jf(),ex(n,e),n===null&&sm(e.stateNode.containerInfo),En(e),null;case 10:return ok(e.type._context),En(e),null;case 17:return xi(e.type)&&S_(),En(e),null;case 19:if(it(mt),r=e.memoizedState,r===null)return En(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Fp(r,!1);else{if(Yt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=k_(n),o!==null){for(e.flags|=128,Fp(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)r=t,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return et(mt,mt.current&1|2),e.child}n=n.sibling}r.tail!==null&&It()>tp&&(e.flags|=128,i=!0,Fp(r,!1),e.lanes=4194304)}else{if(!i)if(n=k_(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Fp(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!dt)return En(e),null}else 2*It()-r.renderingStartTime>tp&&t!==1073741824&&(e.flags|=128,i=!0,Fp(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=It(),e.sibling=null,t=mt.current,et(mt,i?t&1|2:t&1),e):(En(e),null);case 22:case 23:return Sk(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Hi&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function N4(n,e){switch(nk(e),e.tag){case 1:return xi(e.type)&&S_(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Jf(),it(Ai),it(Bn),hk(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ck(e),null;case 13:if(it(mt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Xf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return it(mt),null;case 4:return Jf(),null;case 10:return ok(e.type._context),null;case 22:case 23:return Sk(),null;case 24:return null;default:return null}}var m0=!1,On=!1,F4=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ed(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Tt(n,e,i)}else t.current=null}function tx(n,e,t){try{t()}catch(i){Tt(n,e,i)}}var iI=!1;function $4(n,e){if($A=y_,n=yN(),ek(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=n,f=null;t:for(;;){for(var p;d!==t||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===s&&(a=o),f===r&&++c===i&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(BA={focusedElem:n,selectionRange:t},y_=!1,ne=e;ne!==null;)if(e=ne,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ne=n;else for(;ne!==null;){e=ne;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Us(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(A){Tt(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}return m=iI,iI=!1,m}function Ig(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&tx(e,t,r)}s=s.next}while(s!==i)}}function $b(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function nx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function pF(n){var e=n.alternate;e!==null&&(n.alternate=null,pF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Jr],delete e[om],delete e[VA],delete e[_4],delete e[b4])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gF(n){return n.tag===5||n.tag===3||n.tag===4}function sI(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ix(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=b_));else if(i!==4&&(n=n.child,n!==null))for(ix(n,e,t),n=n.sibling;n!==null;)ix(n,e,t),n=n.sibling}function sx(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(sx(n,e,t),n=n.sibling;n!==null;)sx(n,e,t),n=n.sibling}var mn=null,sr=!1;function wa(n,e,t){for(t=t.child;t!==null;)mF(n,e,t),t=t.sibling}function mF(n,e,t){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(Rb,t)}catch{}switch(t.tag){case 5:On||ed(t,e);case 6:var i=mn,s=sr;mn=null,wa(n,e,t),mn=i,sr=s,mn!==null&&(sr?(n=mn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):mn.removeChild(t.stateNode));break;case 18:mn!==null&&(sr?(n=mn,t=t.stateNode,n.nodeType===8?eS(n.parentNode,t):n.nodeType===1&&eS(n,t),tm(n)):eS(mn,t.stateNode));break;case 4:i=mn,s=sr,mn=t.stateNode.containerInfo,sr=!0,wa(n,e,t),mn=i,sr=s;break;case 0:case 11:case 14:case 15:if(!On&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&tx(t,e,o),s=s.next}while(s!==i)}wa(n,e,t);break;case 1:if(!On&&(ed(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Tt(t,e,a)}wa(n,e,t);break;case 21:wa(n,e,t);break;case 22:t.mode&1?(On=(i=On)||t.memoizedState!==null,wa(n,e,t),On=i):wa(n,e,t);break;default:wa(n,e,t)}}function rI(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new F4),e.forEach(function(i){var s=q4.bind(null,n,i);t.has(i)||(t.add(i),i.then(s,s))})}}function Fs(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];try{var r=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mn=a.stateNode,sr=!1;break e;case 3:mn=a.stateNode.containerInfo,sr=!0;break e;case 4:mn=a.stateNode.containerInfo,sr=!0;break e}a=a.return}if(mn===null)throw Error(U(160));mF(r,o,s),mn=null,sr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Tt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vF(e,n),e=e.sibling}function vF(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fs(e,n),_r(n),i&4){try{Ig(3,n,n.return),$b(3,n)}catch(g){Tt(n,n.return,g)}try{Ig(5,n,n.return)}catch(g){Tt(n,n.return,g)}}break;case 1:Fs(e,n),_r(n),i&512&&t!==null&&ed(t,t.return);break;case 5:if(Fs(e,n),_r(n),i&512&&t!==null&&ed(t,t.return),n.flags&32){var s=n.stateNode;try{Xg(s,"")}catch(g){Tt(n,n.return,g)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=t!==null?t.memoizedProps:r,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&B2(s,r),TA(a,o);var u=TA(a,r);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?H2(s,d):c==="dangerouslySetInnerHTML"?V2(s,d):c==="children"?Xg(s,d):UT(s,c,d,u)}switch(a){case"input":AA(s,r);break;case"textarea":z2(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?dd(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?dd(s,!!r.multiple,r.defaultValue,!0):dd(s,!!r.multiple,r.multiple?[]:"",!1))}s[om]=r}catch(g){Tt(n,n.return,g)}}break;case 6:if(Fs(e,n),_r(n),i&4){if(n.stateNode===null)throw Error(U(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(g){Tt(n,n.return,g)}}break;case 3:if(Fs(e,n),_r(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{tm(e.containerInfo)}catch(g){Tt(n,n.return,g)}break;case 4:Fs(e,n),_r(n);break;case 13:Fs(e,n),_r(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(_k=It())),i&4&&rI(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(On=(u=On)||c,Fs(e,n),On=u):Fs(e,n),_r(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(ne=n,c=n.child;c!==null;){for(d=ne=c;ne!==null;){switch(f=ne,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ig(4,f,f.return);break;case 1:ed(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Tt(i,t,g)}}break;case 5:ed(f,f.return);break;case 22:if(f.memoizedState!==null){aI(d);continue}}p!==null?(p.return=f,ne=p):aI(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=j2("display",o))}catch(g){Tt(n,n.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tt(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fs(e,n),_r(n),i&4&&rI(n);break;case 21:break;default:Fs(e,n),_r(n)}}function _r(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(gF(t)){var i=t;break e}t=t.return}throw Error(U(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Xg(s,""),i.flags&=-33);var r=sI(n);sx(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=sI(n);ix(n,a,o);break;default:throw Error(U(161))}}catch(l){Tt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function B4(n,e,t){ne=n,yF(n)}function yF(n,e,t){for(var i=(n.mode&1)!==0;ne!==null;){var s=ne,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||m0;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||On;a=m0;var u=On;if(m0=o,(On=l)&&!u)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?lI(s):l!==null?(l.return=o,ne=l):lI(s);for(;r!==null;)ne=r,yF(r),r=r.sibling;ne=s,m0=a,On=u}oI(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,ne=r):oI(n)}}function oI(n){for(;ne!==null;){var e=ne;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:On||$b(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!On)if(t===null)i.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Us(e.type,t.memoizedProps);i.componentDidUpdate(s,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&HM(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}HM(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&tm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}On||e.flags&512&&nx(e)}catch(f){Tt(e,e.return,f)}}if(e===n){ne=null;break}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}}function aI(n){for(;ne!==null;){var e=ne;if(e===n){ne=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ne=t;break}ne=e.return}}function lI(n){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$b(4,e)}catch(l){Tt(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){Tt(e,s,l)}}var r=e.return;try{nx(e)}catch(l){Tt(e,r,l)}break;case 5:var o=e.return;try{nx(e)}catch(l){Tt(e,o,l)}}}catch(l){Tt(e,e.return,l)}if(e===n){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var z4=Math.ceil,I_=ya.ReactCurrentDispatcher,yk=ya.ReactCurrentOwner,ks=ya.ReactCurrentBatchConfig,Ne=0,ln=null,Ft=null,bn=0,Hi=0,td=Yl(0),Yt=0,dm=null,th=0,Bb=0,wk=0,Lg=null,_i=null,_k=0,tp=1/0,_o=null,L_=!1,rx=null,Ol=null,v0=!1,Pl=null,D_=0,Dg=0,ox=null,hw=-1,dw=0;function ei(){return Ne&6?It():hw!==-1?hw:hw=It()}function Nl(n){return n.mode&1?Ne&2&&bn!==0?bn&-bn:A4.transition!==null?(dw===0&&(dw=nN()),dw):(n=We,n!==0||(n=window.event,n=n===void 0?16:uN(n.type)),n):1}function dr(n,e,t,i){if(50<Dg)throw Dg=0,ox=null,Error(U(185));Py(n,t,i),(!(Ne&2)||n!==ln)&&(n===ln&&(!(Ne&2)&&(Bb|=t),Yt===4&&Ma(n,bn)),Ei(n,i),t===1&&Ne===0&&!(e.mode&1)&&(tp=It()+500,Ob&&Xl()))}function Ei(n,e){var t=n.callbackNode;Aj(n,e);var i=v_(n,n===ln?bn:0);if(i===0)t!==null&&vM(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&vM(t),e===1)n.tag===0?S4(uI.bind(null,n)):TN(uI.bind(null,n)),y4(function(){!(Ne&6)&&Xl()}),t=null;else{switch(iN(i)){case 1:t=GT;break;case 4:t=eN;break;case 16:t=m_;break;case 536870912:t=tN;break;default:t=m_}t=PF(t,wF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function wF(n,e){if(hw=-1,dw=0,Ne&6)throw Error(U(327));var t=n.callbackNode;if(vd()&&n.callbackNode!==t)return null;var i=v_(n,n===ln?bn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=O_(n,i);else{e=i;var s=Ne;Ne|=2;var r=bF();(ln!==n||bn!==e)&&(_o=null,tp=It()+500,qc(n,e));do try{j4();break}catch(a){_F(n,a)}while(!0);rk(),I_.current=r,Ne=s,Ft!==null?e=0:(ln=null,bn=0,e=Yt)}if(e!==0){if(e===2&&(s=LA(n),s!==0&&(i=s,e=ax(n,s))),e===1)throw t=dm,qc(n,0),Ma(n,i),Ei(n,It()),t;if(e===6)Ma(n,i);else{if(s=n.current.alternate,!(i&30)&&!U4(s)&&(e=O_(n,i),e===2&&(r=LA(n),r!==0&&(i=r,e=ax(n,r))),e===1))throw t=dm,qc(n,0),Ma(n,i),Ei(n,It()),t;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:cu(n,_i,_o);break;case 3:if(Ma(n,i),(i&130023424)===i&&(e=_k+500-It(),10<e)){if(v_(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){ei(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=UA(cu.bind(null,n,_i,_o),e);break}cu(n,_i,_o);break;case 4:if(Ma(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var o=31-hr(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=It()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*z4(i/1960))-i,10<i){n.timeoutHandle=UA(cu.bind(null,n,_i,_o),i);break}cu(n,_i,_o);break;case 5:cu(n,_i,_o);break;default:throw Error(U(329))}}}return Ei(n,It()),n.callbackNode===t?wF.bind(null,n):null}function ax(n,e){var t=Lg;return n.current.memoizedState.isDehydrated&&(qc(n,e).flags|=256),n=O_(n,e),n!==2&&(e=_i,_i=t,e!==null&&lx(e)),n}function lx(n){_i===null?_i=n:_i.push.apply(_i,n)}function U4(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var s=t[i],r=s.getSnapshot;s=s.value;try{if(!gr(r(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(n,e){for(e&=~wk,e&=~Bb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-hr(e),i=1<<t;n[t]=-1,e&=~i}}function uI(n){if(Ne&6)throw Error(U(327));vd();var e=v_(n,0);if(!(e&1))return Ei(n,It()),null;var t=O_(n,e);if(n.tag!==0&&t===2){var i=LA(n);i!==0&&(e=i,t=ax(n,i))}if(t===1)throw t=dm,qc(n,0),Ma(n,e),Ei(n,It()),t;if(t===6)throw Error(U(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,cu(n,_i,_o),Ei(n,It()),null}function bk(n,e){var t=Ne;Ne|=1;try{return n(e)}finally{Ne=t,Ne===0&&(tp=It()+500,Ob&&Xl())}}function nh(n){Pl!==null&&Pl.tag===0&&!(Ne&6)&&vd();var e=Ne;Ne|=1;var t=ks.transition,i=We;try{if(ks.transition=null,We=1,n)return n()}finally{We=i,ks.transition=t,Ne=e,!(Ne&6)&&Xl()}}function Sk(){Hi=td.current,it(td)}function qc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,v4(t)),Ft!==null)for(t=Ft.return;t!==null;){var i=t;switch(nk(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&S_();break;case 3:Jf(),it(Ai),it(Bn),hk();break;case 5:ck(i);break;case 4:Jf();break;case 13:it(mt);break;case 19:it(mt);break;case 10:ok(i.type._context);break;case 22:case 23:Sk()}t=t.return}if(ln=n,Ft=n=Fl(n.current,null),bn=Hi=e,Yt=0,dm=null,wk=Bb=th=0,_i=Lg=null,Pu!==null){for(e=0;e<Pu.length;e++)if(t=Pu[e],i=t.interleaved,i!==null){t.interleaved=null;var s=i.next,r=t.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}t.pending=i}Pu=null}return n}function _F(n,e){do{var t=Ft;try{if(rk(),lw.current=M_,R_){for(var i=wt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}R_=!1}if(eh=0,on=Zt=wt=null,Mg=!1,um=0,yk.current=null,t===null||t.return===null){Yt=1,dm=e,Ft=null;break}e:{var r=n,o=t.return,a=t,l=e;if(e=bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=YM(o);if(p!==null){p.flags&=-257,XM(p,o,a,r,e),p.mode&1&&ZM(r,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){ZM(r,u,e),Ak();break e}l=Error(U(426))}}else if(dt&&a.mode&1){var w=YM(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),XM(w,o,a,r,e),ik(ep(l,a));break e}}r=l=ep(l,a),Yt!==4&&(Yt=2),Lg===null?Lg=[r]:Lg.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=iF(r,l,e);jM(r,v);break e;case 1:a=l;var y=r.type,_=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ol===null||!Ol.has(_)))){r.flags|=65536,e&=-e,r.lanes|=e;var A=sF(r,a,e);jM(r,A);break e}}r=r.return}while(r!==null)}AF(t)}catch(E){e=E,Ft===t&&t!==null&&(Ft=t=t.return);continue}break}while(!0)}function bF(){var n=I_.current;return I_.current=M_,n===null?M_:n}function Ak(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),ln===null||!(th&268435455)&&!(Bb&268435455)||Ma(ln,bn)}function O_(n,e){var t=Ne;Ne|=2;var i=bF();(ln!==n||bn!==e)&&(_o=null,qc(n,e));do try{V4();break}catch(s){_F(n,s)}while(!0);if(rk(),Ne=t,I_.current=i,Ft!==null)throw Error(U(261));return ln=null,bn=0,Yt}function V4(){for(;Ft!==null;)SF(Ft)}function j4(){for(;Ft!==null&&!pj();)SF(Ft)}function SF(n){var e=EF(n.alternate,n,Hi);n.memoizedProps=n.pendingProps,e===null?AF(n):Ft=e,yk.current=null}function AF(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=N4(t,e),t!==null){t.flags&=32767,Ft=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yt=6,Ft=null;return}}else if(t=O4(t,e,Hi),t!==null){Ft=t;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=n}while(e!==null);Yt===0&&(Yt=5)}function cu(n,e,t){var i=We,s=ks.transition;try{ks.transition=null,We=1,H4(n,e,t,i)}finally{ks.transition=s,We=i}return null}function H4(n,e,t,i){do vd();while(Pl!==null);if(Ne&6)throw Error(U(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(U(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(xj(n,r),n===ln&&(Ft=ln=null,bn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||v0||(v0=!0,PF(m_,function(){return vd(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=ks.transition,ks.transition=null;var o=We;We=1;var a=Ne;Ne|=4,yk.current=null,$4(n,t),vF(t,n),c4(BA),y_=!!$A,BA=$A=null,n.current=t,B4(t),gj(),Ne=a,We=o,ks.transition=r}else n.current=t;if(v0&&(v0=!1,Pl=n,D_=s),r=n.pendingLanes,r===0&&(Ol=null),yj(t.stateNode),Ei(n,It()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],i(s.value,{componentStack:s.stack,digest:s.digest});if(L_)throw L_=!1,n=rx,rx=null,n;return D_&1&&n.tag!==0&&vd(),r=n.pendingLanes,r&1?n===ox?Dg++:(Dg=0,ox=n):Dg=0,Xl(),null}function vd(){if(Pl!==null){var n=iN(D_),e=ks.transition,t=We;try{if(ks.transition=null,We=16>n?16:n,Pl===null)var i=!1;else{if(n=Pl,Pl=null,D_=0,Ne&6)throw Error(U(331));var s=Ne;for(Ne|=4,ne=n.current;ne!==null;){var r=ne,o=r.child;if(ne.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:Ig(8,c,r)}var d=c.child;if(d!==null)d.return=c,ne=d;else for(;ne!==null;){c=ne;var f=c.sibling,p=c.return;if(pF(c),c===u){ne=null;break}if(f!==null){f.return=p,ne=f;break}ne=p}}}var m=r.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ne=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,ne=o;else e:for(;ne!==null;){if(r=ne,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ig(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,ne=v;break e}ne=r.return}}var y=n.current;for(ne=y;ne!==null;){o=ne;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ne=_;else e:for(o=y;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$b(9,a)}}catch(E){Tt(a,a.return,E)}if(a===o){ne=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ne=A;break e}ne=a.return}}if(Ne=s,Xl(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(Rb,n)}catch{}i=!0}return i}finally{We=t,ks.transition=e}}return!1}function cI(n,e,t){e=ep(t,e),e=iF(n,e,1),n=Dl(n,e,1),e=ei(),n!==null&&(Py(n,1,e),Ei(n,e))}function Tt(n,e,t){if(n.tag===3)cI(n,n,t);else for(;e!==null;){if(e.tag===3){cI(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ol===null||!Ol.has(i))){n=ep(t,n),n=sF(e,n,1),e=Dl(e,n,1),n=ei(),e!==null&&(Py(e,1,n),Ei(e,n));break}}e=e.return}}function W4(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ei(),n.pingedLanes|=n.suspendedLanes&t,ln===n&&(bn&t)===t&&(Yt===4||Yt===3&&(bn&130023424)===bn&&500>It()-_k?qc(n,0):wk|=t),Ei(n,e)}function xF(n,e){e===0&&(n.mode&1?(e=a0,a0<<=1,!(a0&130023424)&&(a0=4194304)):e=1);var t=ei();n=pa(n,e),n!==null&&(Py(n,e,t),Ei(n,t))}function G4(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),xF(n,t)}function q4(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),xF(n,t)}var EF;EF=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ai.current)Si=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Si=!1,D4(n,e,t);Si=!!(n.flags&131072)}else Si=!1,dt&&e.flags&1048576&&kN(e,E_,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;cw(n,e),n=e.pendingProps;var s=Yf(e,Bn.current);md(e,t),s=fk(null,e,i,n,s,t);var r=pk();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xi(i)?(r=!0,A_(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lk(e),s.updater=Fb,e.stateNode=s,s._reactInternals=e,KA(e,i,n,t),e=XA(null,e,i,!0,r,t)):(e.tag=0,dt&&r&&tk(e),Yn(null,e,s,t),e=e.child),e;case 16:i=e.elementType;e:{switch(cw(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Z4(i),n=Us(i,n),s){case 0:e=YA(null,e,i,n,t);break e;case 1:e=eI(null,e,i,n,t);break e;case 11:e=QM(null,e,i,n,t);break e;case 14:e=JM(null,e,i,Us(i.type,n),t);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Us(i,s),YA(n,e,i,s,t);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Us(i,s),eI(n,e,i,s,t);case 3:e:{if(lF(e),n===null)throw Error(U(387));i=e.pendingProps,r=e.memoizedState,s=r.element,ON(n,e),T_(e,i,null,t);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=ep(Error(U(423)),e),e=tI(n,e,i,t,s);break e}else if(i!==s){s=ep(Error(U(424)),e),e=tI(n,e,i,t,s);break e}else for(Gi=Ll(e.stateNode.containerInfo.firstChild),Zi=e,dt=!0,or=null,t=LN(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Xf(),i===s){e=ga(n,e,t);break e}Yn(n,e,i,t)}e=e.child}return e;case 5:return NN(e),n===null&&WA(e),i=e.type,s=e.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,zA(i,s)?o=null:r!==null&&zA(i,r)&&(e.flags|=32),aF(n,e),Yn(n,e,o,t),e.child;case 6:return n===null&&WA(e),null;case 13:return uF(n,e,t);case 4:return uk(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Qf(e,null,i,t):Yn(n,e,i,t),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Us(i,s),QM(n,e,i,s,t);case 7:return Yn(n,e,e.pendingProps,t),e.child;case 8:return Yn(n,e,e.pendingProps.children,t),e.child;case 12:return Yn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,et(P_,i._currentValue),i._currentValue=o,r!==null)if(gr(r.value,o)){if(r.children===s.children&&!Ai.current){e=ga(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=sa(-1,t&-t),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),GA(r.return,t,e),a.lanes|=t;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(U(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),GA(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Yn(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,md(e,t),s=Is(s),i=i(s),e.flags|=1,Yn(n,e,i,t),e.child;case 14:return i=e.type,s=Us(i,e.pendingProps),s=Us(i.type,s),JM(n,e,i,s,t);case 15:return rF(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Us(i,s),cw(n,e),e.tag=1,xi(i)?(n=!0,A_(e)):n=!1,md(e,t),nF(e,i,s),KA(e,i,s,t),XA(null,e,i,!0,n,t);case 19:return cF(n,e,t);case 22:return oF(n,e,t)}throw Error(U(156,e.tag))};function PF(n,e){return J2(n,e)}function K4(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(n,e,t,i){return new K4(n,e,t,i)}function xk(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Z4(n){if(typeof n=="function")return xk(n)?1:0;if(n!=null){if(n=n.$$typeof,n===jT)return 11;if(n===HT)return 14}return 2}function Fl(n,e){var t=n.alternate;return t===null?(t=Ts(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function fw(n,e,t,i,s,r){var o=2;if(i=n,typeof n=="function")xk(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Wh:return Kc(t.children,s,r,e);case VT:o=8,s|=8;break;case yA:return n=Ts(12,t,e,s|2),n.elementType=yA,n.lanes=r,n;case wA:return n=Ts(13,t,e,s),n.elementType=wA,n.lanes=r,n;case _A:return n=Ts(19,t,e,s),n.elementType=_A,n.lanes=r,n;case N2:return zb(t,s,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D2:o=10;break e;case O2:o=9;break e;case jT:o=11;break e;case HT:o=14;break e;case Pa:o=16,i=null;break e}throw Error(U(130,n==null?n:typeof n,""))}return e=Ts(o,t,e,s),e.elementType=n,e.type=i,e.lanes=r,e}function Kc(n,e,t,i){return n=Ts(7,n,i,e),n.lanes=t,n}function zb(n,e,t,i){return n=Ts(22,n,i,e),n.elementType=N2,n.lanes=t,n.stateNode={isHidden:!1},n}function lS(n,e,t){return n=Ts(6,n,null,e),n.lanes=t,n}function uS(n,e,t){return e=Ts(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Y4(n,e,t,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j1(0),this.expirationTimes=j1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j1(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ek(n,e,t,i,s,r,o,a,l){return n=new Y4(n,e,t,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Ts(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},lk(r),n}function X4(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hh,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function CF(n){if(!n)return Ul;n=n._reactInternals;e:{if(hh(n)!==n||n.tag!==1)throw Error(U(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(n.tag===1){var t=n.type;if(xi(t))return CN(n,t,e)}return e}function TF(n,e,t,i,s,r,o,a,l){return n=Ek(t,i,!0,n,s,r,o,a,l),n.context=CF(null),t=n.current,i=ei(),s=Nl(t),r=sa(i,s),r.callback=e??null,Dl(t,r,s),n.current.lanes=s,Py(n,s,i),Ei(n,i),n}function Ub(n,e,t,i){var s=e.current,r=ei(),o=Nl(s);return t=CF(t),e.context===null?e.context=t:e.pendingContext=t,e=sa(r,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Dl(s,e,o),n!==null&&(dr(n,s,o,r),aw(n,s,o)),o}function N_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hI(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Pk(n,e){hI(n,e),(n=n.alternate)&&hI(n,e)}var kF=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ck(n){this._internalRoot=n}Vb.prototype.render=Ck.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(U(409));Ub(n,e,null,null)};Vb.prototype.unmount=Ck.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;nh(function(){Ub(null,n,null,null)}),e[fa]=null}};function Vb(n){this._internalRoot=n}Vb.prototype.unstable_scheduleHydration=function(n){if(n){var e=oN();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ra.length&&e!==0&&e<Ra[t].priority;t++);Ra.splice(t,0,n),t===0&&lN(n)}};function Tk(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function jb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function dI(){}function Q4(n,e,t,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=N_(o);r.call(u)}}var o=TF(e,i,n,0,null,!1,!1,"",dI);return n._reactRootContainer=o,n[fa]=o.current,sm(n.nodeType===8?n.parentNode:n),nh(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var u=N_(l);a.call(u)}}var l=Ek(n,0,!1,null,null,!1,!1,"",dI);return n._reactRootContainer=l,n[fa]=l.current,sm(n.nodeType===8?n.parentNode:n),nh(function(){Ub(e,l,t,i)}),l}function Hb(n,e,t,i,s){var r=t._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=N_(o);a.call(l)}}Ub(e,o,n,s)}else o=Q4(t,e,n,s,i);return N_(o)}sN=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Qp(e.pendingLanes);t!==0&&(qT(e,t|1),Ei(e,It()),!(Ne&6)&&(tp=It()+500,Xl()))}break;case 13:nh(function(){var i=pa(n,1);if(i!==null){var s=ei();dr(i,n,1,s)}}),Pk(n,1)}};KT=function(n){if(n.tag===13){var e=pa(n,134217728);if(e!==null){var t=ei();dr(e,n,134217728,t)}Pk(n,134217728)}};rN=function(n){if(n.tag===13){var e=Nl(n),t=pa(n,e);if(t!==null){var i=ei();dr(t,n,e,i)}Pk(n,e)}};oN=function(){return We};aN=function(n,e){var t=We;try{return We=n,e()}finally{We=t}};RA=function(n,e,t){switch(e){case"input":if(AA(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var s=Db(i);if(!s)throw Error(U(90));$2(i),AA(i,s)}}}break;case"textarea":z2(n,t);break;case"select":e=t.value,e!=null&&dd(n,!!t.multiple,e,!1)}};q2=bk;K2=nh;var J4={usingClientEntryPoint:!1,Events:[Ty,Zh,Db,W2,G2,bk]},$p={findFiberByHostInstance:Eu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eH={bundleType:$p.bundleType,version:$p.version,rendererPackageName:$p.rendererPackageName,rendererConfig:$p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=X2(n),n===null?null:n.stateNode},findFiberByHostInstance:$p.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{Rb=y0.inject(eH),no=y0}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J4;ns.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tk(e))throw Error(U(200));return X4(n,e,null,t)};ns.createRoot=function(n,e){if(!Tk(n))throw Error(U(299));var t=!1,i="",s=kF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ek(n,1,!1,null,null,t,!1,i,s),n[fa]=e.current,sm(n.nodeType===8?n.parentNode:n),new Ck(e)};ns.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(U(188)):(n=Object.keys(n).join(","),Error(U(268,n)));return n=X2(e),n=n===null?null:n.stateNode,n};ns.flushSync=function(n){return nh(n)};ns.hydrate=function(n,e,t){if(!jb(e))throw Error(U(200));return Hb(null,n,e,!0,t)};ns.hydrateRoot=function(n,e,t){if(!Tk(n))throw Error(U(405));var i=t!=null&&t.hydratedSources||null,s=!1,r="",o=kF;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=TF(e,null,n,1,t??null,s,!1,r,o),n[fa]=e.current,sm(n),i)for(n=0;n<i.length;n++)t=i[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Vb(e)};ns.render=function(n,e,t){if(!jb(e))throw Error(U(200));return Hb(null,n,e,!1,t)};ns.unmountComponentAtNode=function(n){if(!jb(n))throw Error(U(40));return n._reactRootContainer?(nh(function(){Hb(null,null,n,!1,function(){n._reactRootContainer=null,n[fa]=null})}),!0):!1};ns.unstable_batchedUpdates=bk;ns.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!jb(t))throw Error(U(200));if(n==null||n._reactInternals===void 0)throw Error(U(38));return Hb(n,e,t,!1,i)};ns.version="18.3.1-next-f1338f8080-20240426";function RF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RF)}catch(n){console.error(n)}}RF(),R2.exports=ns;var tH=R2.exports,fI=tH;aM.createRoot=fI.createRoot,aM.hydrateRoot=fI.hydrateRoot;const nH="modulepreload",iH=function(n){return"/"+n},pI={},np=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=iH(l),l in pI)return;pI[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":nH,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};var kk={};Object.defineProperty(kk,"__esModule",{value:!0});kk.parse=cH;kk.serialize=hH;const sH=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,rH=/^[\u0021-\u003A\u003C-\u007E]*$/,oH=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,aH=/^[\u0020-\u003A\u003D-\u007E]*$/,lH=Object.prototype.toString,uH=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function cH(n,e){const t=new uH,i=n.length;if(i<2)return t;const s=(e==null?void 0:e.decode)||dH;let r=0;do{const o=n.indexOf("=",r);if(o===-1)break;const a=n.indexOf(";",r),l=a===-1?i:a;if(o>l){r=n.lastIndexOf(";",o-1)+1;continue}const u=gI(n,r,o),c=mI(n,o,u),d=n.slice(u,c);if(t[d]===void 0){let f=gI(n,o+1,l),p=mI(n,l,f);const m=s(n.slice(f,p));t[d]=m}r=l+1}while(r<i);return t}function gI(n,e,t){do{const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}while(++e<t);return t}function mI(n,e,t){for(;e>t;){const i=n.charCodeAt(--e);if(i!==32&&i!==9)return e+1}return t}function hH(n,e,t){const i=(t==null?void 0:t.encode)||encodeURIComponent;if(!sH.test(n))throw new TypeError(`argument name is invalid: ${n}`);const s=i(e);if(!rH.test(s))throw new TypeError(`argument val is invalid: ${e}`);let r=n+"="+s;if(!t)return r;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);r+="; Max-Age="+t.maxAge}if(t.domain){if(!oH.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);r+="; Domain="+t.domain}if(t.path){if(!aH.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);r+="; Path="+t.path}if(t.expires){if(!fH(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);r+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(r+="; HttpOnly"),t.secure&&(r+="; Secure"),t.partitioned&&(r+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"none":r+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return r}function dH(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function fH(n){return lH.call(n)==="[object Date]"}/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vI="popstate";function pH(n={}){function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return ux("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:fm(s)}return mH(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gH(){return Math.random().toString(36).substring(2,10)}function yI(n,e){return{usr:n.state,key:n.key,idx:e}}function ux(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_p(e):e,state:t,key:e&&e.key||i||gH()}}function fm({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _p(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function mH(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:v})}function f(w,v){a="PUSH";let y=ux(g.location,w,v);u=c()+1;let _=yI(y,u),A=g.createHref(y);try{o.pushState(_,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(A)}r&&l&&l({action:a,location:g.location,delta:1})}function p(w,v){a="REPLACE";let y=ux(g.location,w,v);u=c();let _=yI(y,u),A=g.createHref(y);o.replaceState(_,"",A),r&&l&&l({action:a,location:g.location,delta:0})}function m(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:fm(w);return y=y.replace(/ $/,"%20"),_t(v,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,v)}let g={get action(){return a},get location(){return n(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vI,d),l=w,()=>{s.removeEventListener(vI,d),l=null}},createHref(w){return e(s,w)},createURL:m,encodeLocation(w){let v=m(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return o.go(w)}};return g}function MF(n,e,t="/"){return vH(n,e,t,!1)}function vH(n,e,t,i){let s=typeof e=="string"?_p(e):e,r=Vl(s.pathname||"/",t);if(r==null)return null;let o=IF(n);yH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=kH(r);a=CH(o[l],u,i)}return a}function IF(n,e=[],t=[],i=""){let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let u=ra([i,l.relativePath]),c=t.concat(l);r.children&&r.children.length>0&&(_t(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),IF(r.children,e,c,u)),!(r.path==null&&!r.index)&&e.push({path:u,score:EH(u,r.index),routesMeta:c})};return n.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of LF(r.path))s(r,o,l)}),e}function LF(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=LF(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function yH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:PH(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var wH=/^:[\w-]+$/,_H=3,bH=2,SH=1,AH=10,xH=-2,wI=n=>n==="*";function EH(n,e){let t=n.split("/"),i=t.length;return t.some(wI)&&(i+=xH),e&&(i+=bH),t.filter(s=>!wI(s)).reduce((s,r)=>s+(wH.test(r)?_H:r===""?SH:AH),i)}function PH(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function CH(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,c=r==="/"?e:e.slice(r.length)||"/",d=F_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&t&&!i[i.length-1].route.index&&(d=F_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ra([r,d.pathname]),pathnameBase:LH(ra([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=ra([r,d.pathnameBase]))}return o}function F_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=TH(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=a[f]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:n}}function TH(n,e=!1,t=!0){oo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function kH(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oo(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Vl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function RH(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?_p(n):n;return{pathname:t?t.startsWith("/")?t:MH(t,e):e,search:DH(i),hash:OH(s)}}function MH(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function cS(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IH(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function DF(n){let e=IH(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function OF(n,e,t,i=!1){let s;typeof n=="string"?s=_p(n):(s={...n},_t(!s.pathname||!s.pathname.includes("?"),cS("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),cS("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),cS("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=RH(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(r||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ra=n=>n.join("/").replace(/\/\/+/g,"/"),LH=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DH=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OH=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NH(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var NF=["POST","PUT","PATCH","DELETE"];new Set(NF);var FH=["GET",...NF];new Set(FH);var bp=L.createContext(null);bp.displayName="DataRouter";var Wb=L.createContext(null);Wb.displayName="DataRouterState";var FF=L.createContext({isTransitioning:!1});FF.displayName="ViewTransition";var $H=L.createContext(new Map);$H.displayName="Fetchers";var BH=L.createContext(null);BH.displayName="Await";var uo=L.createContext(null);uo.displayName="Navigation";var Ry=L.createContext(null);Ry.displayName="Location";var co=L.createContext({outlet:null,matches:[],isDataRoute:!1});co.displayName="Route";var Rk=L.createContext(null);Rk.displayName="RouteError";function zH(n,{relative:e}={}){_t(My(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(uo),{hash:s,pathname:r,search:o}=Iy(n,{relative:e}),a=r;return t!=="/"&&(a=r==="/"?t:ra([t,r])),i.createHref({pathname:a,search:o,hash:s})}function My(){return L.useContext(Ry)!=null}function dh(){return _t(My(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ry).location}var $F="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BF(n){L.useContext(uo).static||L.useLayoutEffect(n)}function UH(){let{isDataRoute:n}=L.useContext(co);return n?e5():VH()}function VH(){_t(My(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(bp),{basename:e,navigator:t}=L.useContext(uo),{matches:i}=L.useContext(co),{pathname:s}=dh(),r=JSON.stringify(DF(i)),o=L.useRef(!1);return BF(()=>{o.current=!0}),L.useCallback((l,u={})=>{if(oo(o.current,$F),!o.current)return;if(typeof l=="number"){t.go(l);return}let c=OF(l,JSON.parse(r),s,u.relative==="path");n==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ra([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state,u)},[e,t,r,s,n])}L.createContext(null);function zle(){let{matches:n}=L.useContext(co),e=n[n.length-1];return e?e.params:{}}function Iy(n,{relative:e}={}){let{matches:t}=L.useContext(co),{pathname:i}=dh(),s=JSON.stringify(DF(t));return L.useMemo(()=>OF(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function jH(n,e){return zF(n,e)}function zF(n,e,t,i){var v;_t(My(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(uo),{matches:r}=L.useContext(co),o=r[r.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",c=o&&o.route;{let y=c&&c.path||"";UF(l,!c||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let d=dh(),f;if(e){let y=typeof e=="string"?_p(e):e;_t(u==="/"||((v=y.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=MF(n,{pathname:m});oo(c||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),oo(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=KH(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ra([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:ra([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,t,i);return e&&w?L.createElement(Ry.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},w):w}function HH(){let n=JH(),e=NH(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:r},"ErrorBoundary")," or"," ",L.createElement("code",{style:r},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,o)}var WH=L.createElement(HH,null),GH=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(co.Provider,{value:this.props.routeContext},L.createElement(Rk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qH({routeContext:n,match:e,children:t}){let i=L.useContext(bp);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(co.Provider,{value:n},t)}function KH(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let l=s.findIndex(u=>u.route.id&&(r==null?void 0:r[u.route.id])!==void 0);_t(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=t,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,c)=>{let d,f=!1,p=null,m=null;t&&(d=r&&u.route.id?r[u.route.id]:void 0,p=u.route.errorElement||WH,o&&(a<0&&c===0?(UF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===c&&(f=!0,m=u.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,c+1)),w=()=>{let v;return d?v=p:f?v=m:u.route.Component?v=L.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,L.createElement(qH,{match:u,routeContext:{outlet:l,matches:g,isDataRoute:t!=null},children:v})};return t&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?L.createElement(GH,{location:t.location,revalidation:t.revalidation,component:p,error:d,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}function Mk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZH(n){let e=L.useContext(bp);return _t(e,Mk(n)),e}function YH(n){let e=L.useContext(Wb);return _t(e,Mk(n)),e}function XH(n){let e=L.useContext(co);return _t(e,Mk(n)),e}function Ik(n){let e=XH(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QH(){return Ik("useRouteId")}function JH(){var i;let n=L.useContext(Rk),e=YH("useRouteError"),t=Ik("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function e5(){let{router:n}=ZH("useNavigate"),e=Ik("useNavigate"),t=L.useRef(!1);return BF(()=>{t.current=!0}),L.useCallback(async(s,r={})=>{oo(t.current,$F),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var _I={};function UF(n,e,t){!e&&!_I[n]&&(_I[n]=!0,oo(!1,t))}L.memo(t5);function t5({routes:n,future:e,state:t}){return zF(n,void 0,t,e)}function n5(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i5({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){_t(!My(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof t=="string"&&(t=_p(t));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=t,p=L.useMemo(()=>{let m=Vl(l,o);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:f},navigationType:i}},[o,l,u,c,d,f,i]);return oo(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:L.createElement(uo.Provider,{value:a},L.createElement(Ry.Provider,{children:e,value:p}))}function Ule({children:n,location:e}){return jH(cx(n),e)}function cx(n,e=[]){let t=[];return L.Children.forEach(n,(i,s)=>{if(!L.isValidElement(i))return;let r=[...e,s];if(i.type===L.Fragment){t.push.apply(t,cx(i.props.children,r));return}_t(i.type===n5,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=cx(i.props.children,r)),t.push(o)}),t}var pw="get",gw="application/x-www-form-urlencoded";function Gb(n){return n!=null&&typeof n.tagName=="string"}function s5(n){return Gb(n)&&n.tagName.toLowerCase()==="button"}function r5(n){return Gb(n)&&n.tagName.toLowerCase()==="form"}function o5(n){return Gb(n)&&n.tagName.toLowerCase()==="input"}function a5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l5(n,e){return n.button===0&&(!e||e==="_self")&&!a5(n)}var w0=null;function u5(){if(w0===null)try{new FormData(document.createElement("form"),0),w0=!1}catch{w0=!0}return w0}var c5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hS(n){return n!=null&&!c5.has(n)?(oo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gw}"`),null):n}function h5(n,e){let t,i,s,r,o;if(r5(n)){let a=n.getAttribute("action");i=a?Vl(a,e):null,t=n.getAttribute("method")||pw,s=hS(n.getAttribute("enctype"))||gw,r=new FormData(n)}else if(s5(n)||o5(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(i=l?Vl(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||pw,s=hS(n.getAttribute("formenctype"))||hS(a.getAttribute("enctype"))||gw,r=new FormData(a,n),!u5()){let{name:u,type:c,value:d}=n;if(c==="image"){let f=u?`${u}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else u&&r.append(u,d)}}else{if(Gb(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pw,i=null,s=gw,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:o}}function Lk(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function d5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function p5(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let o=await d5(r,t);return o.links?o.links():[]}return[]}));return y5(i.flat(1).filter(f5).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bI(n,e,t,i,s,r){let o=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,a=(l,u)=>{var c;return t[u].pathname!==l.pathname||((c=t[u].route.path)==null?void 0:c.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return r==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):r==="data"?e.filter((l,u)=>{var d;let c=i.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function g5(n,e){return m5(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function m5(n){return[...new Set(n)]}function v5(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function y5(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(v5(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}function w5(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function _5(){let n=L.useContext(bp);return Lk(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function b5(){let n=L.useContext(Wb);return Lk(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Dk=L.createContext(void 0);Dk.displayName="FrameworkContext";function VF(){let n=L.useContext(Dk);return Lk(n,"You must render this element inside a <HydratedRouter> element"),n}function S5(n,e){let t=L.useContext(Dk),[i,s]=L.useState(!1),[r,o]=L.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=L.useRef(null);L.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let g=v=>{v.forEach(y=>{o(y.isIntersecting)})},w=new IntersectionObserver(g,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[n]),L.useEffect(()=>{if(i){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return t?n!=="intent"?[r,f,{}]:[r,f,{onFocus:Bp(a,p),onBlur:Bp(l,m),onMouseEnter:Bp(u,p),onMouseLeave:Bp(c,m),onTouchStart:Bp(d,p)}]:[!1,f,{}]}function Bp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function A5({page:n,...e}){let{router:t}=_5(),i=L.useMemo(()=>MF(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(E5,{page:n,matches:i,...e}):null}function x5(n){let{manifest:e,routeModules:t}=VF(),[i,s]=L.useState([]);return L.useEffect(()=>{let r=!1;return p5(n,e,t).then(o=>{r||s(o)}),()=>{r=!0}},[n,e,t]),i}function E5({page:n,matches:e,...t}){let i=dh(),{manifest:s,routeModules:r}=VF(),{loaderData:o,matches:a}=b5(),l=L.useMemo(()=>bI(n,e,a,s,i,"data"),[n,e,a,s,i]),u=L.useMemo(()=>bI(n,e,a,s,i,"assets"),[n,e,a,s,i]),c=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let p=new Set,m=!1;if(e.forEach(w=>{var y;let v=s.routes[w.route.id];!v||!v.hasLoader||(!l.some(_=>_.route.id===w.route.id)&&w.route.id in o&&((y=r[w.route.id])!=null&&y.shouldRevalidate)||v.hasClientLoader?m=!0:p.add(w.route.id))}),p.size===0)return[];let g=w5(n);return m&&p.size>0&&g.searchParams.set("_routes",e.filter(w=>p.has(w.route.id)).map(w=>w.route.id).join(",")),[g.pathname+g.search]},[o,i,s,l,e,n,r]),d=L.useMemo(()=>g5(u,s),[u,s]),f=x5(u);return L.createElement(L.Fragment,null,c.map(p=>L.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),d.map(p=>L.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),f.map(({key:p,link:m})=>L.createElement("link",{key:p,...m})))}function P5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jF&&(window.__reactRouterVersion="7.1.0")}catch{}function Vle({basename:n,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=pH({window:t,v5Compat:!0}));let s=i.current,[r,o]=L.useState({action:s.action,location:s.location}),a=L.useCallback(l=>{L.startTransition(()=>o(l))},[o]);return L.useLayoutEffect(()=>s.listen(a),[s,a]),L.createElement(i5,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var HF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ok=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},p){let{basename:m}=L.useContext(uo),g=typeof u=="string"&&HF.test(u),w,v=!1;if(typeof u=="string"&&g&&(w=u,jF))try{let P=new URL(window.location.href),M=u.startsWith("//")?new URL(P.protocol+u):new URL(u),D=Vl(M.pathname,m);M.origin===P.origin&&D!=null?u=D+M.search+M.hash:v=!0}catch{oo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=zH(u,{relative:s}),[_,A,E]=S5(i,f),C=k5(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function T(P){e&&e(P),P.defaultPrevented||C(P)}let k=L.createElement("a",{...f,...E,href:w||y,onClick:v||r?e:T,ref:P5(p,A),target:l,"data-discover":!g&&t==="render"?"true":void 0});return _&&!g?L.createElement(L.Fragment,null,k,L.createElement(A5,{page:y})):k});Ok.displayName="Link";var Nk=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:l,...u},c){let d=Iy(o,{relative:u.relative}),f=dh(),p=L.useContext(Wb),{navigator:m,basename:g}=L.useContext(uo),w=p!=null&&D5(d)&&a===!0,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,y=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(y=y.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&g&&(_=Vl(_,g)||_);const A=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=y===v||!s&&y.startsWith(v)&&y.charAt(A)==="/",C=_!=null&&(_===v||!s&&_.startsWith(v)&&_.charAt(v.length)==="/"),T={isActive:E,isPending:C,isTransitioning:w},k=E?e:void 0,P;typeof i=="function"?P=i(T):P=[i,E?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M=typeof r=="function"?r(T):r;return L.createElement(Ok,{...u,"aria-current":k,className:P,ref:c,style:M,to:o,viewTransition:a},typeof l=="function"?l(T):l)});Nk.displayName="NavLink";var C5=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:o=pw,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},p)=>{let m=I5(),g=L5(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&HF.test(a),y=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,E=(A==null?void 0:A.getAttribute("formmethod"))||o;m(A||_.currentTarget,{fetcherKey:e,method:E,navigate:t,replace:s,state:r,relative:u,preventScrollReset:c,viewTransition:d})};return L.createElement("form",{ref:p,method:w,action:g,onSubmit:i?l:y,...f,"data-discover":!v&&n==="render"?"true":void 0})});C5.displayName="Form";function T5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WF(n){let e=L.useContext(bp);return _t(e,T5(n)),e}function k5(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=UH(),l=dh(),u=Iy(n,{relative:r});return L.useCallback(c=>{if(l5(c,e)){c.preventDefault();let d=t!==void 0?t:fm(l)===fm(u);a(n,{replace:d,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[l,a,u,t,i,e,n,s,r,o])}var R5=0,M5=()=>`__${String(++R5)}__`;function I5(){let{router:n}=WF("useSubmit"),{basename:e}=L.useContext(uo),t=QH();return L.useCallback(async(i,s={})=>{let{action:r,method:o,encType:a,formData:l,body:u}=h5(i,e);if(s.navigate===!1){let c=s.fetcherKey||M5();await n.fetch(c,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function L5(n,{relative:e}={}){let{basename:t}=L.useContext(uo),i=L.useContext(co);_t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Iy(n||".",{relative:e})},o=dh();if(n==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();r.search=c?`?${c}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:ra([t,r.pathname])),fm(r)}function D5(n,e={}){let t=L.useContext(FF);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=WF("useViewTransitionState"),s=Iy(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=Vl(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Vl(t.nextLocation.pathname,i)||t.nextLocation.pathname;return F_(s.pathname,o)!=null||F_(s.pathname,r)!=null}new TextEncoder;var GF={exports:{}},O5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",N5=O5,F5=N5;function qF(){}function KF(){}KF.resetWarningCache=qF;var $5=function(){function n(i,s,r,o,a,l){if(l!==F5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KF,resetWarningCache:qF};return t.PropTypes=t,t};GF.exports=$5();var B5=GF.exports;const Le=xy(B5);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hx=function(){return hx=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hx.apply(this,arguments)};function z5(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}var yd="",Og=null,mw=null,ZF=null;function Fk(){yd="",Og!==null&&Og.disconnect(),mw!==null&&(window.clearTimeout(mw),mw=null)}function SI(n){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(n.tagName)&&!n.hasAttribute("disabled")||t.includes(n.tagName)&&n.hasAttribute("href")}function AI(){var n=null;if(yd==="#")n=document.body;else{var e=yd.replace("#","");n=document.getElementById(e),n===null&&yd==="#top"&&(n=document.body)}if(n!==null){ZF(n);var t=n.getAttribute("tabindex");return t===null&&!SI(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),t===null&&!SI(n)&&(n.blur(),n.removeAttribute("tabindex")),Fk(),!0}return!1}function U5(n){window.setTimeout(function(){AI()===!1&&(Og===null&&(Og=new MutationObserver(AI)),Og.observe(document,{attributes:!0,childList:!0,subtree:!0}),mw=window.setTimeout(function(){Fk()},n||1e4))},0)}function YF(n){return pe.forwardRef(function(e,t){var i="";typeof e.to=="string"&&e.to.includes("#")?i="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(i=e.to.hash);var s={};n===Nk&&(s.isActive=function(a,l){return a&&a.isExact&&l.hash===i});function r(a){Fk(),yd=e.elementId?"#"+e.elementId:i,e.onClick&&e.onClick(a),yd!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(ZF=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},U5(e.timeout))}var o=z5(e,["scroll","smooth","timeout","elementId"]);return pe.createElement(n,hx({},s,o,{onClick:r,ref:t}),e.children)})}var jle=YF(Ok);YF(Nk);function V5(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}function qb(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const dx=n=>Array.isArray(n);function XF(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function pm(n){return typeof n=="string"||Array.isArray(n)}function xI(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function $k(n,e,t,i){if(typeof e=="function"){const[s,r]=xI(i);e=e(t!==void 0?t:n.custom,s,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,r]=xI(i);e=e(t!==void 0?t:n.custom,s,r)}return e}function Kb(n,e,t){const i=n.getProps();return $k(i,e,t!==void 0?t:i.custom,n)}const Bk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zk=["initial",...Bk],Ly=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fh=new Set(Ly),oa=n=>n*1e3,aa=n=>n/1e3,j5={type:"spring",stiffness:500,damping:25,restSpeed:10},H5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),W5={type:"keyframes",duration:.8},G5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q5=(n,{keyframes:e})=>e.length>2?W5:fh.has(n)?n.startsWith("scale")?H5(e[1]):j5:G5;function Uk(n,e){return n?n[e]||n.default||n:void 0}const K5={skipAnimations:!1,useManualTiming:!1},Z5=n=>n!==null;function Zb(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(Z5),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const Yi=n=>n;let fx=Yi;function Y5(n){let e=new Set,t=new Set,i=!1,s=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){r.has(u)&&(l.schedule(u),n()),u(o)}const l={schedule:(u,c=!1,d=!1)=>{const p=d&&i?e:t;return c&&r.add(u),p.has(u)||p.add(u),u},cancel:u=>{t.delete(u),r.delete(u)},process:u=>{if(o=u,i){s=!0;return}i=!0,[e,t]=[t,e],e.forEach(a),e.clear(),i=!1,s&&(s=!1,l.process(u))}};return l}const _0=["read","resolveKeyframes","update","preRender","render","postRender"],X5=40;function QF(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,o=_0.reduce((v,y)=>(v[y]=Y5(r),v),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=o,p=()=>{const v=performance.now();t=!1,s.delta=i?1e3/60:Math.max(Math.min(v-s.timestamp,X5),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),d.process(s),f.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(p))},m=()=>{t=!0,i=!0,s.isProcessing||n(p)};return{schedule:_0.reduce((v,y)=>{const _=o[y];return v[y]=(A,E=!1,C=!1)=>(t||m(),_.schedule(A,E,C)),v},{}),cancel:v=>{for(let y=0;y<_0.length;y++)o[_0[y]].cancel(v)},state:s,steps:o}}const{schedule:rt,cancel:jl,state:vn,steps:dS}=QF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yi,!0),JF=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Q5=1e-7,J5=12;function e6(n,e,t,i,s){let r,o,a=0;do o=e+(t-e)/2,r=JF(o,i,s)-n,r>0?t=o:e=o;while(Math.abs(r)>Q5&&++a<J5);return o}function Dy(n,e,t,i){if(n===e&&t===i)return Yi;const s=r=>e6(r,0,1,n,t);return r=>r===0||r===1?r:JF(s(r),e,i)}const e$=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,t$=n=>e=>1-n(1-e),n$=Dy(.33,1.53,.69,.99),Vk=t$(n$),i$=e$(Vk),s$=n=>(n*=2)<1?.5*Vk(n):.5*(2-Math.pow(2,-10*(n-1))),jk=n=>1-Math.sin(Math.acos(n)),r$=t$(jk),o$=e$(jk),a$=n=>/^0[^.\s]+$/u.test(n);function t6(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||a$(n):!0}const l$=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),u$=n=>e=>typeof e=="string"&&e.startsWith(n),c$=u$("--"),n6=u$("var(--"),Hk=n=>n6(n)?i6.test(n.split("/*")[0].trim()):!1,i6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,s6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r6(n){const e=s6.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function h$(n,e,t=1){const[i,s]=r6(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return l$(o)?parseFloat(o):o}return Hk(s)?h$(s,e,t+1):s}const ma=(n,e,t)=>t>e?e:t<n?n:t,Sp={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},gm={...Sp,transform:n=>ma(0,1,n)},b0={...Sp,default:1},Oy=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),_a=Oy("deg"),so=Oy("%"),de=Oy("px"),o6=Oy("vh"),a6=Oy("vw"),EI={...so,parse:n=>so.parse(n)/100,transform:n=>so.transform(n*100)},l6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),PI=n=>n===Sp||n===de,CI=(n,e)=>parseFloat(n.split(", ")[e]),TI=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return CI(s[1],e);{const r=i.match(/^matrix\((.+)\)$/u);return r?CI(r[1],n):0}},u6=new Set(["x","y","z"]),c6=Ly.filter(n=>!u6.has(n));function h6(n){const e=[];return c6.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ip={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:TI(4,13),y:TI(5,14)};ip.translateX=ip.x;ip.translateY=ip.y;const d$=n=>e=>e.test(n),d6={test:n=>n==="auto",parse:n=>n},f$=[Sp,de,so,_a,a6,o6,d6],kI=n=>f$.find(d$(n)),Zc=new Set;let px=!1,gx=!1;function p$(){if(gx){const n=Array.from(Zc).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=h6(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([r,o])=>{var a;(a=i.getValue(r))===null||a===void 0||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}gx=!1,px=!1,Zc.forEach(n=>n.complete()),Zc.clear()}function g$(){Zc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(gx=!0)})}function f6(){g$(),p$()}class Wk{constructor(e,t,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zc.add(this),px||(px=!0,rt.read(g$),rt.resolveKeyframes(p$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ng=n=>Math.round(n*1e5)/1e5,Gk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function p6(n){return n==null}const g6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qk=(n,e)=>t=>!!(typeof t=="string"&&g6.test(t)&&t.startsWith(n)||e&&!p6(t)&&Object.prototype.hasOwnProperty.call(t,e)),m$=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(Gk);return{[n]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},m6=n=>ma(0,255,n),fS={...Sp,transform:n=>Math.round(m6(n))},Tu={test:qk("rgb","red"),parse:m$("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+fS.transform(n)+", "+fS.transform(e)+", "+fS.transform(t)+", "+Ng(gm.transform(i))+")"};function v6(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const mx={test:qk("#"),parse:v6,transform:Tu.transform},nd={test:qk("hsl","hue"),parse:m$("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+so.transform(Ng(e))+", "+so.transform(Ng(t))+", "+Ng(gm.transform(i))+")"},In={test:n=>Tu.test(n)||mx.test(n)||nd.test(n),parse:n=>Tu.test(n)?Tu.parse(n):nd.test(n)?nd.parse(n):mx.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Tu.transform(n):nd.transform(n)},y6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w6(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Gk))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(y6))===null||t===void 0?void 0:t.length)||0)>0}const v$="number",y$="color",_6="var",b6="var(",RI="${}",S6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mm(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=e.replace(S6,l=>(In.test(l)?(i.color.push(r),s.push(y$),t.push(In.parse(l))):l.startsWith(b6)?(i.var.push(r),s.push(_6),t.push(l)):(i.number.push(r),s.push(v$),t.push(parseFloat(l))),++r,RI)).split(RI);return{values:t,split:a,indexes:i,types:s}}function w$(n){return mm(n).values}function _$(n){const{split:e,types:t}=mm(n),i=e.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=e[o],s[o]!==void 0){const a=t[o];a===v$?r+=Ng(s[o]):a===y$?r+=In.transform(s[o]):r+=s[o]}return r}}const A6=n=>typeof n=="number"?0:n;function x6(n){const e=w$(n);return _$(n)(e.map(A6))}const Hl={test:w6,parse:w$,createTransformer:_$,getAnimatableNone:x6},E6=new Set(["brightness","contrast","saturate","opacity"]);function P6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Gk)||[];if(!i)return n;const s=t.replace(i,"");let r=E6.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+s+")"}const C6=/\b([a-z-]*)\(.*?\)/gu,vx={...Hl,getAnimatableNone:n=>{const e=n.match(C6);return e?e.map(P6).join(" "):n}},T6={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},k6={rotate:_a,rotateX:_a,rotateY:_a,rotateZ:_a,scale:b0,scaleX:b0,scaleY:b0,scaleZ:b0,skew:_a,skewX:_a,skewY:_a,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:gm,originX:EI,originY:EI,originZ:de},MI={...Sp,transform:Math.round},Kk={...T6,...k6,zIndex:MI,size:de,fillOpacity:gm,strokeOpacity:gm,numOctaves:MI},R6={...Kk,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:vx,WebkitFilter:vx},Zk=n=>R6[n];function b$(n,e){let t=Zk(n);return t!==vx&&(t=Hl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const M6=new Set(["auto","none","0"]);function I6(n,e,t){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!M6.has(r)&&mm(r).values.length&&(s=n[i]),i++}if(s&&t)for(const r of e)n[r]=b$(t,s)}class S$ extends Wk{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Hk(u))){const c=h$(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!l6.has(i)||e.length!==2)return;const[s,r]=e,o=kI(s),a=kI(r);if(o!==a)if(PI(o)&&PI(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)t6(e[s])&&i.push(s);i.length&&I6(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ip[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=ip[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Yk(n){return typeof n=="function"}let vw;function L6(){vw=void 0}const ro={now:()=>(vw===void 0&&ro.set(vn.isProcessing||K5.useManualTiming?vn.timestamp:performance.now()),vw),set:n=>{vw=n,queueMicrotask(L6)}},II=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Hl.test(n)||n==="0")&&!n.startsWith("url("));function D6(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function O6(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],o=II(s,e),a=II(r,e);return!o||!a?!1:D6(n)||(t==="spring"||Yk(t))&&i}const N6=40;class A${constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ro.now(),this.options={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>N6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&f6(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ro.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!O6(e,i,s,r))if(o)this.options.duration=0;else{l==null||l(Zb(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,t);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const sp=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},x$=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)i+=n(sp(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function E$(n,e){return e?n*(1e3/e):0}const F6=5;function P$(n,e,t){const i=Math.max(e-F6,0);return E$(t-n(i),e-i)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pS=.001;function $6({duration:n=Ct.duration,bounce:e=Ct.bounce,velocity:t=Ct.velocity,mass:i=Ct.mass}){let s,r,o=1-e;o=ma(Ct.minDamping,Ct.maxDamping,o),n=ma(Ct.minDuration,Ct.maxDuration,aa(n)),o<1?(s=u=>{const c=u*o,d=c*n,f=c-t,p=yx(u,o),m=Math.exp(-d);return pS-f/p*m},r=u=>{const d=u*o*n,f=d*t+t,p=Math.pow(o,2)*Math.pow(u,2)*n,m=Math.exp(-d),g=yx(Math.pow(u,2),o);return(-s(u)+pS>0?-1:1)*((f-p)*m)/g}):(s=u=>{const c=Math.exp(-u*n),d=(u-t)*n+1;return-pS+c*d},r=u=>{const c=Math.exp(-u*n),d=(t-u)*(n*n);return c*d});const a=5/n,l=z6(s,r,a);if(n=oa(n),isNaN(l))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const B6=12;function z6(n,e,t){let i=t;for(let s=1;s<B6;s++)i=i-n(i)/e(i);return i}function yx(n,e){return n*Math.sqrt(1-e*e)}const wx=2e4;function C$(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<wx;)e+=t,i=n.next(e);return e>=wx?1/0:e}const U6=["duration","bounce"],V6=["stiffness","damping","mass"];function LI(n,e){return e.some(t=>n[t]!==void 0)}function j6(n){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...n};if(!LI(n,V6)&&LI(n,U6))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,r=2*ma(.05,1,1-n.bounce)*Math.sqrt(s);e={...e,mass:Ct.mass,stiffness:s,damping:r}}else{const t=$6(n);e={...e,...t,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function T$(n=Ct.visualDuration,e=Ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const r=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=j6({...t,velocity:-aa(t.velocity||0)}),m=f||0,g=u/(2*Math.sqrt(l*c)),w=o-r,v=aa(Math.sqrt(l/c)),y=Math.abs(w)<5;i||(i=y?Ct.restSpeed.granular:Ct.restSpeed.default),s||(s=y?Ct.restDelta.granular:Ct.restDelta.default);let _;if(g<1){const E=yx(v,g);_=C=>{const T=Math.exp(-g*v*C);return o-T*((m+g*v*w)/E*Math.sin(E*C)+w*Math.cos(E*C))}}else if(g===1)_=E=>o-Math.exp(-v*E)*(w+(m+v*w)*E);else{const E=v*Math.sqrt(g*g-1);_=C=>{const T=Math.exp(-g*v*C),k=Math.min(E*C,300);return o-T*((m+g*v*w)*Math.sinh(k)+E*w*Math.cosh(k))/E}}const A={calculatedDuration:p&&d||null,next:E=>{const C=_(E);if(p)a.done=E>=d;else{let T=0;g<1&&(T=E===0?oa(m):P$(_,E,C));const k=Math.abs(T)<=i,P=Math.abs(o-C)<=s;a.done=k&&P}return a.value=a.done?o:C,a},toString:()=>{const E=Math.min(C$(A),wx),C=x$(T=>A.next(E*T).value,E,30);return E+"ms "+C}};return A}function DI({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=n[0],f={done:!1,value:d},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,m=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let g=t*e;const w=d+g,v=o===void 0?w:o(w);v!==w&&(g=v-d);const y=k=>-g*Math.exp(-k/i),_=k=>v+y(k),A=k=>{const P=y(k),M=_(k);f.done=Math.abs(P)<=u,f.value=f.done?v:M};let E,C;const T=k=>{p(f.value)&&(E=k,C=T$({keyframes:[f.value,m(f.value)],velocity:P$(_,k,f.value),damping:s,stiffness:r,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:k=>{let P=!1;return!C&&E===void 0&&(P=!0,A(k),T(k)),E!==void 0&&k>=E?C.next(k-E):(!P&&A(k),f)}}}const H6=Dy(.42,0,1,1),W6=Dy(0,0,.58,1),k$=Dy(.42,0,.58,1),G6=n=>Array.isArray(n)&&typeof n[0]!="number",Xk=n=>Array.isArray(n)&&typeof n[0]=="number",OI={linear:Yi,easeIn:H6,easeInOut:k$,easeOut:W6,circIn:jk,circInOut:o$,circOut:r$,backIn:Vk,backInOut:i$,backOut:n$,anticipate:s$},NI=n=>{if(Xk(n)){fx(n.length===4);const[e,t,i,s]=n;return Dy(e,t,i,s)}else if(typeof n=="string")return fx(OI[n]!==void 0),OI[n];return n},q6=(n,e)=>t=>e(n(t)),Ny=(...n)=>n.reduce(q6),vt=(n,e,t)=>n+(e-n)*t;function gS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function K6({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,r=0,o=0;if(!e)s=r=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;s=gS(l,a,n+1/3),r=gS(l,a,n),o=gS(l,a,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function $_(n,e){return t=>t>0?e:n}const mS=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},Z6=[mx,Tu,nd],Y6=n=>Z6.find(e=>e.test(n));function FI(n){const e=Y6(n);if(!e)return!1;let t=e.parse(n);return e===nd&&(t=K6(t)),t}const $I=(n,e)=>{const t=FI(n),i=FI(e);if(!t||!i)return $_(n,e);const s={...t};return r=>(s.red=mS(t.red,i.red,r),s.green=mS(t.green,i.green,r),s.blue=mS(t.blue,i.blue,r),s.alpha=vt(t.alpha,i.alpha,r),Tu.transform(s))},_x=new Set(["none","hidden"]);function X6(n,e){return _x.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Q6(n,e){return t=>vt(n,e,t)}function Qk(n){return typeof n=="number"?Q6:typeof n=="string"?Hk(n)?$_:In.test(n)?$I:tW:Array.isArray(n)?R$:typeof n=="object"?In.test(n)?$I:J6:$_}function R$(n,e){const t=[...n],i=t.length,s=n.map((r,o)=>Qk(r)(r,e[o]));return r=>{for(let o=0;o<i;o++)t[o]=s[o](r);return t}}function J6(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=Qk(n[s])(n[s],e[s]));return s=>{for(const r in i)t[r]=i[r](s);return t}}function eW(n,e){var t;const i=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],a=n.indexes[o][s[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;i[r]=l,s[o]++}return i}const tW=(n,e)=>{const t=Hl.createTransformer(e),i=mm(n),s=mm(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?_x.has(n)&&!s.values.length||_x.has(e)&&!i.values.length?X6(n,e):Ny(R$(eW(i,s),s.values),t):$_(n,e)};function M$(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?vt(n,e,t):Qk(n)(n,e)}function nW(n,e,t){const i=[],s=t||M$,r=n.length-1;for(let o=0;o<r;o++){let a=s(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Yi:e;a=Ny(l,a)}i.push(a)}return i}function iW(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const r=n.length;if(fx(r===e.length),r===1)return()=>e[0];if(r===2&&n[0]===n[1])return()=>e[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=nW(e,i,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<n.length-2&&!(u<n[c+1]);c++);const d=sp(n[c],n[c+1],u);return o[c](d)};return t?u=>l(ma(n[0],n[r-1],u)):l}function sW(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=sp(0,e,i);n.push(vt(t,1,s))}}function rW(n){const e=[0];return sW(e,n.length-1),e}function oW(n,e){return n.map(t=>t*e)}function aW(n,e){return n.map(()=>e||k$).splice(0,n.length-1)}function B_({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=G6(i)?i.map(NI):NI(i),r={done:!1,value:e[0]},o=oW(t&&t.length===e.length?t:rW(e),n),a=iW(o,e,{ease:Array.isArray(s)?s:aW(e,s)});return{calculatedDuration:n,next:l=>(r.value=a(l),r.done=l>=n,r)}}const lW=n=>{const e=({timestamp:t})=>n(t);return{start:()=>rt.update(e,!0),stop:()=>jl(e),now:()=>vn.isProcessing?vn.timestamp:ro.now()}},uW={decay:DI,inertia:DI,tween:B_,keyframes:B_,spring:T$},cW=n=>n/100;class Jk extends A${constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Wk,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(r,a,t,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,a=Yk(t)?t:uW[t]||B_;let l,u;a!==B_&&typeof e[0]!="number"&&(l=Ny(cW,M$(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});r==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=C$(c));const{calculatedDuration:d}=c,f=d+s,p=f*(i+1)-s;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=i;if(this.startTime===null)return r.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:g,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let _=this.currentTime,A=r;if(p){const k=Math.min(this.currentTime,c)/d;let P=Math.floor(k),M=k%1;!M&&k>=1&&(M=1),M===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(m==="reverse"?(M=1-M,g&&(M-=g/d)):m==="mirror"&&(A=o)),_=ma(0,1,M)*d}const E=y?{done:!1,value:l[0]}:A.next(_);a&&(E.value=a(E.value));let{done:C}=E;!y&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&s!==void 0&&(E.value=Zb(l,this.options,s)),w&&w(E.value),T&&this.finish(),E}get duration(){const{resolved:e}=this;return e?aa(e.calculatedDuration):0}get time(){return aa(this.currentTime)}set time(e){e=oa(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=aa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=lW,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hW=new Set(["opacity","clipPath","filter","transform"]);function eR(n){let e;return()=>(e===void 0&&(e=n()),e)}const dW={linearEasing:void 0};function fW(n,e){const t=eR(n);return()=>{var i;return(i=dW[e])!==null&&i!==void 0?i:t()}}const z_=fW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function I$(n){return!!(typeof n=="function"&&z_()||!n||typeof n=="string"&&(n in bx||z_())||Xk(n)||Array.isArray(n)&&n.every(I$))}const eg=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,bx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eg([0,.65,.55,1]),circOut:eg([.55,0,1,.45]),backIn:eg([.31,.01,.66,-.59]),backOut:eg([.33,1.53,.69,.99])};function L$(n,e){if(n)return typeof n=="function"&&z_()?x$(n,e):Xk(n)?eg(n):Array.isArray(n)?n.map(t=>L$(t,e)||bx.easeOut):bx[n]}function pW(n,e,t,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:t};l&&(u.offset=l);const c=L$(a,s);return Array.isArray(c)&&(u.easing=c),n.animate(u,{delay:i,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}function BI(n,e){n.timeline=e,n.onfinish=null}const gW=eR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),U_=10,mW=2e4;function vW(n){return Yk(n.type)||n.type==="spring"||!I$(n.ease)}function yW(n,e){const t=new Jk({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<mW;)i=t.sample(r),s.push(i.value),r+=U_;return{times:void 0,keyframes:s,duration:r-U_,ease:"linear"}}const D$={anticipate:s$,backInOut:i$,circInOut:o$};function wW(n){return n in D$}class zI extends A${constructor(e){super(e);const{name:t,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new S$(r,(o,a)=>this.onKeyframesResolved(o,a),t,i,s),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:s=300,times:r,ease:o,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(typeof o=="string"&&z_()&&wW(o)&&(o=D$[o]),vW(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:g,...w}=this.options,v=yW(e,w);e=v.keyframes,e.length===1&&(e[1]=e[0]),s=v.duration,r=v.times,o=v.ease,a="keyframes"}const d=pW(l.owner.current,u,e,{...this.options,duration:s,times:r,ease:o});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(BI(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Zb(e,this.options,t)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return aa(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return aa(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=oa(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Yi;const{animation:i}=t;BI(i,e)}return Yi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:s,type:r,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:f,...p}=this.options,m=new Jk({...p,keyframes:i,duration:s,type:r,ease:o,times:a,isGenerator:!0}),g=oa(this.time);u.setWithVelocity(m.sample(g-U_).value,m.sample(g).value,U_)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:r,damping:o,type:a}=e;return gW()&&i&&hW.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!s&&r!=="mirror"&&o!==0&&a!=="inertia"}}const _W=eR(()=>window.ScrollTimeline!==void 0);class bW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(s=>_W()&&s.attachTimeline?s.attachTimeline(e):t(s));return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function SW({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const tR=(n,e,t,i={},s,r)=>o=>{const a=Uk(i,n)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-oa(l);let c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:r?void 0:s};SW(a)||(c={...c,...q5(n,c)}),c.duration&&(c.duration=oa(c.duration)),c.repeatDelay&&(c.repeatDelay=oa(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!r&&e.get()!==void 0){const f=Zb(c.keyframes,a);if(f!==void 0)return rt.update(()=>{c.onUpdate(f),c.onComplete()}),new bW([])}return!r&&zI.supports(c)?new zI(c):new Jk(c)},AW=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),xW=n=>dx(n)?n[n.length-1]||0:n;function nR(n,e){n.indexOf(e)===-1&&n.push(e)}function iR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class sR{constructor(){this.subscriptions=[]}add(e){return nR(this.subscriptions,e),()=>iR(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const UI=30,EW=n=>!isNaN(parseFloat(n));class PW{constructor(e,t={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=ro.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ro.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=EW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sR);const i=this.events[e].add(t);return e==="change"?()=>{i(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ro.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UI)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,UI);return E$(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vm(n,e){return new PW(n,e)}function CW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,vm(t))}function TW(n,e){const t=Kb(n,e);let{transitionEnd:i={},transition:s={},...r}=t||{};r={...r,...i};for(const o in r){const a=xW(r[o]);CW(n,o,a)}}const rR=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kW="framerAppearId",O$="data-"+rR(kW);function N$(n){return n.props[O$]}const Nn=n=>!!(n&&n.getVelocity);function RW(n){return!!(Nn(n)&&n.add)}function Sx(n,e){const t=n.getValue("willChange");if(RW(t))return t.add(e)}function MW({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function F$(n,e,{delay:t=0,transitionOverride:i,type:s}={}){var r;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const u=[],c=s&&n.animationState&&n.animationState.getState()[s];for(const d in l){const f=n.getValue(d,(r=n.latestValues[d])!==null&&r!==void 0?r:null),p=l[d];if(p===void 0||c&&MW(c,d))continue;const m={delay:t,...Uk(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const v=N$(n);if(v){const y=window.MotionHandoffAnimation(v,d,rt);y!==null&&(m.startTime=y,g=!0)}}Sx(n,d),f.start(tR(d,f,p,n.shouldReduceMotion&&fh.has(d)?{type:!1}:m,n,g));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{rt.update(()=>{a&&TW(n,a)})}),u}function Ax(n,e,t={}){var i;const s=Kb(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(r=t.transitionOverride);const o=s?()=>Promise.all(F$(n,s,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=r;return IW(n,e,c+u,d,f,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(t.delay)])}function IW(n,e,t=0,i=0,s=1,r){const o=[],a=(n.variantChildren.size-1)*i,l=s===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(LW).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Ax(u,e,{...r,delay:t+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function LW(n,e){return n.sortNodePosition(e)}function DW(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>Ax(n,r,t));i=Promise.all(s)}else if(typeof e=="string")i=Ax(n,e,t);else{const s=typeof e=="function"?Kb(n,e,t.custom):e;i=Promise.all(F$(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const OW=zk.length;function $$(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?$$(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<OW;t++){const i=zk[t],s=n.props[i];(pm(s)||s===!1)&&(e[i]=s)}return e}const NW=[...Bk].reverse(),FW=Bk.length;function $W(n){return e=>Promise.all(e.map(({animation:t,options:i})=>DW(n,t,i)))}function BW(n){let e=$W(n),t=VI(),i=!0;const s=l=>(u,c)=>{var d;const f=Kb(n,c,l==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;u={...u,...g,...m}}return u};function r(l){e=l(n)}function o(l){const{props:u}=n,c=$$(n.parent)||{},d=[],f=new Set;let p={},m=1/0;for(let w=0;w<FW;w++){const v=NW[w],y=t[v],_=u[v]!==void 0?u[v]:c[v],A=pm(_),E=v===l?y.isActive:null;E===!1&&(m=w);let C=_===c[v]&&_!==u[v]&&A;if(C&&i&&n.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...p},!y.isActive&&E===null||!_&&!y.prevProp||qb(_)||typeof _=="boolean")continue;const T=zW(y.prevProp,_);let k=T||v===l&&y.isActive&&!C&&A||w>m&&A,P=!1;const M=Array.isArray(_)?_:[_];let D=M.reduce(s(v),{});E===!1&&(D={});const{prevResolvedValues:H={}}=y,W={...H,...D},F=G=>{k=!0,f.has(G)&&(P=!0,f.delete(G)),y.needsAnimating[G]=!0;const N=n.getValue(G);N&&(N.liveStyle=!1)};for(const G in W){const N=D[G],Q=H[G];if(p.hasOwnProperty(G))continue;let J=!1;dx(N)&&dx(Q)?J=!XF(N,Q):J=N!==Q,J?N!=null?F(G):f.add(G):N!==void 0&&f.has(G)?F(G):y.protectedKeys[G]=!0}y.prevProp=_,y.prevResolvedValues=D,y.isActive&&(p={...p,...D}),i&&n.blockInitialAnimation&&(k=!1),k&&(!(C&&T)||P)&&d.push(...M.map(G=>({animation:G,options:{type:v}})))}if(f.size){const w={};f.forEach(v=>{const y=n.getBaseTarget(v),_=n.getValue(v);_&&(_.liveStyle=!0),w[v]=y??null}),d.push({animation:w})}let g=!!d.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(g=!1),i=!1,g?e(d):Promise.resolve()}function a(l,u){var c;if(t[l].isActive===u)return Promise.resolve();(c=n.variantChildren)===null||c===void 0||c.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),t[l].isActive=u;const d=o(l);for(const f in t)t[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>t,reset:()=>{t=VI(),i=!0}}}function zW(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!XF(e,n):!1}function iu(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VI(){return{animate:iu(!0),whileInView:iu(),whileHover:iu(),whileTap:iu(),whileDrag:iu(),whileFocus:iu(),exit:iu()}}class Ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UW extends Ql{constructor(e){super(e),e.animationState||(e.animationState=BW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let VW=0;class jW extends Ql{constructor(){super(...arguments),this.id=VW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const HW={animation:{Feature:UW},exit:{Feature:jW}},zs={x:!1,y:!1};function B$(){return zs.x||zs.y}function z$(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function U$(n,e){const t=z$(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function jI(n){return e=>{e.pointerType==="touch"||B$()||n(e)}}function WW(n,e,t={}){const[i,s,r]=U$(n,t),o=jI(a=>{const{target:l}=a,u=e(a);if(!u||!l)return;const c=jI(d=>{u(d),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,s)});return i.forEach(a=>{a.addEventListener("pointerenter",o,s)}),r}const oR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,tg=new WeakSet;function HI(n){return e=>{e.key==="Enter"&&n(e)}}function vS(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GW=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=HI(()=>{if(tg.has(t))return;vS(t,"down");const s=HI(()=>{vS(t,"up")}),r=()=>vS(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)},qW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KW(n){return qW.has(n.tagName)||n.tabIndex!==-1}const V$=(n,e)=>e?n===e?!0:V$(n,e.parentElement):!1;function WI(n){return oR(n)&&!B$()}function ZW(n,e,t={}){const[i,s,r]=U$(n,t),o=a=>{const l=a.currentTarget;if(!WI(a)||tg.has(l))return;tg.add(l);const u=e(a),c=(p,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!WI(p)||!tg.has(l))&&(tg.delete(l),u&&u(p,{success:m}))},d=p=>{c(p,t.useGlobalTarget||V$(l,p.target))},f=p=>{c(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return i.forEach(a=>{KW(a)||(a.tabIndex=0),(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>GW(u,s),s)}),r}function YW(n){return n==="x"||n==="y"?zs[n]?null:(zs[n]=!0,()=>{zs[n]=!1}):zs.x||zs.y?null:(zs.x=zs.y=!0,()=>{zs.x=zs.y=!1})}function Fy(n){return{point:{x:n.pageX,y:n.pageY}}}const XW=n=>e=>oR(e)&&n(e,Fy(e));function ym(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Fg(n,e,t,i){return ym(n,e,XW(t),i)}const GI=(n,e)=>Math.abs(n-e);function QW(n,e){const t=GI(n.x,e.x),i=GI(n.y,e.y);return Math.sqrt(t**2+i**2)}class j${constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=wS(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=QW(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:g}=vn;this.history.push({...m,timestamp:g});const{onStart:w,onMove:v}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=yS(f,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=wS(d.type==="pointercancel"?this.lastMoveEventInfo:yS(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,w),m&&m(d,w)},!oR(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;const o=Fy(e),a=yS(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=vn;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,wS(a,this.history)),this.removeListeners=Ny(Fg(this.contextWindow,"pointermove",this.handlePointerMove),Fg(this.contextWindow,"pointerup",this.handlePointerUp),Fg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jl(this.updatePoint)}}function yS(n,e){return e?{point:e(n.point)}:n}function qI(n,e){return{x:n.x-e.x,y:n.y-e.y}}function wS({point:n},e){return{point:n,delta:qI(n,H$(e)),offset:qI(n,JW(e)),velocity:e8(e,.1)}}function JW(n){return n[0]}function H$(n){return n[n.length-1]}function e8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=H$(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>oa(e)));)t--;if(!i)return{x:0,y:0};const r=aa(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function id(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}const W$=1e-4,t8=1-W$,n8=1+W$,G$=.01,i8=0-G$,s8=0+G$;function es(n){return n.max-n.min}function r8(n,e,t){return Math.abs(n-e)<=t}function KI(n,e,t,i=.5){n.origin=i,n.originPoint=vt(e.min,e.max,n.origin),n.scale=es(t)/es(e),n.translate=vt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=t8&&n.scale<=n8||isNaN(n.scale))&&(n.scale=1),(n.translate>=i8&&n.translate<=s8||isNaN(n.translate))&&(n.translate=0)}function $g(n,e,t,i){KI(n.x,e.x,t.x,i?i.originX:void 0),KI(n.y,e.y,t.y,i?i.originY:void 0)}function ZI(n,e,t){n.min=t.min+e.min,n.max=n.min+es(e)}function o8(n,e,t){ZI(n.x,e.x,t.x),ZI(n.y,e.y,t.y)}function YI(n,e,t){n.min=e.min-t.min,n.max=n.min+es(e)}function Bg(n,e,t){YI(n.x,e.x,t.x),YI(n.y,e.y,t.y)}function a8(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?vt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?vt(t,n,i.max):Math.min(n,t)),n}function XI(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function l8(n,{top:e,left:t,bottom:i,right:s}){return{x:XI(n.x,t,s),y:XI(n.y,e,i)}}function QI(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function u8(n,e){return{x:QI(n.x,e.x),y:QI(n.y,e.y)}}function c8(n,e){let t=.5;const i=es(n),s=es(e);return s>i?t=sp(e.min,e.max-i,n.min):i>s&&(t=sp(n.min,n.max-s,e.min)),ma(0,1,t)}function h8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const xx=.35;function d8(n=xx){return n===!1?n=0:n===!0&&(n=xx),{x:JI(n,"left","right"),y:JI(n,"top","bottom")}}function JI(n,e,t){return{min:eL(n,e),max:eL(n,t)}}function eL(n,e){return typeof n=="number"?n:n[e]||0}const tL=()=>({translate:0,scale:1,origin:0,originPoint:0}),sd=()=>({x:tL(),y:tL()}),nL=()=>({min:0,max:0}),Mt=()=>({x:nL(),y:nL()});function hs(n){return[n("x"),n("y")]}function q$({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function f8({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function p8(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function _S(n){return n===void 0||n===1}function Ex({scale:n,scaleX:e,scaleY:t}){return!_S(n)||!_S(e)||!_S(t)}function hu(n){return Ex(n)||K$(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function K$(n){return iL(n.x)||iL(n.y)}function iL(n){return n&&n!=="0%"}function V_(n,e,t){const i=n-t,s=e*i;return t+s}function sL(n,e,t,i,s){return s!==void 0&&(n=V_(n,s,i)),V_(n,t,i)+e}function Px(n,e=0,t=1,i,s){n.min=sL(n.min,e,t,i,s),n.max=sL(n.max,e,t,i,s)}function Z$(n,{x:e,y:t}){Px(n.x,e.translate,e.scale,e.originPoint),Px(n.y,t.translate,t.scale,t.originPoint)}const rL=.999999999999,oL=1.0000000000001;function g8(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,o;for(let a=0;a<s;a++){r=t[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&od(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Z$(n,o)),i&&hu(r.latestValues)&&od(n,r.latestValues))}e.x<oL&&e.x>rL&&(e.x=1),e.y<oL&&e.y>rL&&(e.y=1)}function rd(n,e){n.min=n.min+e,n.max=n.max+e}function aL(n,e,t,i,s=.5){const r=vt(n.min,n.max,s);Px(n,e,t,r,i)}function od(n,e){aL(n.x,e.x,e.scaleX,e.scale,e.originX),aL(n.y,e.y,e.scaleY,e.scale,e.originY)}function Y$(n,e){return q$(p8(n.getBoundingClientRect(),e))}function m8(n,e,t){const i=Y$(n,t),{scroll:s}=e;return s&&(rd(i.x,s.offset.x),rd(i.y,s.offset.y)),i}const X$=({current:n})=>n?n.ownerDocument.defaultView:null,v8=new WeakMap;class y8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Fy(c).point)},r=(c,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=YW(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(w=>{let v=this.getAxisMotionValue(w).get()||0;if(so.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[w];_&&(v=es(_)*(parseFloat(v)/100))}}this.originPoint[w]=v}),m&&rt.postRender(()=>m(c,d)),Sx(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=d;if(p&&this.currentDirection===null){this.currentDirection=w8(w),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),g&&g(c,d)},a=(c,d)=>this.stop(c,d),l=()=>hs(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new j$(e,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:X$(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&rt.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!S0(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=a8(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;t&&id(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=l8(s.layoutBox,t):this.constraints=!1,this.elastic=d8(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&hs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=h8(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!id(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=m8(i,s.root,this.visualElement.getTransformPagePoint());let o=u8(s.layout.layoutBox,r);if(t){const a=t(f8(o));this.hasMutatedConstraints=!!a,a&&(o=q$(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=hs(c=>{if(!S0(c,t,this.currentDirection))return;let d=l[c]||{};o&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:i?e[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Sx(this.visualElement,e),i.start(tR(e,i,0,t,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){hs(t=>{const{drag:i}=this.getProps();if(!S0(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[t];r.set(e[t]-vt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!id(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=c8({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),hs(o=>{if(!S0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(vt(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;v8.set(this.visualElement,this);const e=this.visualElement.current,t=Fg(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();id(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rt.read(i);const o=ym(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(hs(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),t(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=xx,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function S0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function w8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class _8 extends Ql{constructor(e){super(e),this.removeGroupControls=Yi,this.removeListeners=Yi,this.controls=new y8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yi}unmount(){this.removeGroupControls(),this.removeListeners()}}const lL=n=>(e,t)=>{n&&rt.postRender(()=>n(e,t))};class b8 extends Ql{constructor(){super(...arguments),this.removePointerDownListener=Yi}onPointerDown(e){this.session=new j$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:lL(e),onStart:lL(t),onMove:i,onEnd:(r,o)=>{delete this.session,s&&rt.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Fg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const aR=L.createContext(null);function S8(){const n=L.useContext(aR);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,s=L.useId();L.useEffect(()=>i(s),[]);const r=L.useCallback(()=>t&&t(s),[s,t]);return!e&&t?[!1,r]:[!0]}const Q$=L.createContext({}),J$=L.createContext({}),yw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uL(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const zp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(de.test(n))n=parseFloat(n);else return n;const t=uL(n,e.target.x),i=uL(n,e.target.y);return`${t}% ${i}%`}},A8={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=Hl.parse(n);if(s.length>5)return i;const r=Hl.createTransformer(n),o=typeof s[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=vt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),r(s)}},j_={};function x8(n){Object.assign(j_,n)}const{schedule:lR,cancel:Hle}=QF(queueMicrotask,!1);class E8 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;x8(P8),r&&(t.group&&t.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),yw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||rt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eB(n){const[e,t]=S8(),i=L.useContext(Q$);return d_.jsx(E8,{...n,layoutGroup:i,switchLayoutGroup:L.useContext(J$),isPresent:e,safeToRemove:t})}const P8={borderRadius:{...zp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zp,borderTopRightRadius:zp,borderBottomLeftRadius:zp,borderBottomRightRadius:zp,boxShadow:A8},tB=["TopLeft","TopRight","BottomLeft","BottomRight"],C8=tB.length,cL=n=>typeof n=="string"?parseFloat(n):n,hL=n=>typeof n=="number"||de.test(n);function T8(n,e,t,i,s,r){s?(n.opacity=vt(0,t.opacity!==void 0?t.opacity:1,k8(i)),n.opacityExit=vt(e.opacity!==void 0?e.opacity:1,0,R8(i))):r&&(n.opacity=vt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<C8;o++){const a=`border${tB[o]}Radius`;let l=dL(e,a),u=dL(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||hL(l)===hL(u)?(n[a]=Math.max(vt(cL(l),cL(u),i),0),(so.test(u)||so.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=vt(e.rotate||0,t.rotate||0,i))}function dL(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const k8=nB(0,.5,r$),R8=nB(.5,.95,Yi);function nB(n,e,t){return i=>i<n?0:i>e?1:t(sp(n,e,i))}function fL(n,e){n.min=e.min,n.max=e.max}function as(n,e){fL(n.x,e.x),fL(n.y,e.y)}function pL(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function gL(n,e,t,i,s){return n-=e,n=V_(n,1/t,i),s!==void 0&&(n=V_(n,1/s,i)),n}function M8(n,e=0,t=1,i=.5,s,r=n,o=n){if(so.test(e)&&(e=parseFloat(e),e=vt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=vt(r.min,r.max,i);n===r&&(a-=e),n.min=gL(n.min,e,t,a,s),n.max=gL(n.max,e,t,a,s)}function mL(n,e,[t,i,s],r,o){M8(n,e[t],e[i],e[s],e.scale,r,o)}const I8=["x","scaleX","originX"],L8=["y","scaleY","originY"];function vL(n,e,t,i){mL(n.x,e,I8,t?t.x:void 0,i?i.x:void 0),mL(n.y,e,L8,t?t.y:void 0,i?i.y:void 0)}function yL(n){return n.translate===0&&n.scale===1}function iB(n){return yL(n.x)&&yL(n.y)}function wL(n,e){return n.min===e.min&&n.max===e.max}function D8(n,e){return wL(n.x,e.x)&&wL(n.y,e.y)}function _L(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function sB(n,e){return _L(n.x,e.x)&&_L(n.y,e.y)}function bL(n){return es(n.x)/es(n.y)}function SL(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class O8{constructor(){this.members=[]}add(e){nR(this.members,e),e.scheduleRender()}remove(e){if(iR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function N8(n,e,t){let i="";const s=n.x.translate/e.x,r=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:p,skewY:m}=t;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),m&&(i+=`skewY(${m}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const F8=(n,e)=>n.depth-e.depth;class $8{constructor(){this.children=[],this.isDirty=!1}add(e){nR(this.children,e),this.isDirty=!0}remove(e){iR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F8),this.isDirty=!1,this.children.forEach(e)}}function ww(n){const e=Nn(n)?n.get():n;return AW(e)?e.toValue():e}function B8(n,e){const t=ro.now(),i=({timestamp:s})=>{const r=s-t;r>=e&&(jl(i),n(r-e))};return rt.read(i,!0),()=>jl(i)}function z8(n){return n instanceof SVGElement&&n.tagName!=="svg"}function U8(n,e,t){const i=Nn(n)?n:vm(n);return i.start(tR("",i,e,t)),i.animation}const du={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ng=typeof window<"u"&&window.MotionDebug!==void 0,bS=["","X","Y","Z"],V8={visibility:"hidden"},AL=1e3;let j8=0;function SS(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function rB(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=N$(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",rt,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&rB(i)}function oB({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=j8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ng&&(du.totalNodes=du.resolvedTargetDeltas=du.recalculatedProjection=0),this.nodes.forEach(G8),this.nodes.forEach(X8),this.nodes.forEach(Q8),this.nodes.forEach(q8),ng&&window.MotionDebug.record(du)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=z8(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),n){let d;const f=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=B8(f,250),yw.hasAnimatedSinceResize&&(yw.hasAnimatedSinceResize=!1,this.nodes.forEach(EL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||iG,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!sB(this.targetLayout,m)||p,_=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const A={...Uk(g,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||EL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xL);return}this.isUpdating||this.nodes.forEach(Z8),this.isUpdating=!1,this.nodes.forEach(Y8),this.nodes.forEach(H8),this.nodes.forEach(W8),this.clearAllSnapshots();const a=ro.now();vn.delta=ma(0,1e3/60,a-vn.timestamp),vn.timestamp=a,vn.isProcessing=!0,dS.update.process(vn),dS.preRender.process(vn),dS.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K8),this.sharedNodes.forEach(eG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!iB(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||hu(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),sG(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Mt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(rG))){const{scroll:c}=this.root;c&&(rd(l.x,c.offset.x),rd(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=Mt();if(as(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&as(l,o),rd(l.x,d.offset.x),rd(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Mt();as(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&od(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),hu(c.latestValues)&&od(l,c.latestValues)}return hu(this.latestValues)&&od(l,this.latestValues),l}removeTransform(o){const a=Mt();as(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!hu(u.latestValues))continue;Ex(u.latestValues)&&u.updateSnapshot();const c=Mt(),d=u.measurePageBox();as(c,d),vL(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return hu(this.latestValues)&&vL(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Bg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),Z$(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Bg(this.relativeTargetOrigin,this.target,p.target),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ng&&du.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ex(this.parent.latestValues)||K$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;as(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;g8(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Mt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pL(this.prevProjectionDelta.x,this.projectionDelta.x),pL(this.prevProjectionDelta.y,this.projectionDelta.y)),$g(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!SL(this.projectionDelta.x,this.prevProjectionDelta.x)||!SL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ng&&du.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sd(),this.projectionDelta=sd(),this.projectionDeltaWithTransform=sd()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=sd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Mt(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,w=this.getStack(),v=!w||w.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(nG));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const E=A/1e3;PL(d.x,o.x,E),PL(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tG(this.relativeTarget,this.relativeTargetOrigin,f,E),_&&D8(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Mt()),as(_,this.relativeTarget)),g&&(this.animationValues=c,T8(c,u,this.latestValues,E,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{yw.hasAnimatedSinceResize=!0,this.currentAnimation=U8(0,AL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&aB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Mt();const d=es(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=es(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}as(a,l),od(a,c),$g(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new O8),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&SS("z",o,u,this.animationValues);for(let c=0;c<bS.length;c++)SS(`rotate${bS[c]}`,o,u,this.animationValues),SS(`skew${bS[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V8;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ww(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ww(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=N8(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in j_){if(f[g]===void 0)continue;const{correct:w,applyTo:v}=j_[g],y=u.transform==="none"?f[g]:w(f[g],d);if(v){const _=v.length;for(let A=0;A<_;A++)u[v[A]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=d===this?ww(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(xL),this.root.sharedNodes.clear()}}}function H8(n){n.updateLayout()}function W8(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,o=t.source!==n.layout.source;r==="size"?hs(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],p=es(f);f.min=i[d].min,f.max=f.min+p}):aB(r,t.layoutBox,i)&&hs(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],p=es(i[d]);f.max=f.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+p)});const a=sd();$g(a,i,t.layoutBox);const l=sd();o?$g(l,n.applyTransform(s,!0),t.measuredBox):$g(l,i,t.layoutBox);const u=!iB(a);let c=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=Mt();Bg(m,t.layoutBox,f.layoutBox);const g=Mt();Bg(g,i,p.layoutBox),sB(m,g)||(c=!0),d.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=m,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function G8(n){ng&&du.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function q8(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function K8(n){n.clearSnapshot()}function xL(n){n.clearMeasurements()}function Z8(n){n.isLayoutDirty=!1}function Y8(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function EL(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function X8(n){n.resolveTargetDelta()}function Q8(n){n.calcProjection()}function J8(n){n.resetSkewAndRotation()}function eG(n){n.removeLeadSnapshot()}function PL(n,e,t){n.translate=vt(e.translate,0,t),n.scale=vt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function CL(n,e,t,i){n.min=vt(e.min,t.min,i),n.max=vt(e.max,t.max,i)}function tG(n,e,t,i){CL(n.x,e.x,t.x,i),CL(n.y,e.y,t.y,i)}function nG(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const iG={duration:.45,ease:[.4,0,.1,1]},TL=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),kL=TL("applewebkit/")&&!TL("chrome/")?Math.round:Yi;function RL(n){n.min=kL(n.min),n.max=kL(n.max)}function sG(n){RL(n.x),RL(n.y)}function aB(n,e,t){return n==="position"||n==="preserve-aspect"&&!r8(bL(e),bL(t),.2)}function rG(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const oG=oB({attachResizeListener:(n,e)=>ym(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AS={current:void 0},lB=oB({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!AS.current){const n=new oG({});n.mount(window),n.setOptions({layoutScroll:!0}),AS.current=n}return AS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),aG={pan:{Feature:b8},drag:{Feature:_8,ProjectionNode:lB,MeasureLayout:eB}};function ML(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=i[s];r&&rt.postRender(()=>r(e,Fy(e)))}class lG extends Ql{mount(){const{current:e}=this.node;e&&(this.unmount=WW(e,t=>(ML(this.node,t,"Start"),i=>ML(this.node,i,"End"))))}unmount(){}}class uG extends Ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ny(ym(this.node.current,"focus",()=>this.onFocus()),ym(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IL(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=i[s];r&&rt.postRender(()=>r(e,Fy(e)))}class cG extends Ql{mount(){const{current:e}=this.node;e&&(this.unmount=ZW(e,t=>(IL(this.node,t,"Start"),(i,{success:s})=>IL(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cx=new WeakMap,xS=new WeakMap,hG=n=>{const e=Cx.get(n.target);e&&e(n)},dG=n=>{n.forEach(hG)};function fG({root:n,...e}){const t=n||document;xS.has(t)||xS.set(t,{});const i=xS.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(dG,{root:n,...e})),i[s]}function pG(n,e,t){const i=fG(e);return Cx.set(n,t),i.observe(n),()=>{Cx.delete(n),i.unobserve(n)}}const gG={some:0,all:1};class mG extends Ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:gG[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return pG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(vG(e,t))&&this.startObserver()}unmount(){}}function vG({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const yG={inView:{Feature:mG},tap:{Feature:cG},focus:{Feature:uG},hover:{Feature:lG}},wG={layout:{ProjectionNode:lB,MeasureLayout:eB}},uB=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Yb=L.createContext({}),uR=typeof window<"u",_G=uR?L.useLayoutEffect:L.useEffect,cB=L.createContext({strict:!1});function bG(n,e,t,i,s){var r,o;const{visualElement:a}=L.useContext(Yb),l=L.useContext(cB),u=L.useContext(aR),c=L.useContext(uB).reducedMotion,d=L.useRef(null);i=i||l.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:a,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=L.useContext(J$);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&SG(d.current,t,s,p);const m=L.useRef(!1);L.useInsertionEffect(()=>{f&&m.current&&f.update(t,u)});const g=t[O$],w=L.useRef(!!g&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return _G(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),lR.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),L.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),w.current=!1))}),f}function SG(n,e,t,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:hB(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&id(a),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:u})}function hB(n){if(n)return n.options.allowProjection!==!1?n.projection:hB(n.parent)}function AG(n,e,t){return L.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):id(t)&&(t.current=i))},[e])}function Xb(n){return qb(n.animate)||zk.some(e=>pm(n[e]))}function dB(n){return!!(Xb(n)||n.variants)}function xG(n,e){if(Xb(n)){const{initial:t,animate:i}=n;return{initial:t===!1||pm(t)?t:void 0,animate:pm(i)?i:void 0}}return n.inherit!==!1?e:{}}function EG(n){const{initial:e,animate:t}=xG(n,L.useContext(Yb));return L.useMemo(()=>({initial:e,animate:t}),[LL(e),LL(t)])}function LL(n){return Array.isArray(n)?n.join(" "):n}const DL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rp={};for(const n in DL)rp[n]={isEnabled:e=>DL[n].some(t=>!!e[t])};function PG(n){for(const e in n)rp[e]={...rp[e],...n[e]}}const CG=Symbol.for("motionComponentSymbol");function TG({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){n&&PG(n);function r(a,l){let u;const c={...L.useContext(uB),...a,layoutId:kG(a)},{isStatic:d}=c,f=EG(a),p=i(a,d);if(!d&&uR){RG();const m=MG(c);u=m.MeasureLayout,f.visualElement=bG(s,p,c,e,m.ProjectionNode)}return d_.jsxs(Yb.Provider,{value:f,children:[u&&f.visualElement?d_.jsx(u,{visualElement:f.visualElement,...c}):null,t(s,a,AG(p,f.visualElement,l),p,d,f.visualElement)]})}const o=L.forwardRef(r);return o[CG]=s,o}function kG({layoutId:n}){const e=L.useContext(Q$).id;return e&&n!==void 0?e+"-"+n:n}function RG(n,e){L.useContext(cB).strict}function MG(n){const{drag:e,layout:t}=rp;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const IG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cR(n){return typeof n!="string"||n.includes("-")?!1:!!(IG.indexOf(n)>-1||/[A-Z]/u.test(n))}function fB(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const r in t)n.style.setProperty(r,t[r])}const pB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gB(n,e,t,i){fB(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(pB.has(s)?s:rR(s),e.attrs[s])}function mB(n,{layout:e,layoutId:t}){return fh.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!j_[n]||n==="opacity")}function hR(n,e,t){var i;const{style:s}=n,r={};for(const o in s)(Nn(s[o])||e.style&&Nn(e.style[o])||mB(o,n)||((i=t==null?void 0:t.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}function vB(n,e,t){const i=hR(n,e,t);for(const s in n)if(Nn(n[s])||Nn(e[s])){const r=Ly.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}function LG(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}function DG({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,s,r){const o={latestValues:OG(i,s,r,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const yB=n=>(e,t)=>{const i=L.useContext(Yb),s=L.useContext(aR),r=()=>DG(n,e,i,s);return t?r():LG(r)};function OG(n,e,t,i){const s={},r=i(n,{});for(const f in r)s[f]=ww(r[f]);let{initial:o,animate:a}=n;const l=Xb(n),u=dB(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!qb(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const m=$k(n,f[p]);if(m){const{transitionEnd:g,transition:w,...v}=m;for(const y in v){let _=v[y];if(Array.isArray(_)){const A=c?_.length-1:0;_=_[A]}_!==null&&(s[y]=_)}for(const y in g)s[y]=g[y]}}}return s}const dR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wB=()=>({...dR(),attrs:{}}),_B=(n,e)=>e&&typeof n=="number"?e.transform(n):n,NG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FG=Ly.length;function $G(n,e,t){let i="",s=!0;for(let r=0;r<FG;r++){const o=Ly[r],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const u=_B(a,Kk[o]);if(!l){s=!1;const c=NG[o]||o;i+=`${c}(${u}) `}t&&(e[o]=u)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function fR(n,e,t){const{style:i,vars:s,transformOrigin:r}=n;let o=!1,a=!1;for(const l in e){const u=e[l];if(fh.has(l)){o=!0;continue}else if(c$(l)){s[l]=u;continue}else{const c=_B(u,Kk[l]);l.startsWith("origin")?(a=!0,r[l]=c):i[l]=c}}if(e.transform||(o||t?i.transform=$G(e,n.transform,t):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=r;i.transformOrigin=`${l} ${u} ${c}`}}function OL(n,e,t){return typeof n=="string"?n:de.transform(e+t*n)}function BG(n,e,t){const i=OL(e,n.x,n.width),s=OL(t,n.y,n.height);return`${i} ${s}`}const zG={offset:"stroke-dashoffset",array:"stroke-dasharray"},UG={offset:"strokeDashoffset",array:"strokeDasharray"};function VG(n,e,t=1,i=0,s=!0){n.pathLength=1;const r=s?zG:UG;n[r.offset]=de.transform(-i);const o=de.transform(e),a=de.transform(t);n[r.array]=`${o} ${a}`}function pR(n,{attrX:e,attrY:t,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(fR(n,u,d),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:p,dimensions:m}=n;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(s!==void 0||r!==void 0||p.transform)&&(p.transformOrigin=BG(m,s!==void 0?s:.5,r!==void 0?r:.5)),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),i!==void 0&&(f.scale=i),o!==void 0&&VG(f,o,a,l,!1)}const gR=n=>typeof n=="string"&&n.toLowerCase()==="svg",jG={useVisualState:yB({scrapeMotionValuesFromProps:vB,createRenderState:wB,onMount:(n,e,{renderState:t,latestValues:i})=>{rt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),rt.render(()=>{pR(t,i,gR(e.tagName),n.transformTemplate),gB(e,t)})}})},HG={useVisualState:yB({scrapeMotionValuesFromProps:hR,createRenderState:dR})};function bB(n,e,t){for(const i in e)!Nn(e[i])&&!mB(i,t)&&(n[i]=e[i])}function WG({transformTemplate:n},e){return L.useMemo(()=>{const t=dR();return fR(t,e,n),Object.assign({},t.vars,t.style)},[e])}function GG(n,e){const t=n.style||{},i={};return bB(i,t,n),Object.assign(i,WG(n,e)),i}function qG(n,e){const t={},i=GG(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const KG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function H_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||KG.has(n)}let SB=n=>!H_(n);function ZG(n){n&&(SB=e=>e.startsWith("on")?!H_(e):n(e))}try{ZG(require("@emotion/is-prop-valid").default)}catch{}function YG(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(SB(s)||t===!0&&H_(s)||!e&&!H_(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function XG(n,e,t,i){const s=L.useMemo(()=>{const r=wB();return pR(r,e,gR(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};bB(r,n.style,n),s.style={...r,...s.style}}return s}function QG(n=!1){return(t,i,s,{latestValues:r},o)=>{const l=(cR(t)?XG:qG)(i,r,o,t),u=YG(i,typeof t=="string",n),c=t!==L.Fragment?{...u,...l,ref:s}:{},{children:d}=i,f=L.useMemo(()=>Nn(d)?d.get():d,[d]);return L.createElement(t,{...c,children:f})}}function JG(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...cR(i)?jG:HG,preloadedFeatures:n,useRender:QG(s),createVisualElement:e,Component:i};return TG(o)}}const Tx={current:null},AB={current:!1};function e7(){if(AB.current=!0,!!uR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tx.current=n.matches;n.addListener(e),e()}else Tx.current=!1}function t7(n,e,t){for(const i in e){const s=e[i],r=t[i];if(Nn(s))n.addValue(i,s);else if(Nn(r))n.addValue(i,vm(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,vm(o!==void 0?o:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const NL=new WeakMap,n7=[...f$,In,Hl],i7=n=>n7.find(d$(n)),FL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s7{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ro.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,rt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=Xb(t),this.isVariantNode=dB(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Nn(p)&&p.set(l[f],!1)}}mount(e){this.current=e,NL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),AB.current||e7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){NL.delete(this.current),this.projection&&this.projection.unmount(),jl(this.notifyUpdate),jl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=fh.has(e),s=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rp){const t=rp[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<FL.length;i++){const s=FL[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=e[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=t7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=vm(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(l$(s)||a$(s))?s=parseFloat(s):!i7(s)&&Hl.test(t)&&(s=b$(e,t)),this.setBaseTarget(e,Nn(s)?s.get():s)),Nn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=$k(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(s=o[e])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Nn(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new sR),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class xB extends s7{constructor(){super(...arguments),this.KeyframeResolver=S$}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function r7(n){return window.getComputedStyle(n)}class o7 extends xB{constructor(){super(...arguments),this.type="html",this.renderInstance=fB}readValueFromInstance(e,t){if(fh.has(t)){const i=Zk(t);return i&&i.default||0}else{const i=r7(e),s=(c$(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Y$(e,t)}build(e,t,i){fR(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return hR(e,t,i)}}class a7 extends xB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fh.has(t)){const i=Zk(t);return i&&i.default||0}return t=pB.has(t)?t:rR(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return vB(e,t,i)}build(e,t,i){pR(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,s){gB(e,t,i,s)}mount(e){this.isSVGTag=gR(e.tagName),super.mount(e)}}const l7=(n,e)=>cR(n)?new a7(e):new o7(e,{allowProjection:n!==L.Fragment}),u7=JG({...HW,...yG,...aG,...wG},l7),Gle=V5(u7),c7={some:0,all:1};function h7(n,e,{root:t,margin:i,amount:s="some"}={}){const r=z$(n),o=new WeakMap,a=u=>{u.forEach(c=>{const d=o.get(c.target);if(c.isIntersecting!==!!d)if(c.isIntersecting){const f=e(c);typeof f=="function"?o.set(c.target,f):l.unobserve(c.target)}else d&&(d(c),o.delete(c.target))})},l=new IntersectionObserver(a,{root:t,rootMargin:i,threshold:typeof s=="number"?s:c7[s]});return r.forEach(u=>l.observe(u)),()=>l.disconnect()}function qle(n,{root:e,margin:t,amount:i,once:s=!1}={}){const[r,o]=L.useState(!1);return L.useEffect(()=>{if(!n.current||s&&r)return;const a=()=>(o(!0),s?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:t,amount:i};return h7(n.current,a,l)},[e,n,t,s,i]),r}function EB(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=EB(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Cl(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=EB(n))&&(i&&(i+=" "),i+=e);return i}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PB=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...a},l)=>L.createElement("svg",{ref:l,...f7,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:PB("lucide",s),...a},[...o.map(([u,c])=>L.createElement(u,c)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=(n,e)=>{const t=L.forwardRef(({className:i,...s},r)=>L.createElement(p7,{ref:r,iconNode:e,className:PB(`lucide-${d7(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=g7("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var zg={};zg.d=(n,e)=>{for(var t in e)zg.o(e,t)&&!zg.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};zg.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var me=globalThis.pdfjsLib={};zg.d(me,{AbortException:()=>ph,AnnotationEditorLayer:()=>gK,AnnotationEditorParamsType:()=>De,AnnotationEditorType:()=>_e,AnnotationEditorUIManager:()=>wm,AnnotationLayer:()=>cK,AnnotationMode:()=>Ia,ColorPicker:()=>iz,DOMSVGFactory:()=>AR,DrawLayer:()=>mK,FeatureTest:()=>ti,GlobalWorkerOptions:()=>_u,ImageKind:()=>_w,InvalidPDFException:()=>TB,MissingPDFException:()=>$y,OPS:()=>Vs,OutputScale:()=>Lx,PDFDataRangeTransport:()=>E3,PDFDateString:()=>RB,PDFWorker:()=>Mw,PasswordResponses:()=>w7,PermissionFlag:()=>y7,PixelsPerInch:()=>op,RenderingCancelledException:()=>yR,TextLayer:()=>aE,UnexpectedResponseException:()=>t1,Util:()=>re,VerbosityLevel:()=>Qb,XfaLayer:()=>C3,build:()=>Hq,createValidAbsoluteUrl:()=>A7,fetchData:()=>i1,getDocument:()=>Oq,getFilenameFromUrl:()=>I7,getPdfFilenameFromUrl:()=>L7,getXfaPageViewport:()=>D7,isDataScheme:()=>s1,isPdfFile:()=>wR,noContextMenu:()=>mr,normalizeUnicode:()=>k7,setLayerDimensions:()=>ih,shadow:()=>Ce,stopEvent:()=>ar,version:()=>jq});const Qn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),CB=[1,0,0,1,0,0],kx=[.001,0,0,.001,0,0],m7=1e7,ES=1.35,Vi={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ia={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},v7="pdfjs_internal_editor_",_e={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},De={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},y7={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Pn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_w={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ht={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Up={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qb={ERRORS:0,WARNINGS:1,INFOS:5},Vs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},w7={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Jb=Qb.WARNINGS;function _7(n){Number.isInteger(n)&&(Jb=n)}function b7(){return Jb}function e1(n){Jb>=Qb.INFOS&&console.log(`Info: ${n}`)}function Ae(n){Jb>=Qb.WARNINGS&&console.log(`Warning: ${n}`)}function Ke(n){throw new Error(n)}function $t(n,e){n||Ke(e)}function S7(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function A7(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=T7(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(S7(i))return i}catch{}return null}function Ce(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Jl=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class Rx extends Jl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Mx extends Jl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let TB=class extends Jl{constructor(e){super(e,"InvalidPDFException")}},$y=class extends Jl{constructor(e){super(e,"MissingPDFException")}},t1=class extends Jl{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}};class x7 extends Jl{constructor(e){super(e,"FormatError")}}let ph=class extends Jl{constructor(e){super(e,"AbortException")}};function kB(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ke("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<e;s+=t){const r=Math.min(s+t,e),o=n.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function n1(n){typeof n!="string"&&Ke("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function E7(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function mR(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function P7(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function C7(){try{return new Function(""),!0}catch{return!1}}class ti{static get isLittleEndian(){return Ce(this,"isLittleEndian",P7())}static get isEvalSupported(){return Ce(this,"isEvalSupported",C7())}static get isOffscreenCanvasSupported(){return Ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ce(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ce(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ce(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ce(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const PS=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var ca,gA,bw,Ix;let re=(gA=class{static makeHexColor(e,t,i){return`#${PS[e]}${PS[t]}${PS[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,r]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],r[0],o[0]),Math.min(i[1],s[1],r[1],o[1]),Math.max(i[0],s[0],r[0],o[0]),Math.max(i[1],s[1],r[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-r*s))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>o?null:[i,r,s,o]}static bezierBoundingBox(e,t,i,s,r,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],S(this,ca,Ix).call(this,e,i,r,a,t,s,o,l,3*(-e+3*(i-r)+a),6*(e-2*i+r),3*(i-e),u),S(this,ca,Ix).call(this,e,i,r,a,t,s,o,l,3*(-t+3*(s-o)+l),6*(t-2*s+o),3*(s-t),u),u}},ca=new WeakSet,bw=function(e,t,i,s,r,o,a,l,u,c){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,m=d*(d*(d*e+3*u*t)+3*f*i)+p*s,g=d*(d*(d*r+3*u*o)+3*f*a)+p*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],g),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],g)},Ix=function(e,t,i,s,r,o,a,l,u,c,d,f){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&S(this,ca,bw).call(this,e,t,i,s,r,o,a,l,-d/c,f);return}const p=c**2-4*d*u;if(p<0)return;const m=Math.sqrt(p),g=2*u;S(this,ca,bw).call(this,e,t,i,s,r,o,a,l,(-c+m)/g,f),S(this,ca,bw).call(this,e,t,i,s,r,o,a,l,(-c-m)/g,f)},x(gA,ca),gA);function T7(n){return decodeURIComponent(escape(n))}let CS=null,$L=null;function k7(n){return CS||(CS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$L=new Map([["","t"]])),n.replaceAll(CS,(e,t,i)=>t?t.normalize("NFKC"):$L.get(i))}function R7(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),kB(n)}const vR="pdfjs_internal_id_",go={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function M7(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(kB(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});const mo="http://www.w3.org/2000/svg";var Qr;let op=(Qr=class{},ae(Qr,"CSS",96),ae(Qr,"PDF",72),ae(Qr,"PDF_TO_CSS_UNITS",Qr.CSS/Qr.PDF),Qr);async function i1(n,e="text"){if(ig(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class By{constructor({viewBox:e,scale:t,rotation:i,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=r;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,c=0,d=0,f=1;break;case 90:u=0,c=1,d=1,f=0;break;case 270:u=0,c=-1,d=-1,f=0;break;case 0:u=1,c=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,m,g,w;u===0?(p=Math.abs(l-e[1])*t+s,m=Math.abs(a-e[0])*t+r,g=(e[3]-e[1])*t,w=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+s,m=Math.abs(l-e[1])*t+r,g=(e[2]-e[0])*t,w=(e[3]-e[1])*t),this.transform=[u*t,c*t,d*t,f*t,p-u*t*a-d*t*l,m-c*t*a-f*t*l],this.width=g,this.height=w}get rawDims(){const{viewBox:e}=this;return Ce(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new By({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(e,t){return re.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=re.applyTransform([e[0],e[1]],this.transform),i=re.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return re.applyInverseTransform([e,t],this.transform)}}let yR=class extends Jl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function s1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function wR(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function I7(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function L7(n,e="document.pdf"){if(typeof n!="string")return e;if(s1(n))return Ae('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let r=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||e}class BL{constructor(){ae(this,"started",Object.create(null));ae(this,"times",[])}time(e){e in this.started&&Ae(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ae(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:r}of this.times)e.push(`${i.padEnd(t)} ${r-s}ms
`);return e.join("")}}function ig(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function mr(n){n.preventDefault()}function ar(n){n.preventDefault(),n.stopPropagation()}function zL(n){console.log("Deprecated API usage: "+n)}var mA,Rm;let RB=(mA=class{static toDateObject(e){if(!e||typeof e!="string")return null;h(this,Rm)||b(this,Rm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=h(this,Rm).exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(o+=c,a+=d):u==="+"&&(o-=c,a-=d),new Date(Date.UTC(i,s,r,o,a,l))}},Rm=new WeakMap,x(mA,Rm),mA);function D7(n,{scale:e=1,rotation:t=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new By({viewBox:r,scale:e,rotation:t})}function _R(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ae(`Not a valid color format: "${n}"`),[0,0,0])}function O7(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,_R(i))}e.remove()}function lt(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform();return[e,t,i,s,r,o]}function br(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform().invertSelf();return[e,t,i,s,r,o]}function ih(n,e,t=!1,i=!0){if(e instanceof By){const{pageWidth:s,pageHeight:r}=e.rawDims,{style:o}=n,a=ti.isCSSRoundSupported,l=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${r}px`,c=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=a?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=c,o.height=d):(o.width=d,o.height=c)}i&&n.setAttribute("data-main-rotation",e.rotation)}let Lx=class{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}};var Oa,Lu,Hs,Du,Mm,Im,ab,MB,ii,IB,LB,Sw,DB,Ox;const So=class So{constructor(e){x(this,ii);x(this,Oa,null);x(this,Lu,null);x(this,Hs);x(this,Du,null);x(this,Mm,null);b(this,Hs,e),h(So,Im)||b(So,Im,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,Oa,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=h(this,Hs)._uiManager._signal;e.addEventListener("contextmenu",mr,{signal:t}),e.addEventListener("pointerdown",S(So,ab,MB),{signal:t});const i=b(this,Du,document.createElement("div"));i.className="buttons",e.append(i);const s=h(this,Hs).toolbarPosition;if(s){const{style:r}=e,o=h(this,Hs)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return S(this,ii,DB).call(this),e}get div(){return h(this,Oa)}hide(){var e;h(this,Oa).classList.add("hidden"),(e=h(this,Lu))==null||e.hideDropdown()}show(){var e;h(this,Oa).classList.remove("hidden"),(e=h(this,Mm))==null||e.shown()}async addAltText(e){const t=await e.render();S(this,ii,Sw).call(this,t),h(this,Du).prepend(t,h(this,ii,Ox)),b(this,Mm,e)}addColorPicker(e){b(this,Lu,e);const t=e.renderButton();S(this,ii,Sw).call(this,t),h(this,Du).prepend(t,h(this,ii,Ox))}remove(){var e;h(this,Oa).remove(),(e=h(this,Lu))==null||e.destroy(),b(this,Lu,null)}};Oa=new WeakMap,Lu=new WeakMap,Hs=new WeakMap,Du=new WeakMap,Mm=new WeakMap,Im=new WeakMap,ab=new WeakSet,MB=function(e){e.stopPropagation()},ii=new WeakSet,IB=function(e){h(this,Hs)._focusEventsAllowed=!1,ar(e)},LB=function(e){h(this,Hs)._focusEventsAllowed=!0,ar(e)},Sw=function(e){const t=h(this,Hs)._uiManager._signal;e.addEventListener("focusin",S(this,ii,IB).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",S(this,ii,LB).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",mr,{signal:t})},DB=function(){const{editorType:e,_uiManager:t}=h(this,Hs),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",h(So,Im)[e]),S(this,ii,Sw).call(this,i),i.addEventListener("click",s=>{t.delete()},{signal:t._signal}),h(this,Du).append(i)},Ox=function(){const e=document.createElement("div");return e.className="divider",e},x(So,ab),x(So,Im,null);let Dx=So;var Lm,Ou,Nu,ql,OB,NB,FB;class N7{constructor(e){x(this,ql);x(this,Lm,null);x(this,Ou,null);x(this,Nu);b(this,Nu,e)}show(e,t,i){const[s,r]=S(this,ql,NB).call(this,t,i),{style:o}=h(this,Ou)||b(this,Ou,S(this,ql,OB).call(this));e.append(h(this,Ou)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Ou).remove()}}Lm=new WeakMap,Ou=new WeakMap,Nu=new WeakMap,ql=new WeakSet,OB=function(){const e=b(this,Ou,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",mr,{signal:h(this,Nu)._signal});const t=b(this,Lm,document.createElement("div"));return t.className="buttons",e.append(t),S(this,ql,FB).call(this),e},NB=function(e,t){let i=0,s=0;for(const r of e){const o=r.y+r.height;if(o<i)continue;const a=r.x+(t?r.width:0);if(o>i){s=a,i=o;continue}t?a>s&&(s=a):a<s&&(s=a)}return[t?1-s:s,i]},FB=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=h(this,Nu)._signal;e.addEventListener("contextmenu",mr,{signal:i}),e.addEventListener("click",()=>{h(this,Nu).highlightSelection("floating_button")},{signal:i}),h(this,Lm).append(e)};function W_(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var lb;class F7{constructor(){x(this,lb,0)}get id(){return`${v7}${An(this,lb)._++}`}}lb=new WeakMap;var Cd,Dm,Tn,Td,Aw;const ZR=class ZR{constructor(){x(this,Td);x(this,Cd,R7());x(this,Dm,0);x(this,Tn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ce(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:i,size:s,type:r}=e;return S(this,Td,Aw).call(this,`${t}_${i}_${s}_${r}`,e)}async getFromUrl(e){return S(this,Td,Aw).call(this,e,e)}async getFromBlob(e,t){const i=await t;return S(this,Td,Aw).call(this,e,i)}async getFromId(e){h(this,Tn)||b(this,Tn,new Map);const t=h(this,Tn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){h(this,Tn)||b(this,Tn,new Map);let i=h(this,Tn).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${h(this,Cd)}_${An(this,Dm)._++}`,refCounter:1,isSvg:!1},h(this,Tn).set(e,i),h(this,Tn).set(i.id,i),i}getSvgUrl(e){const t=h(this,Tn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;h(this,Tn)||b(this,Tn,new Map);const t=h(this,Tn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,Cd)}_`)}};Cd=new WeakMap,Dm=new WeakMap,Tn=new WeakMap,Td=new WeakSet,Aw=async function(e,t){h(this,Tn)||b(this,Tn,new Map);let i=h(this,Tn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${h(this,Cd)}_${An(this,Dm)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(i.url=t,s=await i1(t,"blob")):t instanceof File?s=i.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const r=ZR._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,u()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=c});o.readAsDataURL(s),await l}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){Ae(s),i=null}return h(this,Tn).set(e,i),i&&h(this,Tn).set(i.id,i),i};let Nx=ZR;var kt,Na,Om,ft;class $7{constructor(e=128){x(this,kt,[]);x(this,Na,!1);x(this,Om);x(this,ft,-1);b(this,Om,e)}add({cmd:e,undo:t,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(s&&e(),h(this,Na))return;const l={cmd:e,undo:t,post:i,type:r};if(h(this,ft)===-1){h(this,kt).length>0&&(h(this,kt).length=0),b(this,ft,0),h(this,kt).push(l);return}if(o&&h(this,kt)[h(this,ft)].type===r){a&&(l.undo=h(this,kt)[h(this,ft)].undo),h(this,kt)[h(this,ft)]=l;return}const u=h(this,ft)+1;u===h(this,Om)?h(this,kt).splice(0,1):(b(this,ft,u),u<h(this,kt).length&&h(this,kt).splice(u)),h(this,kt).push(l)}undo(){if(h(this,ft)===-1)return;b(this,Na,!0);const{undo:e,post:t}=h(this,kt)[h(this,ft)];e(),t==null||t(),b(this,Na,!1),b(this,ft,h(this,ft)-1)}redo(){if(h(this,ft)<h(this,kt).length-1){b(this,ft,h(this,ft)+1),b(this,Na,!0);const{cmd:e,post:t}=h(this,kt)[h(this,ft)];e(),t==null||t(),b(this,Na,!1)}}hasSomethingToUndo(){return h(this,ft)!==-1}hasSomethingToRedo(){return h(this,ft)<h(this,kt).length-1}cleanType(e){if(h(this,ft)!==-1){for(let t=h(this,ft);t>=0;t--)if(h(this,kt)[t].type!==e){h(this,kt).splice(t+1,h(this,ft)-t),b(this,ft,t);return}h(this,kt).length=0,b(this,ft,-1)}}destroy(){b(this,kt,null)}}kt=new WeakMap,Na=new WeakMap,Om=new WeakMap,ft=new WeakMap;var ub,$B;class zy{constructor(e){x(this,ub);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ti.platform;for(const[i,s,r={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(S(this,ub,$B).call(this,t));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(s.bind(e,...o,t)(),r||ar(t))}}ub=new WeakSet,$B=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const cb=class cb{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return O7(e),Ce(this,"_colors",e)}convert(e){const t=_R(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every((r,o)=>r===t[o]))return cb._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?re.makeHexColor(...t):e}};ae(cb,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Fx=cb;var kd,Mi,Wt,hn,Rd,Po,Md,fs,Fa,Fu,Id,$u,kr,Ws,Bu,Nm,Fm,Ld,$m,Rr,$a,Dd,Ba,Mr,hb,za,Bm,Ua,zu,zm,Um,Qt,je,Co,Uu,Vm,jm,Va,Ir,To,Hm,ps,ea,Z,xw,$x,BB,zB,Ew,UB,VB,jB,Bx,HB,zx,Ux,WB,Wn,vo,GB,qB,Vx,KB,sg,jx;let wm=(ea=class{constructor(e,t,i,s,r,o,a,l,u,c,d,f){x(this,Z);x(this,kd,new AbortController);x(this,Mi,null);x(this,Wt,new Map);x(this,hn,new Map);x(this,Rd,null);x(this,Po,null);x(this,Md,null);x(this,fs,new $7);x(this,Fa,null);x(this,Fu,null);x(this,Id,0);x(this,$u,new Set);x(this,kr,null);x(this,Ws,null);x(this,Bu,new Set);ae(this,"_editorUndoBar",null);x(this,Nm,!1);x(this,Fm,!1);x(this,Ld,!1);x(this,$m,null);x(this,Rr,null);x(this,$a,null);x(this,Dd,null);x(this,Ba,!1);x(this,Mr,null);x(this,hb,new F7);x(this,za,!1);x(this,Bm,!1);x(this,Ua,null);x(this,zu,null);x(this,zm,null);x(this,Um,null);x(this,Qt,_e.NONE);x(this,je,new Set);x(this,Co,null);x(this,Uu,null);x(this,Vm,null);x(this,jm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,Va,[0,0]);x(this,Ir,null);x(this,To,null);x(this,Hm,null);x(this,ps,null);const p=this._signal=h(this,kd).signal;b(this,To,e),b(this,Hm,t),b(this,Rd,i),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:p}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),s._on("setpreference",this.onSetPreference.bind(this),{signal:p}),s._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:p}),S(this,Z,UB).call(this),S(this,Z,WB).call(this),S(this,Z,Bx).call(this),b(this,Po,r.annotationStorage),b(this,$m,r.filterFactory),b(this,Uu,o),b(this,Dd,a||null),b(this,Nm,l),b(this,Fm,u),b(this,Ld,c),b(this,Um,d||null),this.viewParameters={realScale:op.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null}static get _keyboardManager(){const e=ea.prototype,t=o=>h(o,To).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new zy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,To).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,To).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,i,s,r;(e=h(this,ps))==null||e.resolve(),b(this,ps,null),(t=h(this,kd))==null||t.abort(),b(this,kd,null),this._signal=null;for(const o of h(this,hn).values())o.destroy();h(this,hn).clear(),h(this,Wt).clear(),h(this,Bu).clear(),b(this,Mi,null),h(this,je).clear(),h(this,fs).destroy(),(i=h(this,Rd))==null||i.destroy(),(s=h(this,Mr))==null||s.hide(),b(this,Mr,null),h(this,Rr)&&(clearTimeout(h(this,Rr)),b(this,Rr,null)),h(this,Ir)&&(clearTimeout(h(this,Ir)),b(this,Ir,null)),(r=this._editorUndoBar)==null||r.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,Um)}get useNewAltTextFlow(){return h(this,Fm)}get useNewAltTextWhenAddingImage(){return h(this,Ld)}get hcmFilter(){return Ce(this,"hcmFilter",h(this,Uu)?h(this,$m).addHCMFilter(h(this,Uu).foreground,h(this,Uu).background):"none")}get direction(){return Ce(this,"direction",getComputedStyle(h(this,To)).direction)}get highlightColors(){return Ce(this,"highlightColors",h(this,Dd)?new Map(h(this,Dd).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ce(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,Fu,e)}setMainHighlightColorPicker(e){b(this,zm,e)}editAltText(e,t=!1){var i;(i=h(this,Rd))==null||i.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Ld,t);break}}onPageChanging({pageNumber:e}){b(this,Id,e-1)}focusMainContainer(){h(this,To).focus()}findParent(e,t){for(const i of h(this,hn).values()){const{x:s,y:r,width:o,height:a}=i.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=r&&t<=r+a)return i}return null}disableUserSelect(e=!1){h(this,Hm).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,Bu).add(e)}removeShouldRescale(e){h(this,Bu).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*op.PDF_TO_CSS_UNITS;for(const i of h(this,Bu))i.onScaleChanging();(t=h(this,Fu))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o}=t,a=t.toString(),u=S(this,Z,xw).call(this,t).closest(".textLayer"),c=this.getSelectionBoxes(u);if(!c)return;t.empty();const d=S(this,Z,$x).call(this,u),f=h(this,Qt)===_e.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(_e.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&h(this,Po)&&!h(this,Po).has(e.id)&&h(this,Po).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,h(this,Ba)&&(b(this,Ba,!1),S(this,Z,Ew).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of h(this,je))if(t.div.contains(e)){b(this,zu,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!h(this,zu))return;const[e,t]=h(this,zu);b(this,zu,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){S(this,Z,Bx).call(this),S(this,Z,zx).call(this)}removeEditListeners(){S(this,Z,HB).call(this),S(this,Z,Ux).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of h(this,Ws))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of h(this,Ws))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=h(this,Mi))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of h(this,je)){const r=s.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const o of h(this,Ws))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){Ae(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const l of i){const u=await s.deserialize(l);if(!u)return;r.push(u)}const o=()=>{for(const l of r)S(this,Z,Vx).call(this,l);S(this,Z,jx).call(this,r)},a=()=>{for(const l of r)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){Ae(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Qt)!==_e.NONE&&!this.isEditorHandlingKeyboard&&ea._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Ba)&&(b(this,Ba,!1),S(this,Z,Ew).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(S(this,Z,VB).call(this),S(this,Z,zx).call(this),S(this,Z,Wn).call(this,{isEditing:h(this,Qt)!==_e.NONE,isEmpty:S(this,Z,sg).call(this),hasSomethingToUndo:h(this,fs).hasSomethingToUndo(),hasSomethingToRedo:h(this,fs).hasSomethingToRedo(),hasSelectedEditor:!1})):(S(this,Z,jB).call(this),S(this,Z,Ux).call(this),S(this,Z,Wn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,Ws)){b(this,Ws,e);for(const t of h(this,Ws))S(this,Z,vo).call(this,t.defaultPropertiesToUpdate)}}getId(){return h(this,hb).id}get currentLayer(){return h(this,hn).get(h(this,Id))}getLayer(e){return h(this,hn).get(e)}get currentPageIndex(){return h(this,Id)}addLayer(e){h(this,hn).set(e.pageIndex,e),h(this,za)?e.enable():e.disable()}removeLayer(e){h(this,hn).delete(e.pageIndex)}async updateMode(e,t=null,i=!1){var s;if(h(this,Qt)!==e&&!(h(this,ps)&&(await h(this,ps).promise,!h(this,ps)))){if(b(this,ps,Promise.withResolvers()),b(this,Qt,e),e===_e.NONE){this.setEditingState(!1),S(this,Z,qB).call(this),(s=this._editorUndoBar)==null||s.hide(),h(this,ps).resolve();return}this.setEditingState(!0),await S(this,Z,GB).call(this),this.unselectAll();for(const r of h(this,hn).values())r.updateMode(e);if(!t){i&&this.addNewEditorFromKeyboard(),h(this,ps).resolve();return}for(const r of h(this,Wt).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,ps).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==h(this,Qt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(h(this,Ws)){switch(e){case De.CREATE:this.currentLayer.addNewEditor();return;case De.HIGHLIGHT_DEFAULT_COLOR:(i=h(this,zm))==null||i.updateColor(t);break;case De.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Vm)||b(this,Vm,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of h(this,je))s.updateParams(e,t);for(const s of h(this,Ws))s.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var r;for(const o of h(this,Wt).values())o.editorType===e&&o.show(t);(((r=h(this,Vm))==null?void 0:r.get(De.HIGHLIGHT_SHOW_ALL))??!0)!==t&&S(this,Z,vo).call(this,[[De.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(h(this,Bm)!==e){b(this,Bm,e);for(const t of h(this,hn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of h(this,Wt).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return h(this,Wt).get(e)}addEditor(e){h(this,Wt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(h(this,Rr)&&clearTimeout(h(this,Rr)),b(this,Rr,setTimeout(()=>{this.focusMainContainer(),b(this,Rr,null)},0))),h(this,Wt).delete(e.id),this.unselect(e),(!e.annotationElementId||!h(this,$u).has(e.annotationElementId))&&((t=h(this,Po))==null||t.remove(e.id))}addDeletedAnnotationElement(e){h(this,$u).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,$u).has(e)}removeDeletedAnnotationElement(e){h(this,$u).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,Mi)!==e&&(b(this,Mi,e),e&&S(this,Z,vo).call(this,e.propertiesToUpdate))}updateUI(e){h(this,Z,KB)===e&&S(this,Z,vo).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){S(this,Z,vo).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(h(this,je).has(e)){h(this,je).delete(e),e.unselect(),S(this,Z,Wn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,je).add(e),e.select(),S(this,Z,vo).call(this,e.propertiesToUpdate),S(this,Z,Wn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=h(this,Fu))==null||t.commitOrRemove();for(const i of h(this,je))i!==e&&i.unselect();h(this,je).clear(),h(this,je).add(e),e.select(),S(this,Z,vo).call(this,e.propertiesToUpdate),S(this,Z,Wn).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,je).has(e)}get firstSelectedEditor(){return h(this,je).values().next().value}unselect(e){e.unselect(),h(this,je).delete(e),S(this,Z,Wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,je).size!==0}get isEnterHandled(){return h(this,je).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;h(this,fs).undo(),S(this,Z,Wn).call(this,{hasSomethingToUndo:h(this,fs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:S(this,Z,sg).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){h(this,fs).redo(),S(this,Z,Wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,fs).hasSomethingToRedo(),isEmpty:S(this,Z,sg).call(this)})}addCommands(e){h(this,fs).add(e),S(this,Z,Wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:S(this,Z,sg).call(this)})}cleanUndoStack(e){h(this,fs).cleanType(e)}delete(){var r;this.commitOrRemove();const e=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...h(this,je)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},s=()=>{for(const o of t)S(this,Z,Vx).call(this,o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=h(this,Mi))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,Mi)||this.hasSelection}selectAll(){for(const e of h(this,je))e.commit();S(this,Z,jx).call(this,h(this,Wt).values())}unselectAll(){var e;if(!(h(this,Mi)&&(h(this,Mi).commitOrRemove(),h(this,Qt)!==_e.NONE))&&!((e=h(this,Fu))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of h(this,je))t.unselect();h(this,je).clear(),S(this,Z,Wn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;h(this,Va)[0]+=e,h(this,Va)[1]+=t;const[s,r]=h(this,Va),o=[...h(this,je)],a=1e3;h(this,Ir)&&clearTimeout(h(this,Ir)),b(this,Ir,setTimeout(()=>{b(this,Ir,null),h(this,Va)[0]=h(this,Va)[1]=0,this.addCommands({cmd:()=>{for(const l of o)h(this,Wt).has(l.id)&&l.translateInPage(s,r)},undo:()=>{for(const l of o)h(this,Wt).has(l.id)&&l.translateInPage(-s,-r)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,kr,new Map);for(const e of h(this,je))h(this,kr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,kr))return!1;this.disableUserSelect(!1);const e=h(this,kr);b(this,kr,null);let t=!1;for(const[{x:s,y:r,pageIndex:o},a]of e)a.newX=s,a.newY=r,a.newPageIndex=o,t||(t=s!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(s,r,o,a)=>{if(h(this,Wt).has(s.id)){const l=h(this,hn).get(a);l?s._setParentAndPosition(l,r,o):(s.pageIndex=a,s.x=r,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:o,newPageIndex:a}]of e)i(s,r,o,a)},undo:()=>{for(const[s,{savedX:r,savedY:o,savedPageIndex:a}]of e)i(s,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(h(this,kr))for(const i of h(this,kr).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,je).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,Mi)===e}getActive(){return h(this,Mi)}getMode(){return h(this,Qt)}get imageManager(){return Ce(this,"imageManager",new Nx)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,c=t.rangeCount;u<c;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,c,d,f)=>({x:(c-s)/o,y:1-(u+d-i)/r,width:f/o,height:d/r});break;case"180":a=(u,c,d,f)=>({x:1-(u+d-i)/r,y:1-(c+f-s)/o,width:d/r,height:f/o});break;case"270":a=(u,c,d,f)=>({x:1-(c+f-s)/o,y:(u-i)/r,width:f/o,height:d/r});break;default:a=(u,c,d,f)=>({x:(u-i)/r,y:(c-s)/o,width:d/r,height:f/o});break}const l=[];for(let u=0,c=t.rangeCount;u<c;u++){const d=t.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:m,height:g}of d.getClientRects())m===0||g===0||l.push(a(f,p,m,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(h(this,Md)||b(this,Md,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=h(this,Md))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=h(this,Md))==null?void 0:s.get(e.data.id);if(!t)return;const i=h(this,Po).getRawValue(t);i&&(h(this,Qt)===_e.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}},kd=new WeakMap,Mi=new WeakMap,Wt=new WeakMap,hn=new WeakMap,Rd=new WeakMap,Po=new WeakMap,Md=new WeakMap,fs=new WeakMap,Fa=new WeakMap,Fu=new WeakMap,Id=new WeakMap,$u=new WeakMap,kr=new WeakMap,Ws=new WeakMap,Bu=new WeakMap,Nm=new WeakMap,Fm=new WeakMap,Ld=new WeakMap,$m=new WeakMap,Rr=new WeakMap,$a=new WeakMap,Dd=new WeakMap,Ba=new WeakMap,Mr=new WeakMap,hb=new WeakMap,za=new WeakMap,Bm=new WeakMap,Ua=new WeakMap,zu=new WeakMap,zm=new WeakMap,Um=new WeakMap,Qt=new WeakMap,je=new WeakMap,Co=new WeakMap,Uu=new WeakMap,Vm=new WeakMap,jm=new WeakMap,Va=new WeakMap,Ir=new WeakMap,To=new WeakMap,Hm=new WeakMap,ps=new WeakMap,Z=new WeakSet,xw=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},$x=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of h(this,hn).values())if(i.hasTextLayer(e))return i;return null},BB=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=S(this,Z,xw).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(h(this,Mr)||b(this,Mr,new N7(this)),h(this,Mr).show(i,s,this.direction==="ltr"))},zB=function(){var r,o,a;const e=document.getSelection();if(!e||e.isCollapsed){h(this,Co)&&((r=h(this,Mr))==null||r.hide(),b(this,Co,null),S(this,Z,Wn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===h(this,Co))return;const s=S(this,Z,xw).call(this,e).closest(".textLayer");if(!s){h(this,Co)&&((o=h(this,Mr))==null||o.hide(),b(this,Co,null),S(this,Z,Wn).call(this,{hasSelectedText:!1}));return}if((a=h(this,Mr))==null||a.hide(),b(this,Co,t),S(this,Z,Wn).call(this,{hasSelectedText:!0}),!(h(this,Qt)!==_e.HIGHLIGHT&&h(this,Qt)!==_e.NONE)&&(h(this,Qt)===_e.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Ba,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,Qt)===_e.HIGHLIGHT?S(this,Z,$x).call(this,s):null;l==null||l.toggleDrawing();const u=new AbortController,c=this.combinedSignal(u),d=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&S(this,Z,Ew).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}},Ew=function(e=""){h(this,Qt)===_e.HIGHLIGHT?this.highlightSelection(e):h(this,Nm)&&S(this,Z,BB).call(this)},UB=function(){document.addEventListener("selectionchange",S(this,Z,zB).bind(this),{signal:this._signal})},VB=function(){if(h(this,$a))return;b(this,$a,new AbortController);const e=this.combinedSignal(h(this,$a));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},jB=function(){var e;(e=h(this,$a))==null||e.abort(),b(this,$a,null)},Bx=function(){if(h(this,Ua))return;b(this,Ua,new AbortController);const e=this.combinedSignal(h(this,Ua));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},HB=function(){var e;(e=h(this,Ua))==null||e.abort(),b(this,Ua,null)},zx=function(){if(h(this,Fa))return;b(this,Fa,new AbortController);const e=this.combinedSignal(h(this,Fa));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Ux=function(){var e;(e=h(this,Fa))==null||e.abort(),b(this,Fa,null)},WB=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Wn=function(e){Object.entries(e).some(([i,s])=>h(this,jm)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,jm),e)}),h(this,Qt)===_e.HIGHLIGHT&&e.hasSelectedEditor===!1&&S(this,Z,vo).call(this,[[De.HIGHLIGHT_FREE,!0]]))},vo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},GB=async function(){if(!h(this,za)){b(this,za,!0);const e=[];for(const t of h(this,hn).values())e.push(t.enable());await Promise.all(e);for(const t of h(this,Wt).values())t.enable()}},qB=function(){if(this.unselectAll(),h(this,za)){b(this,za,!1);for(const e of h(this,hn).values())e.disable();for(const e of h(this,Wt).values())e.disable()}},Vx=function(e){const t=h(this,hn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},KB=function(){let e=null;for(e of h(this,je));return e},sg=function(){if(h(this,Wt).size===0)return!0;if(h(this,Wt).size===1)for(const e of h(this,Wt).values())return e.isEmpty();return!1},jx=function(e){for(const t of h(this,je))t.unselect();h(this,je).clear();for(const t of e)t.isEmpty()||(h(this,je).add(t),t.select());S(this,Z,Wn).call(this,{hasSelectedEditor:this.hasSelection})},ae(ea,"TRANSLATE_SMALL",1),ae(ea,"TRANSLATE_BIG",10),ea);var Jt,Lr,Gs,Od,Dr,Ii,Nd,Or,di,ko,Vu,Nr,ja,cr,rg,Pw;const Gn=class Gn{constructor(e){x(this,cr);x(this,Jt,null);x(this,Lr,!1);x(this,Gs,null);x(this,Od,null);x(this,Dr,null);x(this,Ii,null);x(this,Nd,!1);x(this,Or,null);x(this,di,null);x(this,ko,null);x(this,Vu,null);x(this,Nr,!1);b(this,di,e),b(this,Nr,e._uiManager.useNewAltTextFlow),h(Gn,ja)||b(Gn,ja,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Gn._l10n??(Gn._l10n=e)}async render(){const e=b(this,Gs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,Od,document.createElement("span"));e.append(t),h(this,Nr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(Gn,ja).missing),t.setAttribute("data-l10n-id",h(Gn,ja)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=h(this,di)._uiManager._signal;e.addEventListener("contextmenu",mr,{signal:i}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),h(this,di)._uiManager.editAltText(h(this,di)),h(this,Nr)&&h(this,di)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,cr,rg)}})};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(b(this,Nd,!0),s(r))},{signal:i}),await S(this,cr,Pw).call(this),e}finish(){h(this,Gs)&&(h(this,Gs).focus({focusVisible:h(this,Nd)}),b(this,Nd,!1))}isEmpty(){return h(this,Nr)?h(this,Jt)===null:!h(this,Jt)&&!h(this,Lr)}hasData(){return h(this,Nr)?h(this,Jt)!==null||!!h(this,ko):this.isEmpty()}get guessedText(){return h(this,ko)}async setGuessedText(e){h(this,Jt)===null&&(b(this,ko,e),b(this,Vu,await Gn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),S(this,cr,Pw).call(this))}toggleAltTextBadge(e=!1){var t;if(!h(this,Nr)||h(this,Jt)){(t=h(this,Or))==null||t.remove(),b(this,Or,null);return}if(!h(this,Or)){const i=b(this,Or,document.createElement("div"));i.className="noAltTextBadge",h(this,di).div.append(i)}h(this,Or).classList.toggle("hidden",!e)}serialize(e){let t=h(this,Jt);return!e&&h(this,ko)===t&&(t=h(this,Vu)),{altText:t,decorative:h(this,Lr),guessedText:h(this,ko),textWithDisclaimer:h(this,Vu)}}get data(){return{altText:h(this,Jt),decorative:h(this,Lr)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(b(this,ko,i),b(this,Vu,s)),!(h(this,Jt)===e&&h(this,Lr)===t)&&(r||(b(this,Jt,e),b(this,Lr,t)),S(this,cr,Pw).call(this))}toggle(e=!1){h(this,Gs)&&(!e&&h(this,Ii)&&(clearTimeout(h(this,Ii)),b(this,Ii,null)),h(this,Gs).disabled=!e)}shown(){h(this,di)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,cr,rg)}})}destroy(){var e,t;(e=h(this,Gs))==null||e.remove(),b(this,Gs,null),b(this,Od,null),b(this,Dr,null),(t=h(this,Or))==null||t.remove(),b(this,Or,null)}};Jt=new WeakMap,Lr=new WeakMap,Gs=new WeakMap,Od=new WeakMap,Dr=new WeakMap,Ii=new WeakMap,Nd=new WeakMap,Or=new WeakMap,di=new WeakMap,ko=new WeakMap,Vu=new WeakMap,Nr=new WeakMap,ja=new WeakMap,cr=new WeakSet,rg=function(){return h(this,Jt)&&"added"||h(this,Jt)===null&&this.guessedText&&"review"||"missing"},Pw=async function(){var s,r,o;const e=h(this,Gs);if(!e)return;if(h(this,Nr)){if(e.classList.toggle("done",!!h(this,Jt)),e.setAttribute("data-l10n-id",h(Gn,ja)[h(this,cr,rg)]),(s=h(this,Od))==null||s.setAttribute("data-l10n-id",h(Gn,ja)[`${h(this,cr,rg)}-label`]),!h(this,Jt)){(r=h(this,Dr))==null||r.remove();return}}else{if(!h(this,Jt)&&!h(this,Lr)){e.classList.remove("done"),(o=h(this,Dr))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=h(this,Dr);if(!t){b(this,Dr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${h(this,di).id}`;const a=100,l=h(this,di)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,Ii)),b(this,Ii,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Ii,setTimeout(()=>{b(this,Ii,null),h(this,Dr).classList.add("show"),h(this,di)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;h(this,Ii)&&(clearTimeout(h(this,Ii)),b(this,Ii,null)),(u=h(this,Dr))==null||u.classList.remove("show")},{signal:l})}h(this,Lr)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=h(this,Jt)),t.parentNode||e.append(t);const i=h(this,di).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},x(Gn,ja,null),ae(Gn,"_l10n",null);let G_=Gn;var ju,qs,pt,Fd,Ha,Wm,Hu,dn,Wu,Wa,Ga,Gm,Gu,gs,qm,qu,Ro,Fr,$d,Bd,ms,Km,db,ve,Hx,Zm,Wx,Gx,ZB,YB,qx,Kx,Zx,Yx,XB,Xx,QB,JB,e3,Qx,og;const Ve=class Ve{constructor(e){x(this,ve);x(this,ju,null);x(this,qs,null);x(this,pt,null);x(this,Fd,!1);x(this,Ha,null);x(this,Wm,"");x(this,Hu,!1);x(this,dn,null);x(this,Wu,null);x(this,Wa,null);x(this,Ga,null);x(this,Gm,"");x(this,Gu,!1);x(this,gs,null);x(this,qm,!1);x(this,qu,!1);x(this,Ro,!1);x(this,Fr,null);x(this,$d,0);x(this,Bd,0);x(this,ms,null);ae(this,"_editToolbar",null);ae(this,"_initialOptions",Object.create(null));ae(this,"_initialData",null);ae(this,"_isVisible",!0);ae(this,"_uiManager",null);ae(this,"_focusEventsAllowed",!0);x(this,Km,!1);x(this,db,Ve._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ve.prototype._resizeWithKeyboard,t=wm.TRANSLATE_SMALL,i=wm.TRANSLATE_BIG;return Ce(this,"_resizerKeyboardManager",new zy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Ve.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Ce(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new B7({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ve._l10n??(Ve._l10n=e),Ve._l10nResizer||(Ve._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ve._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ve._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ke("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,Km)}set _isDraggable(e){var t;b(this,Km,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,db)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):S(this,ve,og).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,Gu)?b(this,Gu,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){const[r,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/r,this.y=(t+s)/o,this.fixAndSetPosition()}translate(e,t){S(this,ve,Hx).call(this,this.parentDimensions,e,t)}translateInPage(e,t){h(this,gs)||b(this,gs,[this.x,this.y,this.width,this.height]),S(this,ve,Hx).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){h(this,gs)||b(this,gs,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=e/s,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,u]=this.getBaseTranslation();o+=l,a+=u;const{style:c}=i;c.left=`${(100*o).toFixed(2)}%`,c.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!h(this,gs)&&(h(this,gs)[0]!==this.x||h(this,gs)[1]!==this.y)}get _hasBeenResized(){return!!h(this,gs)&&(h(this,gs)[2]!==this.width||h(this,gs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Ve,s=i/e,r=i/t;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,s]}=this;let{x:r,y:o,width:a,height:l}=this;if(a*=i,l*=s,r*=i,o*=s,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(i-a,r)),o=Math.max(0,Math.min(s-l,o));break;case 90:r=Math.max(0,Math.min(i-l,r)),o=Math.min(s,Math.max(a,o));break;case 180:r=Math.min(i,Math.max(a,r)),o=Math.min(s,Math.max(l,o));break;case 270:r=Math.min(i,Math.max(l,r)),o=Math.max(0,Math.min(s-a,o));break}this.x=r/=i,this.y=o/=s;const[u,c]=this.getBaseTranslation();r+=u,o+=c,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return S(i=Ve,Zm,Wx).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return S(i=Ve,Zm,Wx).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){const[i,s]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*e/i).toFixed(2)}%`,h(this,Hu)||(r.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),r=!h(this,Hu)&&t.endsWith("%");if(s&&r)return;const[o,a]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!h(this,Hu)&&!r&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}_onResizing(){}altTextFinish(){var e;(e=h(this,pt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||h(this,qu)?this._editToolbar:(this._editToolbar=new Dx(this),this.div.append(this._editToolbar.render()),h(this,pt)&&await this._editToolbar.addAltText(h(this,pt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=h(this,pt))==null||e.destroy())}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,pt)||(G_.initialize(Ve._l10n),b(this,pt,new G_(this)),h(this,ju)&&(h(this,pt).data=h(this,ju),b(this,ju,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=h(this,pt))==null?void 0:e.data}set altTextData(e){h(this,pt)&&(h(this,pt).data=e)}get guessedAltText(){var e;return(e=h(this,pt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=h(this,pt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=h(this,pt))==null?void 0:t.serialize(e)}hasAltText(){return!!h(this,pt)&&!h(this,pt).isEmpty()}hasAltTextData(){var e;return((e=h(this,pt))==null?void 0:e.hasData())??!1}render(){var r;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Fd)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),S(this,ve,Xx).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),W_(this,this.div,["pointerdown"]),(r=this._uiManager._editorUndoBar)==null||r.hide(),this.div}pointerdown(e){const{isMac:t}=ti.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Gu,!0),this._isDraggable){S(this,ve,XB).call(this,e);return}S(this,ve,Yx).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,Fr)&&clearTimeout(h(this,Fr)),b(this,Fr,setTimeout(()=>{var e;b(this,Fr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const s=this.parentScale,[r,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/s,c=t/s,d=this.x*r,f=this.y*o,p=this.width*r,m=this.height*o;switch(i){case 0:return[d+u+a,o-f-c-m+l,d+u+p+a,o-f-c+l];case 90:return[d+c+a,o-f+u+l,d+c+m+a,o-f+u+p+l];case 180:return[d-u-p+a,o-f+c+l,d-u+a,o-f+c+m+l];case 270:return[d-c-m+a,o-f-u-p+l,d-c+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,r,o]=e,a=r-i,l=o-s;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-s,l,a];case 180:return[r,t-s,a,l];case 270:return[r,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,qu,!0)}disableEditMode(){b(this,qu,!1)}isInEditMode(){return h(this,qu)}shouldGetKeyboardEvents(){return h(this,Ro)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return t<o&&s>0&&e<r&&i>0}rebuild(){S(this,ve,Xx).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ke("An editor must be serializable")}static async deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation,b(s,ju,e.accessibilityData);const[r,o]=s.pageDimensions,[a,l,u,c]=s.getRectInCurrentCoords(e.rect,o);return s.x=a/r,s.y=l/o,s.width=u/r,s.height=c/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=h(this,Ga))==null||e.abort(),b(this,Ga,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,Fr)&&(clearTimeout(h(this,Fr)),b(this,Fr,null)),S(this,ve,og).call(this),this.removeEditToolbar(),h(this,ms)){for(const t of h(this,ms).values())clearTimeout(t);b(this,ms,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(S(this,ve,ZB).call(this),h(this,dn).classList.remove("hidden"),W_(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Wa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=h(this,dn).children;if(!h(this,qs)){b(this,qs,Array.from(t));const o=S(this,ve,QB).bind(this),a=S(this,ve,JB).bind(this),l=this._uiManager._signal;for(const u of h(this,qs)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",S(this,ve,e3).bind(this,c),{signal:l}),u.setAttribute("data-l10n-id",Ve._l10nResizer[c])}}const i=h(this,qs)[0];let s=0;for(const o of t){if(o===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(h(this,qs).length/4);if(r!==s){if(r<s)for(let a=0;a<s-r;a++)h(this,dn).append(h(this,dn).firstChild);else if(r>s)for(let a=0;a<r-s;a++)h(this,dn).firstChild.before(h(this,dn).lastChild);let o=0;for(const a of t){const u=h(this,qs)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Ve._l10nResizer[u])}}S(this,ve,Qx).call(this,0),b(this,Ro,!0),h(this,dn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){h(this,Ro)&&S(this,ve,Zx).call(this,h(this,Gm),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){S(this,ve,og).call(this),this.div.focus()}select(){var e,t,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(i=h(this,pt))==null||i.toggleAltTextBadge(!1)}unselect(){var e,t,i,s,r;(e=h(this,dn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=h(this,pt))==null||r.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,qm)}set isEditing(e){b(this,qm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Hu,!0);const i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){h(this,ms)||b(this,ms,new Map);const{action:i}=e;let s=h(this,ms).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),h(this,ms).delete(i),h(this,ms).size===0&&b(this,ms,null)},Ve._telemetryTimeout),h(this,ms).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Fd,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Fd,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ju=new WeakMap,qs=new WeakMap,pt=new WeakMap,Fd=new WeakMap,Ha=new WeakMap,Wm=new WeakMap,Hu=new WeakMap,dn=new WeakMap,Wu=new WeakMap,Wa=new WeakMap,Ga=new WeakMap,Gm=new WeakMap,Gu=new WeakMap,gs=new WeakMap,qm=new WeakMap,qu=new WeakMap,Ro=new WeakMap,Fr=new WeakMap,$d=new WeakMap,Bd=new WeakMap,ms=new WeakMap,Km=new WeakMap,db=new WeakMap,ve=new WeakSet,Hx=function([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Zm=new WeakSet,Wx=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Gx=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},ZB=function(){if(h(this,dn))return;b(this,dn,document.createElement("div")),h(this,dn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const s=document.createElement("div");h(this,dn).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",S(this,ve,YB).bind(this,i),{signal:t}),s.addEventListener("contextmenu",mr,{signal:t}),s.tabIndex=-1}this.div.prepend(h(this,dn))},YB=function(e,t){var c;t.preventDefault();const{isMac:i}=ti.platform;if(t.button!==0||t.ctrlKey&&i)return;(c=h(this,pt))==null||c.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,b(this,Wu,[t.screenX,t.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",S(this,ve,Zx).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ar,{passive:!1,signal:o}),window.addEventListener("contextmenu",mr,{signal:o}),b(this,Wa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var d;r.abort(),this.parent.togglePointerEvents(!0),(d=h(this,pt))==null||d.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=a,this.div.style.cursor=l,S(this,ve,Kx).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},qx=function(e,t,i,s){this.width=i,this.height=s,this.x=e,this.y=t;const[r,o]=this.parentDimensions;this.setDims(r*i,o*s),this.fixAndSetPosition(),this._onResized()},Kx=function(){if(!h(this,Wa))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=h(this,Wa);b(this,Wa,null);const r=this.x,o=this.y,a=this.width,l=this.height;r===e&&o===t&&a===i&&l===s||this.addCommands({cmd:S(this,ve,qx).bind(this,r,o,a,l),undo:S(this,ve,qx).bind(this,e,t,i,s),mustExec:!0})},Zx=function(e,t){const[i,s]=this.parentDimensions,r=this.x,o=this.y,a=this.width,l=this.height,u=Ve.MIN_SIZE/i,c=Ve.MIN_SIZE/s,d=G=>Math.round(G*1e4)/1e4,f=S(this,ve,Gx).call(this,this.rotation),p=(G,N)=>[f[0]*G+f[2]*N,f[1]*G+f[3]*N],m=S(this,ve,Gx).call(this,360-this.rotation),g=(G,N)=>[m[0]*G+m[2]*N,m[1]*G+m[3]*N];let w,v,y=!1,_=!1;switch(e){case"topLeft":y=!0,w=(G,N)=>[0,0],v=(G,N)=>[G,N];break;case"topMiddle":w=(G,N)=>[G/2,0],v=(G,N)=>[G/2,N];break;case"topRight":y=!0,w=(G,N)=>[G,0],v=(G,N)=>[0,N];break;case"middleRight":_=!0,w=(G,N)=>[G,N/2],v=(G,N)=>[0,N/2];break;case"bottomRight":y=!0,w=(G,N)=>[G,N],v=(G,N)=>[0,0];break;case"bottomMiddle":w=(G,N)=>[G/2,N],v=(G,N)=>[G/2,0];break;case"bottomLeft":y=!0,w=(G,N)=>[0,N],v=(G,N)=>[G,0];break;case"middleLeft":_=!0,w=(G,N)=>[0,N/2],v=(G,N)=>[G,N/2];break}const A=w(a,l),E=v(a,l);let C=p(...E);const T=d(r+C[0]),k=d(o+C[1]);let P=1,M=1,D,H;if(t.fromKeyboard)({deltaX:D,deltaY:H}=t);else{const{screenX:G,screenY:N}=t,[Q,J]=h(this,Wu);[D,H]=this.screenToPageTranslation(G-Q,N-J),h(this,Wu)[0]=G,h(this,Wu)[1]=N}if([D,H]=g(D/i,H/s),y){const G=Math.hypot(a,l);P=M=Math.max(Math.min(Math.hypot(E[0]-A[0]-D,E[1]-A[1]-H)/G,1/a,1/l),u/a,c/l)}else _?P=Math.max(u,Math.min(1,Math.abs(E[0]-A[0]-D)))/a:M=Math.max(c,Math.min(1,Math.abs(E[1]-A[1]-H)))/l;const W=d(a*P),F=d(l*M);C=p(...v(W,F));const X=T-C[0],Y=k-C[1];h(this,gs)||b(this,gs,[this.x,this.y,this.width,this.height]),this.width=W,this.height=F,this.x=X,this.y=Y,this.setDims(i*W,s*F),this.fixAndSetPosition(),this._onResizing()},Yx=function(e){const{isMac:t}=ti.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},XB=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const i=new AbortController,s=this._uiManager.combinedSignal(i),r={capture:!0,passive:!1,signal:s},o=l=>{i.abort(),b(this,Ha,null),b(this,Gu,!1),this._uiManager.endDragSession()||S(this,ve,Yx).call(this,l)};t&&(b(this,$d,e.clientX),b(this,Bd,e.clientY),b(this,Ha,e.pointerId),b(this,Wm,e.pointerType),window.addEventListener("pointermove",l=>{const{clientX:u,clientY:c,pointerId:d}=l;if(d!==h(this,Ha)){ar(l);return}const[f,p]=this.screenToPageTranslation(u-h(this,$d),c-h(this,Bd));b(this,$d,u),b(this,Bd,c),this._uiManager.dragSelectedEditors(f,p)},r),window.addEventListener("touchmove",ar,r),window.addEventListener("pointerdown",l=>{l.isPrimary&&l.pointerType===h(this,Wm)&&o(l),ar(l)},r)),this._onStartDragging();const a=l=>{if(!h(this,Ha)||h(this,Ha)===l.pointerId){o(l),this._onStopDragging();return}ar(l)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},Xx=function(){if(h(this,Ga)||!this.div)return;b(this,Ga,new AbortController);const e=this._uiManager.combinedSignal(h(this,Ga));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},QB=function(e){Ve._resizerKeyboardManager.exec(this,e)},JB=function(e){var t;h(this,Ro)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==h(this,dn)&&S(this,ve,og).call(this)},e3=function(e){b(this,Gm,h(this,Ro)?e:"")},Qx=function(e){if(h(this,qs))for(const t of h(this,qs))t.tabIndex=e},og=function(){b(this,Ro,!1),S(this,ve,Qx).call(this,-1),S(this,ve,Kx).call(this)},x(Ve,Zm),ae(Ve,"_l10n",null),ae(Ve,"_l10nResizer",null),ae(Ve,"_borderLineWidth",-1),ae(Ve,"_colorManager",new Fx),ae(Ve,"_zIndex",1),ae(Ve,"_telemetryTimeout",1e3);let yt=Ve;class B7 extends yt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const UL=3285377520,ls=4294901760,Sr=65535;class t3{constructor(e){this.h1=e?e&4294967295:UL,this.h2=e?e&4294967295:UL}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let g=0,w=e.length;g<w;g++){const v=e.charCodeAt(g);v<=255?t[i++]=v:(t[i++]=v>>>8,t[i++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,o=new Uint32Array(t.buffer,0,s);let a=0,l=0,u=this.h1,c=this.h2;const d=3432918353,f=461845907,p=d&Sr,m=f&Sr;for(let g=0;g<s;g++)g&1?(a=o[g],a=a*d&ls|a*p&Sr,a=a<<15|a>>>17,a=a*f&ls|a*m&Sr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[g],l=l*d&ls|l*p&Sr,l=l<<15|l>>>17,l=l*f&ls|l*m&Sr,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,r){case 3:a^=t[s*4+2]<<16;case 2:a^=t[s*4+1]<<8;case 1:a^=t[s*4],a=a*d&ls|a*p&Sr,a=a<<15|a>>>17,a=a*f&ls|a*m&Sr,s&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ls|e*36045&Sr,t=t*4283543511&ls|((t<<16|e>>>16)*2950163797&ls)>>>16,e^=t>>>1,e=e*444984403&ls|e*60499&Sr,t=t*3301882366&ls|((t<<16|e>>>16)*3120437893&ls)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Jx=Object.freeze({map:null,hash:"",transfer:void 0});var Ku,Zu,en,fb,n3;class bR{constructor(){x(this,fb);x(this,Ku,!1);x(this,Zu,null);x(this,en,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=h(this,en).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return h(this,en).get(e)}remove(e){if(h(this,en).delete(e),h(this,en).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of h(this,en).values())if(t instanceof yt)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=h(this,en).get(e);let s=!1;if(i!==void 0)for(const[r,o]of Object.entries(t))i[r]!==o&&(s=!0,i[r]=o);else s=!0,h(this,en).set(e,t);s&&S(this,fb,n3).call(this),t instanceof yt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return h(this,en).has(e)}getAll(){return h(this,en).size>0?mR(h(this,en)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return h(this,en).size}resetModified(){h(this,Ku)&&(b(this,Ku,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new i3(this)}get serializable(){if(h(this,en).size===0)return Jx;const e=new Map,t=new t3,i=[],s=Object.create(null);let r=!1;for(const[o,a]of h(this,en)){const l=a instanceof yt?a.serialize(!1,s):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Jx}get editorStats(){let e=null;const t=new Map;for(const i of h(this,en).values()){if(!(i instanceof yt))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;t.has(r)||t.set(r,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[r]||(e[r]=new Map);for(const[a,l]of Object.entries(s)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){b(this,Zu,null)}get modifiedIds(){if(h(this,Zu))return h(this,Zu);const e=[];for(const t of h(this,en).values())!(t instanceof yt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,Zu,{ids:new Set(e),hash:e.join(",")})}}Ku=new WeakMap,Zu=new WeakMap,en=new WeakMap,fb=new WeakSet,n3=function(){h(this,Ku)||(b(this,Ku,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Ym;class i3 extends bR{constructor(t){super();x(this,Ym);const{map:i,hash:s,transfer:r}=t.serializable,o=structuredClone(i,r?{transfer:r}:null);b(this,Ym,{map:o,hash:s,transfer:r})}get print(){Ke("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Ym)}get modifiedIds(){return Ce(this,"modifiedIds",{ids:new Set,hash:""})}}Ym=new WeakMap;var zd;class z7{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){x(this,zd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,zd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||h(this,zd).has(e.loadedName))){if($t(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:r}=e,o=new FontFace(i,s,r);this.addNativeFontFace(o);try{await o.load(),h(this,zd).add(i),t==null||t(e)}catch{Ae(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ke("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Ae(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ce(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Qn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ce(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for($t(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ce(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(A,E){return A.charCodeAt(E)<<24|A.charCodeAt(E+1)<<16|A.charCodeAt(E+2)<<8|A.charCodeAt(E+3)&255}function s(A,E,C,T){const k=A.substring(0,E),P=A.substring(E+C);return k+T+P}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(A,E){if(++u>30){Ae("Load test font never loaded."),E();return}if(l.font="30px "+A,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(c.bind(null,A,E))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const m=16,g=1482184792;let w=i(f,m);for(r=0,o=d.length-3;r<o;r+=4)w=w-g+i(d,r)|0;r<d.length&&(w=w-g+i(d+"XXX",r)|0),f=s(f,m,4,E7(w));const v=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(y);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const A of[e.loadedName,d]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=A,_.append(E)}this._document.body.append(_),c(d,()=>{_.remove(),t.complete()})}}zd=new WeakMap;class U7{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${M7(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(r){Ae(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(r,o){};const s=[];for(let r=0,o=i.length;r<o;)switch(i[r++]){case go.BEZIER_CURVE_TO:{const[a,l,u,c,d,f]=i.slice(r,r+6);s.push(p=>p.bezierCurveTo(a,l,u,c,d,f)),r+=6}break;case go.MOVE_TO:{const[a,l]=i.slice(r,r+2);s.push(u=>u.moveTo(a,l)),r+=2}break;case go.LINE_TO:{const[a,l]=i.slice(r,r+2);s.push(u=>u.lineTo(a,l)),r+=2}break;case go.QUADRATIC_CURVE_TO:{const[a,l,u,c]=i.slice(r,r+4);s.push(d=>d.quadraticCurveTo(a,l,u,c)),r+=4}break;case go.RESTORE:s.push(a=>a.restore());break;case go.SAVE:s.push(a=>a.save());break;case go.SCALE:$t(s.length===2,"Scale command is only valid at the third position.");break;case go.TRANSFORM:{const[a,l,u,c,d,f]=i.slice(r,r+6);s.push(p=>p.transform(a,l,u,c,d,f)),r+=6}break;case go.TRANSLATE:{const[a,l]=i.slice(r,r+2);s.push(u=>u.translate(a,l)),r+=2}break}return s.push(r=>r.closePath()),this.compiledGlyphs[t]=function(o,a){s[0](o),s[1](o),o.scale(a,-a);for(let l=2,u=s.length;l<u;l++)s[l](o)}}}var Xm;class s3{constructor({enableHWA:e=!1}){x(this,Xm,!1);b(this,Xm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!h(this,Xm)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ke("Abstract method `_createCanvas` called.")}}Xm=new WeakMap;class V7 extends s3{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class r3{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ke("Abstract method `_fetch` called.")}}class o3 extends r3{async _fetch(e){const t=await i1(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):n1(t)}}class a3{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,r){return"none"}destroy(e=!1){}}var Yu,Ud,Mo,Io,kn,Xu,Qu,ee,Cn,ag,Dh,Cw,Oh,l3,eE,Nh,lg,ug,tE,cg;class j7 extends a3{constructor({docId:t,ownerDocument:i=globalThis.document}){super();x(this,ee);x(this,Yu);x(this,Ud);x(this,Mo);x(this,Io);x(this,kn);x(this,Xu);x(this,Qu,0);b(this,Io,t),b(this,kn,i)}addFilter(t){if(!t)return"none";let i=h(this,ee,Cn).get(t);if(i)return i;const[s,r,o]=S(this,ee,Cw).call(this,t),a=t.length===1?s:`${s}${r}${o}`;if(i=h(this,ee,Cn).get(a),i)return h(this,ee,Cn).set(t,i),i;const l=`g_${h(this,Io)}_transfer_map_${An(this,Qu)._++}`,u=S(this,ee,Oh).call(this,l);h(this,ee,Cn).set(t,u),h(this,ee,Cn).set(a,u);const c=S(this,ee,Nh).call(this,l);return S(this,ee,ug).call(this,s,r,o,c),u}addHCMFilter(t,i){var m;const s=`${t}-${i}`,r="base";let o=h(this,ee,ag).get(r);if((o==null?void 0:o.key)===s||(o?((m=o.filter)==null||m.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},h(this,ee,ag).set(r,o)),!t||!i))return o.url;const a=S(this,ee,cg).call(this,t);t=re.makeHexColor(...a);const l=S(this,ee,cg).call(this,i);if(i=re.makeHexColor(...l),h(this,ee,Dh).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const u=new Array(256);for(let g=0;g<=255;g++){const w=g/255;u[g]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const c=u.join(","),d=`g_${h(this,Io)}_hcm_filter`,f=o.filter=S(this,ee,Nh).call(this,d);S(this,ee,ug).call(this,c,c,c,f),S(this,ee,eE).call(this,f);const p=(g,w)=>{const v=a[g]/255,y=l[g]/255,_=new Array(w+1);for(let A=0;A<=w;A++)_[A]=v+A/w*(y-v);return _.join(",")};return S(this,ee,ug).call(this,p(0,5),p(1,5),p(2,5),f),o.url=S(this,ee,Oh).call(this,d),o.url}addAlphaFilter(t){let i=h(this,ee,Cn).get(t);if(i)return i;const[s]=S(this,ee,Cw).call(this,[t]),r=`alpha_${s}`;if(i=h(this,ee,Cn).get(r),i)return h(this,ee,Cn).set(t,i),i;const o=`g_${h(this,Io)}_alpha_map_${An(this,Qu)._++}`,a=S(this,ee,Oh).call(this,o);h(this,ee,Cn).set(t,a),h(this,ee,Cn).set(r,a);const l=S(this,ee,Nh).call(this,o);return S(this,ee,tE).call(this,s,l),a}addLuminosityFilter(t){let i=h(this,ee,Cn).get(t||"luminosity");if(i)return i;let s,r;if(t?([s]=S(this,ee,Cw).call(this,[t]),r=`luminosity_${s}`):r="luminosity",i=h(this,ee,Cn).get(r),i)return h(this,ee,Cn).set(t,i),i;const o=`g_${h(this,Io)}_luminosity_map_${An(this,Qu)._++}`,a=S(this,ee,Oh).call(this,o);h(this,ee,Cn).set(t,a),h(this,ee,Cn).set(r,a);const l=S(this,ee,Nh).call(this,o);return S(this,ee,l3).call(this,l),t&&S(this,ee,tE).call(this,s,l),a}addHighlightHCMFilter(t,i,s,r,o){var y;const a=`${i}-${s}-${r}-${o}`;let l=h(this,ee,ag).get(t);if((l==null?void 0:l.key)===a||(l?((y=l.filter)==null||y.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},h(this,ee,ag).set(t,l)),!i||!s))return l.url;const[u,c]=[i,s].map(S(this,ee,cg).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,m]=[r,o].map(S(this,ee,cg).bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),h(this,ee,Dh).style.color="";const g=(_,A,E)=>{const C=new Array(256),T=(f-d)/E,k=_/255,P=(A-_)/(255*E);let M=0;for(let D=0;D<=E;D++){const H=Math.round(d+D*T),W=k+D*P;for(let F=M;F<=H;F++)C[F]=W;M=H+1}for(let D=M;D<256;D++)C[D]=C[M-1];return C.join(",")},w=`g_${h(this,Io)}_hcm_${t}_filter`,v=l.filter=S(this,ee,Nh).call(this,w);return S(this,ee,eE).call(this,v),S(this,ee,ug).call(this,g(p[0],m[0],5),g(p[1],m[1],5),g(p[2],m[2],5),v),l.url=S(this,ee,Oh).call(this,w),l.url}destroy(t=!1){var i,s,r,o;t&&((i=h(this,Xu))!=null&&i.size)||((s=h(this,Mo))==null||s.parentNode.parentNode.remove(),b(this,Mo,null),(r=h(this,Ud))==null||r.clear(),b(this,Ud,null),(o=h(this,Xu))==null||o.clear(),b(this,Xu,null),b(this,Qu,0))}}Yu=new WeakMap,Ud=new WeakMap,Mo=new WeakMap,Io=new WeakMap,kn=new WeakMap,Xu=new WeakMap,Qu=new WeakMap,ee=new WeakSet,Cn=function(){return h(this,Ud)||b(this,Ud,new Map)},ag=function(){return h(this,Xu)||b(this,Xu,new Map)},Dh=function(){if(!h(this,Mo)){const t=h(this,kn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=h(this,kn).createElementNS(mo,"svg");s.setAttribute("width",0),s.setAttribute("height",0),b(this,Mo,h(this,kn).createElementNS(mo,"defs")),t.append(s),s.append(h(this,Mo)),h(this,kn).body.append(t)}return h(this,Mo)},Cw=function(t){if(t.length===1){const u=t[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=u[f]/255;const d=c.join(",");return[d,d,d]}const[i,s,r]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,a[u]=s[u]/255,l[u]=r[u]/255;return[o.join(","),a.join(","),l.join(",")]},Oh=function(t){if(h(this,Yu)===void 0){b(this,Yu,"");const i=h(this,kn).URL;i!==h(this,kn).baseURI&&(s1(i)?Ae('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,Yu,i.split("#",1)[0]))}return`url(${h(this,Yu)}#${t})`},l3=function(t){const i=h(this,kn).createElementNS(mo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},eE=function(t){const i=h(this,kn).createElementNS(mo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Nh=function(t){const i=h(this,kn).createElementNS(mo,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),h(this,ee,Dh).append(i),i},lg=function(t,i,s){const r=h(this,kn).createElementNS(mo,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),t.append(r)},ug=function(t,i,s,r){const o=h(this,kn).createElementNS(mo,"feComponentTransfer");r.append(o),S(this,ee,lg).call(this,o,"feFuncR",t),S(this,ee,lg).call(this,o,"feFuncG",i),S(this,ee,lg).call(this,o,"feFuncB",s)},tE=function(t,i){const s=h(this,kn).createElementNS(mo,"feComponentTransfer");i.append(s),S(this,ee,lg).call(this,s,"feFuncA",t)},cg=function(t){return h(this,ee,Dh).style.color=t,_R(getComputedStyle(h(this,ee,Dh)).getPropertyValue("color"))};class u3{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ke("Abstract method `_fetch` called.")}}class c3 extends u3{async _fetch(e){const t=await i1(e,"arraybuffer");return new Uint8Array(t)}}async function h3(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class H7 extends a3{}class W7 extends s3{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class G7 extends r3{async _fetch(e){return h3(e)}}class q7 extends u3{async _fetch(e){return h3(e)}}const Dn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function nE(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),n.clip(s)}class SR{getPattern(){Ke("Abstract method `getPattern` called.")}}class K7 extends SR{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let r;if(s===Dn.STROKE||s===Dn.FILL){const o=t.current.getClippedPathBoundingBox(s,lt(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-o[0],-o[1]),i=re.transform(i,[1,0,0,1,o[0],o[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),nE(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);r.setTransform(d)}else nE(e,this._bbox),r=this._createGradient(e);return r}}function TS(n,e,t,i,s,r,o,a){const l=e.coords,u=e.colors,c=n.data,d=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f),l[i+1]>l[s+1]&&(f=i,i=s,s=f,f=o,o=a,a=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,m=(l[t+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY,v=(l[s]+e.offsetX)*e.scaleX,y=(l[s+1]+e.offsetY)*e.scaleY;if(m>=y)return;const _=u[r],A=u[r+1],E=u[r+2],C=u[o],T=u[o+1],k=u[o+2],P=u[a],M=u[a+1],D=u[a+2],H=Math.round(m),W=Math.round(y);let F,X,Y,G,N,Q,J,he;for(let ue=H;ue<=W;ue++){if(ue<w){const oe=ue<m?0:(m-ue)/(m-w);F=p-(p-g)*oe,X=_-(_-C)*oe,Y=A-(A-T)*oe,G=E-(E-k)*oe}else{let oe;ue>y?oe=1:w===y?oe=0:oe=(w-ue)/(w-y),F=g-(g-v)*oe,X=C-(C-P)*oe,Y=T-(T-M)*oe,G=k-(k-D)*oe}let ge;ue<m?ge=0:ue>y?ge=1:ge=(m-ue)/(m-y),N=p-(p-v)*ge,Q=_-(_-P)*ge,J=A-(A-M)*ge,he=E-(E-D)*ge;const $e=Math.round(Math.min(F,N)),Xe=Math.round(Math.max(F,N));let Pe=d*ue+$e*4;for(let oe=$e;oe<=Xe;oe++)ge=(F-oe)/(F-N),ge<0?ge=0:ge>1&&(ge=1),c[Pe++]=X-(X-Q)*ge|0,c[Pe++]=Y-(Y-J)*ge|0,c[Pe++]=G-(G-he)*ge|0,c[Pe++]=255}}function Z7(n,e,t){const i=e.coords,s=e.colors;let r,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,u=a-1;for(r=0;r<l;r++){let c=r*a;for(let d=0;d<u;d++,c++)TS(n,t,i[c],i[c+1],i[c+a],s[c],s[c+1],s[c+a]),TS(n,t,i[c+a+1],i[c+1],i[c+a],s[c+a+1],s[c+1],s[c+a])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)TS(n,t,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class Y7 extends SR{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=u/d,m=c/f,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},w=d+2*2,v=f+2*2,y=i.getCanvas("mesh",w,v),_=y.context,A=_.createImageData(d,f);if(t){const C=A.data;for(let T=0,k=C.length;T<k;T+=4)C[T]=t[0],C[T+1]=t[1],C[T+2]=t[2],C[T+3]=255}for(const C of this._figures)Z7(A,C,g);return _.putImageData(A,2,2),{canvas:y.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,t,i,s){nE(e,this._bbox);let r;if(s===Dn.SHADING)r=re.singularValueDecompose2dScale(lt(e));else if(r=re.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=re.singularValueDecompose2dScale(this.matrix);r=[r[0]*a[0],r[1]*a[1]]}const o=this._createMeshCanvas(r,s===Dn.SHADING?null:this._background,t.cachedCanvases);return s!==Dn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class X7 extends SR{getPattern(){return"hotpink"}}function Q7(n){switch(n[0]){case"RadialAxial":return new K7(n);case"Mesh":return new Y7(n);case"Dummy":return new X7}throw new Error(`Unknown IR type: ${n[0]}`)}const VL={COLORED:1,UNCOLORED:2},pb=class pb{constructor(e,t,i,s,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:i,paintType:s,tilingType:r,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),e1("TilingType: "+r);const c=t[0],d=t[1],f=t[2],p=t[3],m=f-c,g=p-d,w=re.singularValueDecompose2dScale(this.matrix),v=re.singularValueDecompose2dScale(this.baseTransform),y=w[0]*v[0],_=w[1]*v[1];let A=m,E=g,C=!1,T=!1;const k=Math.ceil(l*y),P=Math.ceil(u*_),M=Math.ceil(m*y),D=Math.ceil(g*_);k>=M?A=l:C=!0,P>=D?E=u:T=!0;const H=this.getSizeAndScale(A,this.ctx.canvas.width,y),W=this.getSizeAndScale(E,this.ctx.canvas.height,_),F=e.cachedCanvases.getCanvas("pattern",H.size,W.size),X=F.context,Y=a.createCanvasGraphics(X);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,s,o),X.translate(-H.scale*c,-W.scale*d),Y.transform(H.scale,0,0,W.scale,0,0),X.save(),this.clipBbox(Y,c,d,f,p),Y.baseTransform=lt(Y.ctx),Y.executeOperatorList(i),Y.endDrawing(),X.restore(),C||T){const G=F.canvas;C&&(A=l),T&&(E=u);const N=this.getSizeAndScale(A,this.ctx.canvas.width,y),Q=this.getSizeAndScale(E,this.ctx.canvas.height,_),J=N.size,he=Q.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",J,he),ge=ue.context,$e=C?Math.floor(m/l):0,Xe=T?Math.floor(g/u):0;for(let Pe=0;Pe<=$e;Pe++)for(let oe=0;oe<=Xe;oe++)ge.drawImage(G,J*Pe,he*oe,J,he,0,0,J,he);return{canvas:ue.canvas,scaleX:N.scale,scaleY:Q.scale,offsetX:c,offsetY:d}}return{canvas:F.canvas,scaleX:H.scale,scaleY:W.scale,offsetX:c,offsetY:d}}getSizeAndScale(e,t,i){const s=Math.max(pb.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*i);return r>=s?r=s:i=r/e,{scale:i,size:r}}clipBbox(e,t,i,s,r){const o=s-t,a=r-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(lt(e.ctx),[t,i,s,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const s=e.ctx,r=e.current;switch(t){case VL.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case VL.UNCOLORED:const a=re.makeHexColor(i[0],i[1],i[2]);s.fillStyle=a,s.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new x7(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,s){let r=i;s!==Dn.SHADING&&(r=re.transform(r,t.baseTransform),this.matrix&&(r=re.transform(r,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(r);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};ae(pb,"MAX_PATTERN_SIZE",3e3);let iE=pb;function J7({src:n,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=ti.isLittleEndian?4278190080:255,[l,u]=o?[r,a]:[a,r],c=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<s;m++){for(const w=e+c;e<w;e++){const v=e<f?n[e]:255;t[p++]=v&128?u:l,t[p++]=v&64?u:l,t[p++]=v&32?u:l,t[p++]=v&16?u:l,t[p++]=v&8?u:l,t[p++]=v&4?u:l,t[p++]=v&2?u:l,t[p++]=v&1?u:l}if(d===0)continue;const g=e<f?n[e++]:255;for(let w=0;w<d;w++)t[p++]=g&1<<7-w?u:l}return{srcPos:e,destPos:p}}const jL=16,HL=100,eq=15,WL=10,GL=1e3,yi=16;function tq(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},n.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},n.transform=function(i,s,r,o,a,l){e.transform(i,s,r,o,a,l),this.__originalTransform(i,s,r,o,a,l)},n.setTransform=function(i,s,r,o,a,l){e.setTransform(i,s,r,o,a,l),this.__originalSetTransform(i,s,r,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,s,r,o,a){e.bezierCurveTo(t,i,s,r,o,a),this.__originalBezierCurveTo(t,i,s,r,o,a)},n.rect=function(t,i,s,r){e.rect(t,i,s,r),this.__originalRect(t,i,s,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class nq{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function A0(n,e,t,i,s,r,o,a,l,u){const[c,d,f,p,m,g]=lt(n);if(d===0&&f===0){const y=o*c+m,_=Math.round(y),A=a*p+g,E=Math.round(A),C=(o+l)*c+m,T=Math.abs(Math.round(C)-_)||1,k=(a+u)*p+g,P=Math.abs(Math.round(k)-E)||1;return n.setTransform(Math.sign(c),0,0,Math.sign(p),_,E),n.drawImage(e,t,i,s,r,0,0,T,P),n.setTransform(c,d,f,p,m,g),[T,P]}if(c===0&&p===0){const y=a*f+m,_=Math.round(y),A=o*d+g,E=Math.round(A),C=(a+u)*f+m,T=Math.abs(Math.round(C)-_)||1,k=(o+l)*d+g,P=Math.abs(Math.round(k)-E)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,_,E),n.drawImage(e,t,i,s,r,0,0,P,T),n.setTransform(c,d,f,p,m,g),[P,T]}n.drawImage(e,t,i,s,r,o,a,l,u);const w=Math.hypot(c,d),v=Math.hypot(f,p);return[w*l,v*u]}function iq(n){const{width:e,height:t}=n;if(e>GL||t>GL)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let o=new Uint8Array(r*(t+1)),a,l,u;const c=e+7&-8;let d=new Uint8Array(c*t),f=0;for(const v of n.data){let y=128;for(;y>0;)d[f++]=v&y?0:255,y>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*c,u=a*r,d[f-c]!==d[f]&&(o[u]=d[f]?1:8,++p);let v=(d[f]?4:0)+(d[f-c]?8:0);for(l=1;l<e;l++)v=(v>>2)+(d[f+1]?4:0)+(d[f-c+1]?8:0),s[v]&&(o[u+l]=s[v],++p),f++;if(d[f-c]!==d[f]&&(o[u+l]=d[f]?2:4,++p),p>i)return null}for(f=c*(t-1),u=a*r,d[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[u+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[u+l]=4,++p),p>i)return null;const m=new Int32Array([0,r,-1,0,-r,0,0,0,1]),g=new Path2D;for(a=0;p&&a<=t;a++){let v=a*r;const y=v+e;for(;v<y&&!o[v];)v++;if(v===y)continue;g.moveTo(v%r,a);const _=v;let A=o[v];do{const E=m[A];do v+=E;while(!o[v]);const C=o[v];C!==5&&C!==10?(A=C,o[v]=0):(A=C&51*A>>4,o[v]&=A>>2|A<<2),g.lineTo(v%r,v/r|0),o[v]||--p}while(_!==v);--a}return d=null,o=null,function(v){v.save(),v.scale(1/e,-1/t),v.translate(0,-t),v.fill(g),v.beginPath(),v.restore()}}class qL{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=CB,this.textMatrixScale=1,this.fontMatrix=kx,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Pn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=re.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=re.applyTransform(t,e),s=re.applyTransform(t.slice(2),e),r=re.applyTransform([t[0],t[3]],e),o=re.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],s[0],r[0],o[0]),this.minY=Math.min(this.minY,i[1],s[1],r[1],o[1]),this.maxX=Math.max(this.maxX,i[0],s[0],r[0],o[0]),this.maxY=Math.max(this.maxY,i[1],s[1],r[1],o[1])}updateScalingPathMinMax(e,t){re.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,s,r,o,a,l,u,c){const d=re.bezierBoundingBox(t,i,s,r,o,a,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Dn.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===Dn.STROKE){t||Ke("Stroke bounding box must include transform.");const s=re.singularValueDecompose2dScale(t),r=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;i[0]-=r,i[1]-=o,i[2]+=r,i[3]+=o}return i}updateClipFromPath(){const e=re.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Dn.FILL,t=null){return re.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function KL(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,s=t%yi,r=(t-s)/yi,o=s===0?r:r+1,a=n.createImageData(i,yi);let l=0,u;const c=e.data,d=a.data;let f,p,m,g;if(e.kind===_w.GRAYSCALE_1BPP){const w=c.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),y=v.length,_=i+7>>3,A=4294967295,E=ti.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<r?yi:s,u=0,p=0;p<m;p++){const C=w-l;let T=0;const k=C>_?i:C*8-7,P=k&-8;let M=0,D=0;for(;T<P;T+=8)D=c[l++],v[u++]=D&128?A:E,v[u++]=D&64?A:E,v[u++]=D&32?A:E,v[u++]=D&16?A:E,v[u++]=D&8?A:E,v[u++]=D&4?A:E,v[u++]=D&2?A:E,v[u++]=D&1?A:E;for(;T<k;T++)M===0&&(D=c[l++],M=128),v[u++]=D&M?A:E,M>>=1}for(;u<y;)v[u++]=0;n.putImageData(a,0,f*yi)}}else if(e.kind===_w.RGBA_32BPP){for(p=0,g=i*yi*4,f=0;f<r;f++)d.set(c.subarray(l,l+g)),l+=g,n.putImageData(a,0,p),p+=yi;f<o&&(g=i*s*4,d.set(c.subarray(l,l+g)),n.putImageData(a,0,p))}else if(e.kind===_w.RGB_24BPP)for(m=yi,g=i*m,f=0;f<o;f++){for(f>=r&&(m=s,g=i*m),u=0,p=g;p--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;n.putImageData(a,0,f*yi)}else throw new Error(`bad image kind: ${e.kind}`)}function ZL(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,s=t%yi,r=(t-s)/yi,o=s===0?r:r+1,a=n.createImageData(i,yi);let l=0;const u=e.data,c=a.data;for(let d=0;d<o;d++){const f=d<r?yi:s;({srcPos:l}=J7({src:u,srcPos:l,dest:c,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*yi)}}function Vp(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function x0(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Qn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function YL(n,e){if(e)return!0;const t=re.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*op.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const sq=["butt","round","square"],rq=["miter","round","bevel"],oq={},XL={};var Kl,sE,rE;const YR=class YR{constructor(e,t,i,s,r,{optionalContentConfig:o,markedContentStack:a=null},l,u){x(this,Kl);this.ctx=e,this.current=new qL(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new nq(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...lt(this.compositeCtx))}this.ctx.save(),x0(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=lt(this.ctx)}executeOperatorList(e,t,i,s){const r=e.argsArray,o=e.fnArray;let a=t||0;const l=r.length;if(l===a)return a;const u=l-a>WL&&typeof i=="function",c=u?Date.now()+eq:0;let d=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(s!==void 0&&a===s.nextBreakPoint)return s.breakIt(a,i),a;if(m=o[a],m!==Vs.dependency)this[m].apply(this,r[a]);else for(const g of r[a]){const w=g.startsWith("g_")?f:p;if(!w.has(g))return w.get(g,i),a}if(a++,a===l)return a;if(u&&++d>WL){if(Date.now()>c)return i(),a;d=0}}}endDrawing(){S(this,Kl,sE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),S(this,Kl,rE).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,s=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=s,u="prescale1",c,d;for(;r>2&&a>1||o>2&&l>1;){let f=a,p=l;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),c=this.cachedCanvases.getCanvas(u,f,p),d=c.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=c.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:s}=e,r=this.current.fillColor,o=this.current.patternFill,a=lt(t);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const k=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),r]),l=this._cachedBitmapsMap.get(k),l||(l=new Map,this._cachedBitmapsMap.set(k,l));const P=l.get(u);if(P&&!o){const M=Math.round(Math.min(a[0],a[2])+a[4]),D=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:P,offsetX:M,offsetY:D}}c=P}c||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),ZL(d.context,e));let f=re.transform(a,[1/i,0,0,-1/s,0,0]);f=re.transform(f,[1,0,0,1,0,-s]);const[p,m,g,w]=re.getAxialAlignedBoundingBox([0,0,i,s],f),v=Math.round(g-p)||1,y=Math.round(w-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",v,y),A=_.context,E=p,C=m;A.translate(-E,-C),A.transform(...f),c||(c=this._scaleImage(d.canvas,br(A)),c=c.img,l&&o&&l.set(u,c)),A.imageSmoothingEnabled=YL(lt(A),e.interpolate),A0(A,c,0,0,c.width,c.height,0,0,i,s),A.globalCompositeOperation="source-in";const T=re.transform(br(A),[1,0,0,1,-E,-C]);return A.fillStyle=o?r.getPattern(t,this,T,Dn.FILL):r,A.fillRect(0,0,i,s),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(E),offsetY:Math.round(C)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=sq[e]}setLineJoin(e){this.ctx.lineJoin=rq[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...lt(this.suspendedCtx)),Vp(this.suspendedCtx,r),tq(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Vp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){const r=s[0],o=s[1],a=s[2]-r,l=s[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,r,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,r,o,a,l,u,c,d){let f=e.canvas,p=l-c,m=u-d;if(o){const w=re.makeHexColor(...o);if(p<0||m<0||p+i>f.width||m+s>f.height){const v=this.cachedCanvases.getCanvas("maskExtension",i,s),y=v.context;y.drawImage(f,-p,-m),y.globalCompositeOperation="destination-atop",y.fillStyle=w,y.fillRect(0,0,i,s),y.globalCompositeOperation="source-over",f=v.canvas,p=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(p,m,i,s),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=w,e.fillRect(p,m,i,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,u,i,s),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,i,s,l,u,i,s),t.restore()}save(){this.inSMaskMode?(Vp(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Vp(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,r,o){this.ctx.transform(e,t,i,s,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const s=this.ctx,r=this.current;let o=r.x,a=r.y,l,u;const c=lt(s),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,f=d?i.slice(0):null;for(let p=0,m=0,g=e.length;p<g;p++)switch(e[p]|0){case Vs.rectangle:o=t[m++],a=t[m++];const w=t[m++],v=t[m++],y=o+w,_=a+v;s.moveTo(o,a),w===0||v===0?s.lineTo(y,_):(s.lineTo(y,a),s.lineTo(y,_),s.lineTo(o,_)),d||r.updateRectMinMax(c,[o,a,y,_]),s.closePath();break;case Vs.moveTo:o=t[m++],a=t[m++],s.moveTo(o,a),d||r.updatePathMinMax(c,o,a);break;case Vs.lineTo:o=t[m++],a=t[m++],s.lineTo(o,a),d||r.updatePathMinMax(c,o,a);break;case Vs.curveTo:l=o,u=a,o=t[m+4],a=t[m+5],s.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),r.updateCurvePathMinMax(c,l,u,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Vs.curveTo2:l=o,u=a,s.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),r.updateCurvePathMinMax(c,l,u,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Vs.curveTo3:l=o,u=a,o=t[m+2],a=t[m+3],s.bezierCurveTo(t[m],t[m+1],o,a,o,a),r.updateCurvePathMinMax(c,l,u,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Vs.closePath:s.closePath();break}d&&r.updateScalingPathMinMax(c,f),r.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,br(t),Dn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,br(t),Dn.FILL),r=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=oq}eoClip(){this.pendingClip=XL}beginText(){this.current.textMatrix=CB,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var c;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||kx,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ae("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((c=i.systemFontInfo)==null?void 0:c.css)||`"${r}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let u=t;t<jL?u=jL:t>HL&&(u=HL),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,r,o){this.current.textMatrix=[e,t,i,s,r,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s,r){const o=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,d=u&Pn.FILL_STROKE_MASK,f=!!(u&Pn.ADD_TO_PATH_FLAG),p=a.patternFill&&!l.missingFile,m=a.patternStroke&&!l.missingFile;let g;(l.disableFontFace||f||p||m)&&(g=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p||m?(o.save(),o.translate(t,i),o.beginPath(),g(o,c),(d===Pn.FILL||d===Pn.FILL_STROKE)&&(s&&o.setTransform(...s),o.fill()),(d===Pn.STROKE||d===Pn.FILL_STROKE)&&(r&&o.setTransform(...r),o.stroke()),o.restore()):((d===Pn.FILL||d===Pn.FILL_STROKE)&&o.fillText(e,t,i),(d===Pn.STROKE||d===Pn.FILL_STROKE)&&o.strokeText(e,t,i)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:lt(o),x:t,y:i,fontSize:c,addToPath:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return Ce(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const r=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,c=t.textHScale*u,d=e.length,f=i.vertical,p=f?1:-1,m=i.defaultVMetrics,g=s*t.fontMatrix[0],w=t.textRenderingMode===Pn.FILL&&!i.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),u>0?r.scale(c,-1):r.scale(c,1);let v,y;if(t.patternFill){r.save();const T=t.fillColor.getPattern(r,this,br(r),Dn.FILL);v=lt(r),r.restore(),r.fillStyle=T}if(t.patternStroke){r.save();const T=t.strokeColor.getPattern(r,this,br(r),Dn.STROKE);y=lt(r),r.restore(),r.strokeStyle=T}let _=t.lineWidth;const A=t.textMatrixScale;if(A===0||_===0){const T=t.textRenderingMode&Pn.FILL_STROKE_MASK;(T===Pn.STROKE||T===Pn.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=A;if(o!==1&&(r.scale(o,o),_/=o),r.lineWidth=_,i.isInvalidPDFjsFont){const T=[];let k=0;for(const P of e)T.push(P.unicode),k+=P.width;r.fillText(T.join(""),0,0),t.x+=k*g*c,r.restore(),this.compose();return}let E=0,C;for(C=0;C<d;++C){const T=e[C];if(typeof T=="number"){E+=p*T*s/1e3;continue}let k=!1;const P=(T.isSpace?l:0)+a,M=T.fontChar,D=T.accent;let H,W,F=T.width;if(f){const Y=T.vmetric||m,G=-(T.vmetric?Y[1]:F*.5)*g,N=Y[2]*g;F=Y?-Y[0]:F,H=G/o,W=(E+N)/o}else H=E/o,W=0;if(i.remeasure&&F>0){const Y=r.measureText(M).width*1e3/s*o;if(F<Y&&this.isFontSubpixelAAEnabled){const G=F/Y;k=!0,r.save(),r.scale(G,1),H/=G}else F!==Y&&(H+=(F-Y)/2e3*s/o)}if(this.contentVisible&&(T.isInFont||i.missingFile)){if(w&&!D)r.fillText(M,H,W);else if(this.paintChar(M,H,W,v,y),D){const Y=H+s*D.offset.x/o,G=W-s*D.offset.y/o;this.paintChar(D.fontChar,Y,G,v,y)}}const X=f?F*g-P*u:F*g+P*u;E+=X,k&&r.restore()}f?t.y-=E:t.x+=E*c,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,s=i.font,r=i.fontSize,o=i.fontDirection,a=s.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,c=i.textHScale*o,d=i.fontMatrix||kx,f=e.length,p=i.textRenderingMode===Pn.INVISIBLE;let m,g,w,v;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(c,o),m=0;m<f;++m){if(g=e[m],typeof g=="number"){v=a*g*r/1e3,this.ctx.translate(v,0),i.x+=v*c;continue}const y=(g.isSpace?u:0)+l,_=s.charProcOperatorList[g.operatorListId];if(!_){Ae(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(r,r),t.transform(...d),this.executeOperatorList(_),this.restore()),w=re.applyTransform([g.width,0],d)[0]*r+y,t.translate(w,0),i.x+=w*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,r,o){this.ctx.rect(i,s,r-i,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],s=this.baseTransform||lt(this.ctx),r={createCanvasGraphics:o=>new YR(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new iE(e,i,this.ctx,r,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=re.makeHexColor(e,t,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=re.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=Q7(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,br(t),Dn.SHADING);const s=br(t);{const{width:r,height:o}=t.canvas,[a,l,u,c]=re.getAxialAlignedBoundingBox([0,0,r,o],s);this.ctx.fillRect(a,l,u-a,c-l)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ke("Should not call beginInlineImage")}beginImageData(){Ke("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=lt(this.ctx),t)){const i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.current.updateRectMinMax(lt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||e1("TODO: Support non-isolated groups."),e.knockout&&Ae("Knockout groups not supported.");const i=lt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=re.getAxialAlignedBoundingBox(e.bbox,lt(t));const r=[0,0,t.canvas.width,t.canvas.height];s=re.intersect(s,r)||[0,0,0,0];const o=Math.floor(s[0]),a=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),f=d.context;f.translate(-o,-a),f.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Vp(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=lt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=re.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,i,s,r){if(S(this,Kl,sE).call(this),x0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=re.singularValueDecompose2dScale(lt(this.ctx)),{viewportScale:c}=this,d=Math.ceil(o*this.outputScaleX*c),f=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),x0(this.ctx)}else x0(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new qL(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),S(this,Kl,rE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=iq(e)),s.compiled)){s.compiled(i);return}const r=this._createMaskCanvas(e),o=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,r,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=lt(a);a.transform(t,i,s,r,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=o.length;c<d;c+=2){const f=re.transform(l,[t,i,s,r,o[c],o[c+1]]),[p,m]=re.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const r of e){const{data:o,width:a,height:l,transform:u}=r,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=c.context;d.save();const f=this.getObject(o,r);ZL(d,f),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,br(t),Dn.FILL):i,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...u),t.scale(1,-1),A0(t,c.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ae("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Ae("Dependent image isn't ready yet");return}const o=r.width,a=r.height,l=[];for(let u=0,c=s.length;u<c;u+=2)l.push({transform:[t,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:s}=e,r=this.cachedCanvases.getCanvas("inlineImage",i,s),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,s=this.ctx;if(this.save(),!Qn){const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none")}s.scale(1/t,-1/i);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;KL(l,e),r=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(r,br(s));s.imageSmoothingEnabled=YL(lt(s),e.interpolate),A0(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const r=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,o).context;KL(l,e),s=this.applyTransferMapsToCanvas(l)}for(const r of t)i.save(),i.transform(...r.transform),i.scale(1,-1),A0(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===XL?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=lt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:s,d:r}=this.ctx.getTransform();let o,a;if(i===0&&s===0){const l=Math.abs(t),u=Math.abs(r);if(l===u)if(e===0)o=a=1/l;else{const c=l*e;o=a=c<1?1/c:1}else if(e===0)o=1/l,a=1/u;else{const c=l*e,d=u*e;o=c<1?1/c:1,a=d<1?1/d:1}}else{const l=Math.abs(t*r-i*s),u=Math.hypot(t,i),c=Math.hypot(s,r);if(e===0)o=c/l,a=u/l;else{const d=e*l;o=c>d?c/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[s,r]=this.getScaleForStroking();if(t.lineWidth=i||1,s===1&&r===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(s,r),o.length>0){const a=Math.max(s,r);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Kl=new WeakSet,sE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},rE=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let wd=YR;for(const n in Vs)wd.prototype[n]!==void 0&&(wd.prototype[Vs[n]]=wd.prototype[n]);var tw,Qm,Jm;let _u=(tw=class{static get workerPort(){return h(this,Qm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,Qm,e)}static get workerSrc(){return h(this,Jm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,Jm,e)}},Qm=new WeakMap,Jm=new WeakMap,x(tw,Qm,null),x(tw,Jm,""),tw);const E0={UNKNOWN:0,DATA:1,ERROR:2},Ot={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function QL(){}function us(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ke('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ph(n.message);case"MissingPDFException":return new $y(n.message);case"PasswordException":return new Rx(n.message,n.code);case"UnexpectedResponseException":return new t1(n.message,n.status);case"UnknownErrorException":return new Mx(n.message,n.details);default:return new Mx(n.message,n.toString())}}var Vd,Rs,d3,f3,p3,Tw;class hg{constructor(e,t,i){x(this,Rs);x(this,Vd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",S(this,Rs,d3).bind(this),{signal:h(this,Vd).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(e,t,i,s){const r=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[r]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:r,data:t,desiredSize:u.desiredSize},s),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[r].pullCall=c,l.postMessage({sourceName:o,targetName:a,stream:Ot.PULL,streamId:r,desiredSize:u.desiredSize}),c.promise},cancel:u=>{$t(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[r].cancelCall=c,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:Ot.CANCEL,streamId:r,reason:us(u)}),c.promise}},i)}destroy(){var e;(e=h(this,Vd))==null||e.abort(),b(this,Vd,null)}}Vd=new WeakMap,Rs=new WeakSet,d3=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){S(this,Rs,p3).call(this,e);return}if(e.callback){const i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===E0.DATA)s.resolve(e.data);else if(e.callback===E0.ERROR)s.reject(us(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,s=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(o){r.postMessage({sourceName:i,targetName:s,callback:E0.DATA,callbackId:e.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:s,callback:E0.ERROR,callbackId:e.callbackId,reason:us(o)})});return}if(e.streamId){S(this,Rs,f3).call(this,e);return}t(e.data)},f3=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=c,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:Ot.ENQUEUE,streamId:t,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Ot.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){$t(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Ot.ERROR,streamId:t,reason:us(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ot.START_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:Ot.START_COMPLETE,streamId:t,reason:us(u)})})},p3=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Ot.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(us(e.reason));break;case Ot.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(us(e.reason));break;case Ot.PULL:if(!a){r.postMessage({sourceName:i,targetName:s,stream:Ot.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||QL).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ot.PULL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:Ot.PULL_COMPLETE,streamId:t,reason:us(u)})});break;case Ot.ENQUEUE:if($t(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Ot.CLOSE:if($t(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),S(this,Rs,Tw).call(this,o,t);break;case Ot.ERROR:$t(o,"error should have stream controller"),o.controller.error(us(e.reason)),S(this,Rs,Tw).call(this,o,t);break;case Ot.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(us(e.reason)),S(this,Rs,Tw).call(this,o,t);break;case Ot.CANCEL:if(!a)break;const l=us(e.reason);Promise.try(a.onCancel||QL,l).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ot.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:Ot.CANCEL_COMPLETE,streamId:t,reason:us(u)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Tw=async function(e,t){var i,s,r;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var Ju,ev;class aq{constructor({parsedData:e,rawData:t}){x(this,Ju);x(this,ev);b(this,Ju,e),b(this,ev,t)}getRaw(){return h(this,ev)}get(e){return h(this,Ju).get(e)??null}getAll(){return mR(h(this,Ju))}has(e){return h(this,Ju).has(e)}}Ju=new WeakMap,ev=new WeakMap;const Fh=Symbol("INTERNAL");var tv,nv,iv,jd;class lq{constructor(e,{name:t,intent:i,usage:s,rbGroups:r}){x(this,tv,!1);x(this,nv,!1);x(this,iv,!1);x(this,jd,!0);b(this,tv,!!(e&Vi.DISPLAY)),b(this,nv,!!(e&Vi.PRINT)),this.name=t,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(h(this,iv))return h(this,jd);if(!h(this,jd))return!1;const{print:e,view:t}=this.usage;return h(this,tv)?(t==null?void 0:t.viewState)!=="OFF":h(this,nv)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Fh&&Ke("Internal method `_setVisible` called."),b(this,iv,i),b(this,jd,t)}}tv=new WeakMap,nv=new WeakMap,iv=new WeakMap,jd=new WeakMap;var qa,He,Hd,Wd,sv,oE;class uq{constructor(e,t=Vi.DISPLAY){x(this,sv);x(this,qa,null);x(this,He,new Map);x(this,Hd,null);x(this,Wd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Wd,e.order);for(const i of e.groups)h(this,He).set(i.id,new lq(t,i));if(e.baseState==="OFF")for(const i of h(this,He).values())i._setVisible(Fh,!1);for(const i of e.on)h(this,He).get(i)._setVisible(Fh,!0);for(const i of e.off)h(this,He).get(i)._setVisible(Fh,!1);b(this,Hd,this.getHash())}}isVisible(e){if(h(this,He).size===0)return!0;if(!e)return e1("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,He).has(e.id)?h(this,He).get(e.id).visible:(Ae(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return S(this,sv,oE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!h(this,He).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(h(this,He).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!h(this,He).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(!h(this,He).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!h(this,He).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(!h(this,He).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!h(this,He).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(h(this,He).get(t).visible)return!1}return!0}return Ae(`Unknown optional content policy ${e.policy}.`),!0}return Ae(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var r;const s=h(this,He).get(e);if(!s){Ae(`Optional content group not found: ${e}`);return}if(i&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const a of o)a!==e&&((r=h(this,He).get(a))==null||r._setVisible(Fh,!1,!0));s._setVisible(Fh,!!t,!0),b(this,qa,null)}setOCGState({state:e,preserveRB:t}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=h(this,He).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!r.visible,t);break}}b(this,qa,null)}get hasInitialVisibility(){return h(this,Hd)===null||this.getHash()===h(this,Hd)}getOrder(){return h(this,He).size?h(this,Wd)?h(this,Wd).slice():[...h(this,He).keys()]:null}getGroups(){return h(this,He).size>0?mR(h(this,He)):null}getGroup(e){return h(this,He).get(e)||null}getHash(){if(h(this,qa)!==null)return h(this,qa);const e=new t3;for(const[t,i]of h(this,He))e.update(`${t}:${i.visible}`);return b(this,qa,e.hexdigest())}}qa=new WeakMap,He=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,sv=new WeakSet,oE=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let s=1;s<t;s++){const r=e[s];let o;if(Array.isArray(r))o=S(this,sv,oE).call(this,r);else if(h(this,He).has(r))o=h(this,He).get(r).visible;else return Ae(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class cq{constructor(e,{disableRange:t=!1,disableStream:i=!1}){$t(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(i),!0)});$t(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,s,r;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){$t(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hq(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new dq(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class hq{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=wR(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dq{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function fq(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let c=a(t);return c=unescape(c),c=l(c),c=u(c),r(c)}if(t=o(n),t){const c=u(t);return r(c)}if(t=i("filename","i").exec(n),t){t=t[1];let c=a(t);return c=u(c),r(c)}function i(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(c,{fatal:!0}),p=n1(d);d=f.decode(p),e=!1}catch{}}return d}function r(c){return e&&/[\x80-\xff]/.test(c)&&(c=s("utf-8",c),e&&(c=s("iso-8859-1",c))),c}function o(c){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(c))!==null;){let[,g,w,v]=f;if(g=parseInt(g,10),g in d){if(g===0)break;continue}d[g]=[w,v]}const m=[];for(let g=0;g<d.length&&g in d;++g){let[w,v]=d[g];v=a(v),w&&(v=unescape(v),g===0&&(v=l(v))),m.push(v)}return m.join("")}function a(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const f=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return s(f,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,w){return String.fromCharCode(parseInt(w,16))}),s(f,m);try{m=atob(m)}catch{}return s(f,m)})}return""}function g3(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const s=e[i];s!==void 0&&t.append(i,s)}return t}function r1(n){try{return new URL(n).origin}catch{}return null}function m3({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function v3(n){const e=n.get("Content-Disposition");if(e){let t=fq(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(wR(t))return t}return null}function o1(n,e){return n===404||n===0&&e.startsWith("file:")?new $y('Missing PDF "'+e+'".'):new t1(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function y3(n){return n===200||n===206}function w3(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function _3(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ae(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class JL{constructor(e){ae(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=g3(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return $t(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new pq(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new gq(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class pq{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),s=t.url;fetch(s,w3(i,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=r1(r.url),!y3(r.status))throw o1(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:a,suggestedLength:l}=m3({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=v3(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ph("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_3(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class gq{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${i-1}`);const o=s.url;fetch(o,w3(r,this._withCredentials,this._abortController)).then(a=>{const l=r1(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!y3(a.status))throw o1(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:_3(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const kS=200,RS=206;function mq(n){const e=n.response;return typeof e!="string"?e:n1(e).buffer}class vq{constructor({url:e,httpHeaders:t,withCredentials:i}){ae(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=g3(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const s={begin:e,end:t};for(const r in i)s[r]=i[r];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,o]of this.headers)t.setRequestHeader(r,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=RS):s.expectedStatus=kS,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,t))}onStateChange(e,t){var l,u,c;const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,s.status);return}const r=s.status||kS;if(!(r===kS&&i.expectedStatus===RS)&&r!==i.expectedStatus){(u=i.onError)==null||u.call(i,s.status);return}const a=mq(s);if(r===RS){const d=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(c=i.onError)==null||c.call(i,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class yq{constructor(e){this._source=e,this._manager=new vq(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return $t(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wq(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new _q(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class wq{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=r1(t.responseURL);const i=t.getAllResponseHeaders(),s=new Headers(i?i.trim().split(/[\r\n]+/).map(a=>{const[l,...u]=a.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=m3({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=v3(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=o1(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _q{constructor(e,t,i){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=r1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=o1(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const bq=/^[a-z][a-z0-9\-+.]+:/i;function Sq(n){if(bq.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Aq{constructor(e){this.source=e,this.url=Sq(e.url),$t(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return $t(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new xq(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Eq(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class xq{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new $y(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ph("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Eq{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Pq=1e5,ui=30,Cq=.8;var v2,Ka,fi,rv,ov,ec,Lo,av,lv,tc,Gd,qd,Za,Kd,uv,Zd,nc,cv,hv,Pt,ic,sc,dv,Ya,Yd,va,b3,S3,lE,Qi,kw,uE,A3,x3;let aE=(Pt=class{constructor({textContentSource:e,container:t,viewport:i}){x(this,va);x(this,Ka,Promise.withResolvers());x(this,fi,null);x(this,rv,!1);x(this,ov,!!((v2=globalThis.FontInspector)!=null&&v2.enabled));x(this,ec,null);x(this,Lo,null);x(this,av,0);x(this,lv,0);x(this,tc,null);x(this,Gd,null);x(this,qd,0);x(this,Za,0);x(this,Kd,Object.create(null));x(this,uv,[]);x(this,Zd,null);x(this,nc,[]);x(this,cv,new WeakMap);x(this,hv,null);var l;if(e instanceof ReadableStream)b(this,Zd,e);else if(typeof e=="object")b(this,Zd,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,fi,b(this,Gd,t)),b(this,Za,i.scale*(globalThis.devicePixelRatio||1)),b(this,qd,i.rotation),b(this,Lo,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:a}=i.rawDims;b(this,hv,[1,0,0,-1,-o,a+r]),b(this,lv,s),b(this,av,r),S(l=Pt,Qi,A3).call(l),ih(t,i),h(this,Ka).promise.finally(()=>{h(Pt,Yd).delete(this),b(this,Lo,null),b(this,Kd,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ti.platform;return Ce(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,tc).read().then(({value:t,done:i})=>{if(i){h(this,Ka).resolve();return}h(this,ec)??b(this,ec,t.lang),Object.assign(h(this,Kd),t.styles),S(this,va,b3).call(this,t.items),e()},h(this,Ka).reject)};return b(this,tc,h(this,Zd).getReader()),h(Pt,Yd).add(this),e(),h(this,Ka).promise}update({viewport:e,onBefore:t=null}){var r;const i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==h(this,qd)&&(t==null||t(),b(this,qd,s),ih(h(this,Gd),{rotation:s})),i!==h(this,Za)){t==null||t(),b(this,Za,i);const o={div:null,properties:null,ctx:S(r=Pt,Qi,kw).call(r,h(this,ec))};for(const a of h(this,nc))o.properties=h(this,cv).get(a),o.div=a,S(this,va,lE).call(this,o)}}cancel(){var t;const e=new ph("TextLayer task cancelled.");(t=h(this,tc))==null||t.cancel(e).catch(()=>{}),b(this,tc,null),h(this,Ka).reject(e)}get textDivs(){return h(this,nc)}get textContentItemsStr(){return h(this,uv)}static cleanup(){if(!(h(this,Yd).size>0)){h(this,ic).clear();for(const{canvas:e}of h(this,sc).values())e.remove();h(this,sc).clear()}}},Ka=new WeakMap,fi=new WeakMap,rv=new WeakMap,ov=new WeakMap,ec=new WeakMap,Lo=new WeakMap,av=new WeakMap,lv=new WeakMap,tc=new WeakMap,Gd=new WeakMap,qd=new WeakMap,Za=new WeakMap,Kd=new WeakMap,uv=new WeakMap,Zd=new WeakMap,nc=new WeakMap,cv=new WeakMap,hv=new WeakMap,ic=new WeakMap,sc=new WeakMap,dv=new WeakMap,Ya=new WeakMap,Yd=new WeakMap,va=new WeakSet,b3=function(e){var s,r;if(h(this,rv))return;(r=h(this,Lo)).ctx??(r.ctx=S(s=Pt,Qi,kw).call(s,h(this,ec)));const t=h(this,nc),i=h(this,uv);for(const o of e){if(t.length>Pq){Ae("Ignoring additional textDivs for performance reasons."),b(this,rv,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=h(this,fi);b(this,fi,document.createElement("span")),h(this,fi).classList.add("markedContent"),o.id!==null&&h(this,fi).setAttribute("id",`${o.id}`),a.append(h(this,fi))}else o.type==="endMarkedContent"&&b(this,fi,h(this,fi).parentNode);continue}i.push(o.str),S(this,va,S3).call(this,o)}},S3=function(e){var g;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,nc).push(t);const s=re.transform(h(this,hv),e.transform);let r=Math.atan2(s[1],s[0]);const o=h(this,Kd)[e.fontName];o.vertical&&(r+=Math.PI/2);let a=h(this,ov)&&o.fontSubstitution||o.fontFamily;a=Pt.fontFamilyMap.get(a)||a;const l=Math.hypot(s[2],s[3]),u=l*S(g=Pt,Qi,x3).call(g,a,h(this,ec));let c,d;r===0?(c=s[4],d=s[5]-u):(c=s[4]+u*Math.sin(r),d=s[5]-u*Math.cos(r));const f="calc(var(--scale-factor)*",p=t.style;h(this,fi)===h(this,Gd)?(p.left=`${(100*c/h(this,lv)).toFixed(2)}%`,p.top=`${(100*d/h(this,av)).toFixed(2)}%`):(p.left=`${f}${c.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(Pt,Ya)*l).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,h(this,ov)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),r!==0&&(i.angle=r*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);w!==v&&Math.max(w,v)/Math.min(w,v)>1.5&&(m=!0)}if(m&&(i.canvasWidth=o.vertical?e.height:e.width),h(this,cv).set(t,i),h(this,Lo).div=t,h(this,Lo).properties=i,S(this,va,lE).call(this,h(this,Lo)),i.hasText&&h(this,fi).append(t),i.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),h(this,fi).append(w)}},lE=function(e){var a;const{div:t,properties:i,ctx:s}=e,{style:r}=t;let o="";if(h(Pt,Ya)>1&&(o=`scale(${1/h(Pt,Ya)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=r,{canvasWidth:u,fontSize:c}=i;S(a=Pt,Qi,uE).call(a,s,c*h(this,Za),l);const{width:d}=s.measureText(t.textContent);d>0&&(o=`scaleX(${u*h(this,Za)/d}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},Qi=new WeakSet,kw=function(e=null){let t=h(this,sc).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,sc).set(e,t),h(this,dv).set(t,{size:0,family:""})}return t},uE=function(e,t,i){const s=h(this,dv).get(e);t===s.size&&i===s.family||(e.font=`${t}px ${i}`,s.size=t,s.family=i)},A3=function(){if(h(this,Ya)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Ya,e.getBoundingClientRect().height),e.remove()},x3=function(e,t){const i=h(this,ic).get(e);if(i)return i;const s=S(this,Qi,kw).call(this,t);s.canvas.width=s.canvas.height=ui,S(this,Qi,uE).call(this,s,ui,e);const r=s.measureText("");let o=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(o){const c=o/(o+a);return h(this,ic).set(e,c),s.canvas.width=s.canvas.height=0,c}s.strokeStyle="red",s.clearRect(0,0,ui,ui),s.strokeText("g",0,0);let l=s.getImageData(0,0,ui,ui).data;a=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){a=Math.ceil(c/4/ui);break}s.clearRect(0,0,ui,ui),s.strokeText("A",0,ui),l=s.getImageData(0,0,ui,ui).data,o=0;for(let c=0,d=l.length;c<d;c+=4)if(l[c]>0){o=ui-Math.floor(c/4/ui);break}s.canvas.width=s.canvas.height=0;const u=o?o/(o+a):Cq;return h(this,ic).set(e,u),u},x(Pt,Qi),x(Pt,ic,new Map),x(Pt,sc,new Map),x(Pt,dv,new WeakMap),x(Pt,Ya,null),x(Pt,Yd,new Set),Pt);class _m{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function s(r){var l;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if(_m.shouldBuildText(a))(l=r==null?void 0:r.attributes)!=null&&l.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&t.push({str:o}),!!r.children)for(const u of r.children)s(u)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Tq=65536,kq=100,Rq=5e3,Mq=Qn?W7:V7,Iq=Qn?G7:o3,Lq=Qn?H7:j7,Dq=Qn?q7:c3;function Oq(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new cE,{docId:t}=e,i=n.url?Nq(n.url):null,s=n.data?Fq(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof E3?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:Tq;let c=n.worker instanceof Mw?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!s1(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,g=n.CMapReaderFactory||Iq,w=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,v=n.StandardFontDataFactory||Dq,y=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,A=n.isEvalSupported!==!1,E=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Qn,C=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Qn&&(ti.platform.isFirefox||!globalThis.chrome),T=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,k=typeof n.disableFontFace=="boolean"?n.disableFontFace:Qn,P=n.fontExtraProperties===!0,M=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,H=n.disableRange===!0,W=n.disableStream===!0,F=n.disableAutoFetch===!0,X=n.pdfBug===!0,Y=n.CanvasFactory||Mq,G=n.FilterFactory||Lq,N=n.enableHWA===!0,Q=l?l.length:n.length??NaN,J=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Qn&&!k,he=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:g===o3&&v===c3&&p&&w&&ig(p,document.baseURI)&&ig(w,document.baseURI);n.canvasFactory&&zL("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&zL("`filterFactory`-instance option, please use `FilterFactory` instead.");const ue=null;_7(d);const ge={canvasFactory:new Y({ownerDocument:D,enableHWA:N}),filterFactory:new G({docId:t,ownerDocument:D}),cMapReaderFactory:he?null:new g({baseUrl:p,isCompressed:m}),standardFontDataFactory:he?null:new v({baseUrl:w})};if(!c){const Pe={verbosity:d,port:_u.workerPort};c=Pe.port?Mw.fromPort(Pe):new Mw(Pe),e._worker=c}const $e={docId:t,apiVersion:"4.9.155",data:s,password:a,disableAutoFetch:F,rangeChunkSize:u,length:Q,docBaseUrl:f,enableXfa:M,evaluatorOptions:{maxImageSize:_,disableFontFace:k,ignoreErrors:y,isEvalSupported:A,isOffscreenCanvasSupported:E,isImageDecoderSupported:C,canvasMaxAreaInBytes:T,fontExtraProperties:P,useSystemFonts:J,cMapUrl:he?p:null,standardFontDataUrl:he?w:null}},Xe={disableFontFace:k,fontExtraProperties:P,ownerDocument:D,pdfBug:X,styleElement:ue,loadingParams:{disableAutoFetch:F,enableXfa:M}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const Pe=c.messageHandler.sendWithPromise("GetDocRequest",$e,s?[s.buffer]:null);let oe;if(l)oe=new cq(l,{disableRange:H,disableStream:W});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Vn;if(Qn)if(ig(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");Vn=JL}else Vn=Aq;else Vn=ig(i)?JL:yq;oe=new Vn({url:i,length:Q,httpHeaders:r,withCredentials:o,rangeChunkSize:u,disableRange:H,disableStream:W})}return Pe.then(Vn=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const _h=new hg(t,Vn,c.port),bh=new Uq(_h,e,oe,Xe,ge);e._transport=bh,_h.send("Ready",null)})}).catch(e._capability.reject),e}function Nq(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Qn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Fq(n){if(Qn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return n1(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function eD(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var gb;const mb=class mb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${An(mb,gb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}};gb=new WeakMap,x(mb,gb,0);let cE=mb,E3=class{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ke("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class $q{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Xa,Do,Ps,$h,Rw;class Bq{constructor(e,t,i,s=!1){x(this,Ps);x(this,Xa,null);x(this,Do,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new BL:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new P3,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new By({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=Ia.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null,isEditing:d=!1}){var A,E;(A=this._stats)==null||A.time("Overall");const f=this._transport.getRenderingIntent(i,s,c,d),{renderingIntent:p,cacheKey:m}=f;b(this,Do,!1),S(this,Ps,Rw).call(this),a||(a=this._transport.getOptionalContentConfig(p));let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const w=!!(p&Vi.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(E=this._stats)==null||E.time("Page Request"),this._pumpOperatorList(f));const v=C=>{var T;g.renderTasks.delete(y),(this._maybeCleanupAfterRender||w)&&b(this,Do,!0),S(this,Ps,$h).call(this,!w),C?(y.capability.reject(C),this._abortOperatorList({intentState:g,reason:C instanceof Error?C:new Error(C)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(T=globalThis.Stats)!=null&&T.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new dE({callback:v,params:{canvasContext:e,viewport:t,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(y);const _=y.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([C,T])=>{var k;if(this.destroyed){v();return}if((k=this._stats)==null||k.time("Rendering"),!(T.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:C,optionalContentConfig:T}),y.operatorListChanged()}).catch(v),_}getOperatorList({intent:e="display",annotationMode:t=Ia.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var u;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,i,s,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_m.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,s){function r(){o.read().then(function({value:l,done:u}){if(u){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),r()},s)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),b(this,Do,!1),S(this,Ps,Rw).call(this),Promise.all(e)}cleanup(e=!1){b(this,Do,!0);const t=S(this,Ps,$h).call(this,!1);return e&&t&&this._stats&&(this._stats=new BL),t}_startRenderPage(e,t){var s,r;const i=this._intentStates.get(t);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&S(this,Ps,$h).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:s},o).getReader(),u=this._intentStates.get(t);u.streamReader=l;const c=()=>{l.read().then(({value:d,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,u),c())},d=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();S(this,Ps,$h).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(d);else if(u.opListReadCapability)u.opListReadCapability.reject(d);else throw d}})};c()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof yR){let s=kq;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new ph(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Xa=new WeakMap,Do=new WeakMap,Ps=new WeakSet,$h=function(e=!1){if(S(this,Ps,Rw).call(this),!h(this,Do)||this.destroyed)return!1;if(e)return b(this,Xa,setTimeout(()=>{b(this,Xa,null),S(this,Ps,$h).call(this,!1)},Rq)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Do,!1),!0},Rw=function(){h(this,Xa)&&(clearTimeout(h(this,Xa)),b(this,Xa,null))};var Oo,vb;class zq{constructor(){x(this,Oo,new Map);x(this,vb,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};h(this,vb).then(()=>{for(const[s]of h(this,Oo))s.call(this,i)})}addEventListener(e,t,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){Ae("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}h(this,Oo).set(t,s)}removeEventListener(e,t){const i=h(this,Oo).get(t);i==null||i(),h(this,Oo).delete(t)}terminate(){for(const[,e]of h(this,Oo))e==null||e();h(this,Oo).clear()}}Oo=new WeakMap,vb=new WeakMap;var Ye,yb,rc,oc,Xd,Iw,Qd,Lw;let Mw=(Ye=class{constructor({name:e=null,port:t=null,verbosity:i=b7()}={}){x(this,Xd);var s;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=h(Ye,oc))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(h(Ye,oc)||b(Ye,oc,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new hg("main","worker",e),this._messageHandler.on("ready",function(){}),S(this,Xd,Iw).call(this)}_initialize(){if(h(Ye,rc)||h(Ye,Qd,Lw)){this._setupFakeWorker();return}let{workerSrc:e}=Ye;try{Ye._isSameOrigin(window.location.href,e)||(e=Ye._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new hg("main","worker",t),s=()=>{r.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),i.on("test",a=>{if(r.abort(),this.destroyed||!a){s();return}this._messageHandler=i,this._port=t,this._webWorker=t,S(this,Xd,Iw).call(this)}),i.on("ready",a=>{if(r.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{e1("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(Ye,rc)||(Ae("Setting up fake worker."),b(Ye,rc,!0)),Ye._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new zq;this._port=t;const i=`fake${An(Ye,yb)._++}`,s=new hg(i+"_worker",i,t);e.setup(s,t),this._messageHandler=new hg(i,i+"_worker",t),S(this,Xd,Iw).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,i;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=h(Ye,oc))==null||t.delete(this._port),this._port=null,(i=this._messageHandler)==null||i.destroy(),this._messageHandler=null}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=h(this,oc))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ye(e)}static get workerSrc(){if(_u.workerSrc)return _u.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ce(this,"_setupFakeWorkerGlobal",(async()=>h(this,Qd,Lw)?h(this,Qd,Lw):(await import(this.workerSrc)).WorkerMessageHandler)())}},yb=new WeakMap,rc=new WeakMap,oc=new WeakMap,Xd=new WeakSet,Iw=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Qd=new WeakSet,Lw=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},x(Ye,Qd),x(Ye,yb,0),x(Ye,rc,!1),x(Ye,oc),Qn&&(b(Ye,rc,!0),_u.workerSrc||(_u.workerSrc="./pdf.worker.mjs")),Ye._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}const s=new URL(t,i);return i.origin===s.origin},Ye._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Ye);var No,$r,Jd,ef,Br,ac,dg;class Uq{constructor(e,t,i,s,r){x(this,ac);x(this,No,new Map);x(this,$r,new Map);x(this,Jd,new Map);x(this,ef,new Map);x(this,Br,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new P3,this.fontLoader=new z7({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ce(this,"annotationStorage",new bR)}getRenderingIntent(e,t=Ia.ENABLE,i=null,s=!1,r=!1){let o=Vi.DISPLAY,a=Jx;switch(e){case"any":o=Vi.ANY;break;case"display":break;case"print":o=Vi.PRINT;break;default:Ae(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Vi.PRINT&&i instanceof i3?i:this.annotationStorage;switch(t){case Ia.DISABLE:o+=Vi.ANNOTATIONS_DISABLE;break;case Ia.ENABLE:break;case Ia.ENABLE_FORMS:o+=Vi.ANNOTATIONS_FORMS;break;case Ia.ENABLE_STORAGE:o+=Vi.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Ae(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=Vi.IS_EDITING),r&&(o+=Vi.OPLIST);const{ids:u,hash:c}=l.modifiedIds,d=[o,a.hash,c];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=h(this,Br))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of h(this,$r).values())e.push(s._destroy());h(this,$r).clear(),h(this,Jd).clear(),h(this,ef).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,No).clear(),this.filterFactory.destroy(),aE.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ph("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{$t(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){s.close();return}$t(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:o}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:o}}),e.on("GetRangeReader",(i,s)=>{$t(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){s.close();return}$t(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{r.cancel(o),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new $q(i,this))}),e.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new Rx(i.message,i.code);break;case"InvalidPDFException":s=new TB(i.message);break;case"MissingPDFException":s=new $y(i.message);break;case"UnexpectedResponseException":s=new t1(i.message,i.status);break;case"UnknownErrorException":s=new Mx(i.message,i.details);break;default:Ke("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",i=>{if(b(this,Br,Promise.withResolvers()),t.onPassword){const s=r=>{r instanceof Error?h(this,Br).reject(r):h(this,Br).resolve({password:r})};try{t.onPassword(s,i.code)}catch(r){h(this,Br).reject(r)}}else h(this,Br).reject(new Rx(i.message,i.code));return h(this,Br).promise}),e.on("DataLoaded",i=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;h(this,$r).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in r){const p=r.error;Ae(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const c=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new U7(r,{disableFontFace:a,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=r;$t(f,"The imageRef must be defined.");for(const p of h(this,$r).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,r,o])=>{var l;if(this.destroyed)return;const a=h(this,$r).get(s);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(r){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>m7&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),e.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Ae("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=h(this,Jd).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&h(this,ef).set(r.refStr,e);const o=new Bq(t,r,this,this._params.pdfBug);return h(this,$r).set(t,o),o});return h(this,Jd).set(t,s),s}getPageIndex(e){return eD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return S(this,ac,dg).call(this,"GetFieldObjects")}hasJSActions(){return S(this,ac,dg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return S(this,ac,dg).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return S(this,ac,dg).call(this,"GetOptionalContentConfig").then(t=>new uq(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=h(this,No).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var r,o;return{info:s[0],metadata:s[1]?new aq(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return h(this,No).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of h(this,$r).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,No).clear(),this.filterFactory.destroy(!0),aE.cleanup()}}cachedPageNumber(e){if(!eD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,ef).get(t)??null}}No=new WeakMap,$r=new WeakMap,Jd=new WeakMap,ef=new WeakMap,Br=new WeakMap,ac=new WeakSet,dg=function(e,t=null){const i=h(this,No).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return h(this,No).set(e,s),s};const P0=Symbol("INITIAL_DATA");var Ks,fv,hE;class P3{constructor(){x(this,fv);x(this,Ks,Object.create(null))}get(e,t=null){if(t){const s=S(this,fv,hE).call(this,e);return s.promise.then(()=>t(s.data)),null}const i=h(this,Ks)[e];if(!i||i.data===P0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=h(this,Ks)[e];return!!t&&t.data!==P0}resolve(e,t=null){const i=S(this,fv,hE).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in h(this,Ks)){const{data:i}=h(this,Ks)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}b(this,Ks,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,Ks)){const{data:t}=h(this,Ks)[e];t!==P0&&(yield[e,t])}}}Ks=new WeakMap,fv=new WeakSet,hE=function(e){var t;return(t=h(this,Ks))[e]||(t[e]={...Promise.withResolvers(),data:P0})};var Qa;class Vq{constructor(e){x(this,Qa,null);b(this,Qa,e),this.onContinue=null}get promise(){return h(this,Qa).capability.promise}cancel(e=0){h(this,Qa).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,Qa).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=h(this,Qa);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Qa=new WeakMap;var Ja,lc;const Au=class Au{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:f=null}){x(this,Ja,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Vq(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(h(Au,lc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Au,lc).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:r,background:o}=this.params;this.gfx=new wd(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),h(this,Ja)&&(window.cancelAnimationFrame(h(this,Ja)),b(this,Ja,null)),h(Au,lc).delete(this._canvas),this.callback(e||new yR(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Ja,window.requestAnimationFrame(()=>{b(this,Ja,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Au,lc).delete(this._canvas),this.callback())))}};Ja=new WeakMap,lc=new WeakMap,x(Au,lc,new WeakSet);let dE=Au;const jq="4.9.155",Hq="a4eb8407c";function tD(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function jp(n){return Math.max(0,Math.min(255,255*n))}class nD{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=jp(e),[e,e,e]}static G_HTML([e]){const t=tD(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(jp)}static RGB_HTML(e){return`#${e.map(tD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[jp(1-Math.min(1,e+s)),jp(1-Math.min(1,i+s)),jp(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,r=1-t,o=1-i,a=Math.min(s,r,o);return["CMYK",s,r,o,a]}}class Wq{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ke("Abstract method `_createSVG` called.")}}let AR=class extends Wq{_createSVG(e){return document.createElementNS(mo,e)}},C3=class{static setupStorage(e,t,i,s,r){const o=s.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),r==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",a=>{s.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),r==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:r}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&r.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,r=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:r,linkService:i});const a=r!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),a&&_m.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const c=[[s,-1,o]];for(;c.length>0;){const[p,m,g]=c.at(-1);if(m+1===p.children.length){c.pop();continue}const w=p.children[++c.at(-1)[1]];if(w===null)continue;const{name:v}=w;if(v==="#text"){const _=document.createTextNode(w.value);u.push(_),g.append(_);continue}const y=(d=w==null?void 0:w.attributes)!=null&&d.xmlns?document.createElementNS(w.attributes.xmlns,v):document.createElement(v);if(g.append(y),w.attributes&&this.setAttributes({html:y,element:w,storage:t,intent:r,linkService:i}),((f=w.children)==null?void 0:f.length)>0)c.push([w,-1,y]);else if(w.value){const _=document.createTextNode(w.value);a&&_m.shouldBuildText(v)&&u.push(_),y.append(_)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const Uy=1e3,Gq=9,sh=new WeakSet;function $l(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class qq{static create(e){switch(e.data.annotationType){case Ht.LINK:return new T3(e);case Ht.TEXT:return new Kq(e);case Ht.WIDGET:switch(e.data.fieldType){case"Tx":return new Zq(e);case"Btn":return e.data.radioButton?new M3(e):e.data.checkBox?new Xq(e):new Qq(e);case"Ch":return new Jq(e);case"Sig":return new Yq(e)}return new gh(e);case Ht.POPUP:return new pE(e);case Ht.FREETEXT:return new N3(e);case Ht.LINE:return new tK(e);case Ht.SQUARE:return new nK(e);case Ht.CIRCLE:return new iK(e);case Ht.POLYLINE:return new F3(e);case Ht.CARET:return new rK(e);case Ht.INK:return new xR(e);case Ht.POLYGON:return new sK(e);case Ht.HIGHLIGHT:return new $3(e);case Ht.UNDERLINE:return new oK(e);case Ht.SQUIGGLY:return new aK(e);case Ht.STRIKEOUT:return new lK(e);case Ht.STAMP:return new B3(e);case Ht.FILEATTACHMENT:return new uK(e);default:return new Dt(e)}}}var uc,tf,nf,pv,fE;const XR=class XR{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){x(this,pv);x(this,uc,null);x(this,tf,!1);x(this,nf,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return XR._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;h(this,uc)||b(this,uc,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&S(this,pv,fE).call(this,t),(i=h(this,nf))==null||i.popup.updateEdited(e)}resetEdited(){var e;h(this,uc)&&(S(this,pv,fE).call(this,h(this,uc).rect),(e=h(this,nf))==null||e.popup.resetEdited(),b(this,uc,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof gh||(r.tabIndex=Uy);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof pE){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,r),r}const{width:a,height:l}=$l(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(g>0||w>0){const y=`calc(${g}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof M3){const y=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case Up.SOLID:o.borderStyle="solid";break;case Up.DASHED:o.borderStyle="dashed";break;case Up.BEVELED:Ae("Unimplemented border style: beveled");break;case Up.INSET:Ae("Unimplemented border style: inset");break;case Up.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(b(this,tf,!0),o.borderColor=re.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const u=re.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:c,pageHeight:d,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(u[0]-f)/c}%`,o.top=`${100*(u[1]-p)/d}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/c}%`,o.height=`${100*l/d}%`):this.setRotation(m,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:o}=$l(this.data.rect);let a,l;e%180===0?(a=100*r/i,l=100*o/s):(a=100*o/i,l=100*r/s),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,s)=>{const r=s.detail[t],o=r[0],a=r.slice(1);s.target.style[i]=nD[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:nD[`${o}_rgb`](a)})};return Ce(this,"_commonActions",{display:t=>{const{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const r=e[s]||i[s];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,r]of Object.entries(t)){const o=i[s];if(o){const a={detail:{[s]:r},target:e};o(a),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,s,r]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,w,v,y]=e.subarray(2,6);if(s===g&&r===w&&t===v&&i===y)return}const{style:o}=this.container;let a;if(h(this,tf)){const{borderColor:g,borderWidth:w}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=s-t,u=r-i,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=c.createElement("defs");d.append(f);const p=c.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,w=e.length;g<w;g+=8){const v=e[g],y=e[g+1],_=e[g+2],A=e[g+3],E=c.createElement("rect"),C=(_-t)/l,T=(r-y)/u,k=(v-_)/l,P=(y-A)/u;E.setAttribute("x",C),E.setAttribute("y",T),E.setAttribute("width",k),E.setAttribute("height",P),p.append(E),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${T}" width="${k}" height="${P}"/>`)}h(this,tf)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,t=b(this,nf,new pE({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ke("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:r,id:o,exportValues:a}of s){if(r===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!sh.has(u)){Ae(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:u})}return i}for(const s of document.getElementsByName(e)){const{exportValue:r}=s,o=s.getAttribute("data-element-id");o!==t&&sh.has(s)&&i.push({id:o,exportValue:r,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};uc=new WeakMap,tf=new WeakMap,nf=new WeakMap,pv=new WeakSet,fE=function(e){const{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:u,height:c}=$l(e);t.left=`${100*(e[0]-a)/r}%`,t.top=`${100*(o-e[3]+l)/o}%`,s===0?(t.width=`${100*u/r}%`,t.height=`${100*c/o}%`):this.setRotation(s)};let Dt=XR;var Wi,fu,k3,R3;class T3 extends Dt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});x(this,Wi);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let r=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(s,t.action),r=!0):t.attachment?(S(this,Wi,k3).call(this,s,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(S(this,Wi,R3).call(this,s,t.setOCGState),r=!0):t.dest?(this._bindLink(s,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),r=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&S(this,Wi,fu).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),S(this,Wi,fu).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),S(this,Wi,fu).call(this)}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),S(this,Wi,fu).call(this),!this._fieldObjects){Ae('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var d;s==null||s();const{fields:r,refs:o,include:a}=i,l=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:g}of m)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,c=[];for(const f of l){const{id:p}=f;switch(c.push(p),f.type){case"text":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;u.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!sh.has(m)){Ae(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Wi=new WeakSet,fu=function(){this.container.setAttribute("data-internal-link","")},k3=function(t,i,s=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(i.content,i.filename,s),!1},S(this,Wi,fu).call(this)},R3=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),S(this,Wi,fu).call(this)};class Kq extends Dt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class gh extends Dt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ti.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,r){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o)}}))})}_setEventListeners(e,t,i,s){var r,o,a;for(const[l,u]of i)(u==="Action"||(r=this.data.actions)!=null&&r[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":re.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Gq,r=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(ES*s))||1,d=u/c;o=Math.min(s,l(d/ES))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(s,l(u/ES))}r.fontSize=`calc(${o}px * var(--scale-factor))`,r.color=re.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Zq extends gh{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const r=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),r.setValue(o.id,{[s]:i})}render(){var s,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),sh.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Uy,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=c.userValue=p,c.formattedValue=null});let d=f=>{const{formattedValue:p}=c;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var g;if(c.focused)return;const{target:m}=p;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(c.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(g){c.userValue=g.detail.value??"",e.setValue(t,{value:c.userValue.toString()}),g.target.value=c.userValue},formattedValue(g){const{formattedValue:w}=g.detail;c.formattedValue=w,w!=null&&g.target!==document.activeElement&&(g.target.value=w),e.setValue(t,{formattedValue:w})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var _;const{charLimit:w}=g.detail,{target:v}=g;if(w===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",w);let y=c.userValue;!y||y.length<=w||(y=y.slice(0,w),v.value=c.userValue=y,e.setValue(t,{value:y}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),i.addEventListener("keydown",p=>{var w;c.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:g}=p.target;c.lastCommittedValue!==g&&(c.lastCommittedValue=g,c.userValue=g,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var g,w;if(!c.focused||!p.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(c.focused=!1);const{value:m}=p.target;c.userValue=m,c.lastCommittedValue!==m&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",p=>{var E;c.lastCommittedValue=null;const{data:m,target:g}=p,{value:w,selectionStart:v,selectionEnd:y}=g;let _=v,A=y;switch(p.inputType){case"deleteWordBackward":{const C=w.substring(0,v).match(/\w*[^\w]*$/);C&&(_-=C[0].length);break}case"deleteWordForward":{const C=w.substring(v).match(/^[^\w]*\w*/);C&&(A+=C[0].length);break}case"deleteContentBackward":v===y&&(_-=1);break;case"deleteContentForward":v===y&&(A+=1);break}p.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:m||"",willCommit:!1,selStart:_,selEnd:A}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Yq extends gh{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Xq extends gh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return sh.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=Uy,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i)){const c=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(i,{value:l})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class M3 extends gh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const r=document.createElement("input");if(sh.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Uy,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;r.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=o===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=c&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Qq extends T3{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Jq extends gh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");sh.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Uy;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,i.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),r=!1),s.append(d)}let o=null;if(r){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),s.prepend(c),o=()=>{c.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const a=c=>{const d=c?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",c=>{const d={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const g of s.options)g.selected=m.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,m=f.detail.remove;p[m].selected=!1,s.remove(m),p.length>0&&Array.prototype.findIndex.call(p,w=>w.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:g}=f.detail.insert,w=s.children[p],v=document.createElement("option");v.textContent=m,v.value=g,w?w.before(v):s.append(v),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const m of p){const{displayValue:g,exportValue:w}=m,v=document.createElement("option");v.textContent=g,v.value=w,s.append(v)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,c)}),s.addEventListener("input",c=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):s.addEventListener("input",function(c){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class pE extends Dt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Dt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new eK({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${vR}${i}`).join(",")),this.container}}var sf,wb,_b,rf,cc,xt,Fo,of,gv,mv,af,$o,Zs,Bo,vv,zo,yv,hc,dc,Ze,Dw,gE,I3,L3,D3,O3,Ow,Nw,mE;class eK{constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:r,contentsObj:o,richText:a,parent:l,rect:u,parentRect:c,open:d}){x(this,Ze);x(this,sf,S(this,Ze,D3).bind(this));x(this,wb,S(this,Ze,mE).bind(this));x(this,_b,S(this,Ze,Nw).bind(this));x(this,rf,S(this,Ze,Ow).bind(this));x(this,cc,null);x(this,xt,null);x(this,Fo,null);x(this,of,null);x(this,gv,null);x(this,mv,null);x(this,af,null);x(this,$o,!1);x(this,Zs,null);x(this,Bo,null);x(this,vv,null);x(this,zo,null);x(this,yv,null);x(this,hc,null);x(this,dc,!1);var f;b(this,xt,e),b(this,yv,s),b(this,Fo,o),b(this,zo,a),b(this,mv,l),b(this,cc,t),b(this,vv,u),b(this,af,c),b(this,gv,i),b(this,of,RB.toDateObject(r)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",h(this,rf)),p.addEventListener("mouseenter",h(this,_b)),p.addEventListener("mouseleave",h(this,wb)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",h(this,sf));h(this,xt).hidden=!0,d&&S(this,Ze,Ow).call(this)}render(){if(h(this,Zs))return;const e=b(this,Zs,document.createElement("div"));if(e.className="popup",h(this,cc)){const r=e.style.outlineColor=re.makeHexColor(...h(this,cc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=re.makeHexColor(...h(this,cc).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=h(this,yv),e.append(t),h(this,of)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,of).valueOf()})),t.append(r)}const s=h(this,Ze,Dw);if(s)C3.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(h(this,Fo));e.append(r)}h(this,xt).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let r=0,o=s.length;r<o;++r){const a=s[r];i.append(document.createTextNode(a)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;h(this,hc)||b(this,hc,{contentsObj:h(this,Fo),richText:h(this,zo)}),e&&b(this,Bo,null),t&&(b(this,zo,S(this,Ze,L3).call(this,t)),b(this,Fo,null)),(i=h(this,Zs))==null||i.remove(),b(this,Zs,null)}resetEdited(){var e;h(this,hc)&&({contentsObj:An(this,Fo)._,richText:An(this,zo)._}=h(this,hc),b(this,hc,null),(e=h(this,Zs))==null||e.remove(),b(this,Zs,null),b(this,Bo,null))}forceHide(){b(this,dc,this.isVisible),h(this,dc)&&(h(this,xt).hidden=!0)}maybeShow(){h(this,dc)&&(h(this,Zs)||S(this,Ze,Nw).call(this),b(this,dc,!1),h(this,xt).hidden=!1)}get isVisible(){return h(this,xt).hidden===!1}}sf=new WeakMap,wb=new WeakMap,_b=new WeakMap,rf=new WeakMap,cc=new WeakMap,xt=new WeakMap,Fo=new WeakMap,of=new WeakMap,gv=new WeakMap,mv=new WeakMap,af=new WeakMap,$o=new WeakMap,Zs=new WeakMap,Bo=new WeakMap,vv=new WeakMap,zo=new WeakMap,yv=new WeakMap,hc=new WeakMap,dc=new WeakMap,Ze=new WeakSet,Dw=function(){const e=h(this,zo),t=h(this,Fo);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&h(this,zo).html||null},gE=function(){var e,t,i;return((i=(t=(e=h(this,Ze,Dw))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},I3=function(){var e,t,i;return((i=(t=(e=h(this,Ze,Dw))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},L3=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:h(this,Ze,I3),fontSize:h(this,Ze,gE)?`calc(${h(this,Ze,gE)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:s});return i},D3=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,$o))&&S(this,Ze,Ow).call(this)},O3=function(){if(h(this,Bo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:r}}}=h(this,mv);let o=!!h(this,af),a=o?h(this,af):h(this,vv);for(const m of h(this,gv))if(!a||re.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=re.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=o?a[2]-a[0]+5:0,d=l[0]+c,f=l[1];b(this,Bo,[100*(d-s)/t,100*(f-r)/i]);const{style:p}=h(this,xt);p.left=`${h(this,Bo)[0]}%`,p.top=`${h(this,Bo)[1]}%`},Ow=function(){b(this,$o,!h(this,$o)),h(this,$o)?(S(this,Ze,Nw).call(this),h(this,xt).addEventListener("click",h(this,rf)),h(this,xt).addEventListener("keydown",h(this,sf))):(S(this,Ze,mE).call(this),h(this,xt).removeEventListener("click",h(this,rf)),h(this,xt).removeEventListener("keydown",h(this,sf)))},Nw=function(){h(this,Zs)||this.render(),this.isVisible?h(this,$o)&&h(this,xt).classList.add("focused"):(S(this,Ze,O3).call(this),h(this,xt).hidden=!1,h(this,xt).style.zIndex=parseInt(h(this,xt).style.zIndex)+1e3)},mE=function(){h(this,xt).classList.remove("focused"),!(h(this,$o)||!this.isVisible)&&(h(this,xt).hidden=!0,h(this,xt).style.zIndex=parseInt(h(this,xt).style.zIndex)-1e3)};class N3 extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=_e.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var wv;class tK extends Dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,wv,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:s}=$l(t.rect),r=this.svgFactory.create(i,s,!0),o=b(this,wv,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}wv=new WeakMap;var _v;class nK extends Dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,_v,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:s}=$l(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,a=b(this,_v,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",s-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,_v)}addHighlightArea(){this.container.classList.add("highlightArea")}}_v=new WeakMap;var bv;class iK extends Dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,bv,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:s}=$l(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,a=b(this,bv,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",s/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",s/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,bv)}addHighlightArea(){this.container.classList.add("highlightArea")}}bv=new WeakMap;var Sv;class F3 extends Dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,Sv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:r}}=this;if(!i)return this.container;const{width:o,height:a}=$l(t),l=this.svgFactory.create(o,a,!0);let u=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-t[0],m=t[3]-i[d+1];u.push(`${p},${m}`)}u=u.join(" ");const c=b(this,Sv,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",s.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Sv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sv=new WeakMap;class sK extends F3{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rK extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Av,fc,xv,vE;class xR extends Dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,xv);x(this,Av,null);x(this,fc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?_e.HIGHLIGHT:_e.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:s,borderStyle:r,popupRef:o}}=this,{transform:a,width:l,height:u}=S(this,xv,vE).call(this,i,t),c=this.svgFactory.create(l,u,!0),d=b(this,Av,this.svgFactory.createElement("svg:g"));c.append(d),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let f=0,p=s.length;f<p;f++){const m=this.svgFactory.createElement(this.svgElementName);h(this,fc).push(m),m.setAttribute("points",s[f].join(",")),d.append(m)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:s,rect:r}=t,o=h(this,Av);if(i>=0&&o.setAttribute("stroke-width",i||1),s)for(let a=0,l=h(this,fc).length;a<l;a++)h(this,fc)[a].setAttribute("points",s[a].join(","));if(r){const{transform:a,width:l,height:u}=S(this,xv,vE).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return h(this,fc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Av=new WeakMap,fc=new WeakMap,xv=new WeakSet,vE=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class $3 extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=_e.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class oK extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class aK extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class lK extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class B3 extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=_e.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ev,Pv,yE;class uK extends Dt{constructor(t){var s;super(t,{isRenderable:!0});x(this,Pv);x(this,Ev,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",S(this,Pv,yE).bind(this)),b(this,Ev,s);const{isMac:r}=ti.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&S(this,Pv,yE).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return h(this,Ev)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ev=new WeakMap,Pv=new WeakSet,yE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Cv,pc,gc,Tv,uh,z3,wE,y2;let cK=(y2=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:o,structTreeLayer:a}){x(this,uh);x(this,Cv,null);x(this,pc,null);x(this,gc,new Map);x(this,Tv,null);this.div=e,b(this,Cv,t),b(this,pc,i),b(this,Tv,a||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return h(this,gc).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;ih(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new AR,annotationStorage:e.annotationStorage||new bR,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Ht.POPUP;if(l){const d=s.get(a.id);if(!d)continue;r.elements=d}else{const{width:d,height:f}=$l(a.rect);if(d<=0||f<=0)continue}r.data=a;const u=qq.create(r);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=s.get(a.popupRef);d?d.push(u):s.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),await S(this,uh,z3).call(this,c,a.id),u._isEditable&&(h(this,gc).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}S(this,uh,wE).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ih(t,{rotation:e.rotation}),S(this,uh,wE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(h(this,gc).values())}getEditableAnnotation(e){return h(this,gc).get(e)}},Cv=new WeakMap,pc=new WeakMap,gc=new WeakMap,Tv=new WeakMap,uh=new WeakSet,z3=async function(e,t){var o,a;const i=e.firstChild||e,s=i.id=`${vR}${t}`,r=await((o=h(this,Tv))==null?void 0:o.getAriaAttributes(s));if(r)for(const[l,u]of r)i.setAttribute(l,u);this.div.append(e),(a=h(this,Cv))==null||a.moveElementInDOM(this.div,e,i,!1)},wE=function(){if(!h(this,pc))return;const e=this.div;for(const[t,i]of h(this,pc)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:r}=s;r?r.nodeName==="CANVAS"?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):s.append(i)}h(this,pc).clear()},y2);const C0=/\r\n?|\n/g;var Ys,Li,kv,mc,Di,Ut,U3,V3,j3,Fw,ha,$w,Bw,H3,bE,W3;const Je=class Je extends yt{constructor(t){super({...t,name:"freeTextEditor"});x(this,Ut);x(this,Ys);x(this,Li,"");x(this,kv,`${this.id}-editor`);x(this,mc,null);x(this,Di);b(this,Ys,t.color||Je._defaultColor||yt._defaultLineColor),b(this,Di,t.fontSize||Je._defaultFontSize)}static get _keyboardManager(){const t=Je.prototype,i=o=>o.isEmpty(),s=wm.TRANSLATE_SMALL,r=wm.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new zy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(t,i){yt.initialize(t,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case De.FREETEXT_SIZE:Je._defaultFontSize=i;break;case De.FREETEXT_COLOR:Je._defaultColor=i;break}}updateParams(t,i){switch(t){case De.FREETEXT_SIZE:S(this,Ut,U3).call(this,i);break;case De.FREETEXT_COLOR:S(this,Ut,V3).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[De.FREETEXT_SIZE,Je._defaultFontSize],[De.FREETEXT_COLOR,Je._defaultColor||yt._defaultLineColor]]}get propertiesToUpdate(){return[[De.FREETEXT_SIZE,h(this,Di)],[De.FREETEXT_COLOR,h(this,Ys)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Je._internalPadding*t,-(Je._internalPadding+h(this,Di))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(_e.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,mc,new AbortController);const t=this._uiManager.combinedSignal(h(this,mc));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,kv)),this._isDraggable=!0,(t=h(this,mc))==null||t.abort(),b(this,mc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=h(this,Li),i=b(this,Li,S(this,Ut,j3).call(this).trimEnd());if(t===i)return;const s=r=>{if(b(this,Li,r),!r){this.remove();return}S(this,Ut,Bw).call(this),this._uiManager.rebuild(this),S(this,Ut,Fw).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),S(this,Ut,Fw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Je._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,kv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${h(this,Di)}px * var(--scale-factor))`,s.color=h(this,Ys),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),W_(this,this.div,["dblclick","keydown"]),this.width){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,g;switch(this.rotation){case 0:m=t+(a[0]-f)/c,g=i+this.height-(a[1]-p)/d;break;case 90:m=t+(a[0]-f)/c,g=i-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:m=t-this.width+(a[0]-f)/c,g=i-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:m=t+(a[0]-f-this.height*d)/c,g=i+(a[1]-p-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*r,g*o,l,u)}else this.setAt(t*r,i*o,this.width*r,this.height*o);S(this,Ut,Bw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,g,w;const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const r=S(m=Je,ha,bE).call(m,i.getData("text")||"").replaceAll(C0,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(C0,"")),v!==this.editorDiv){let y=c;for(const _ of this.editorDiv.childNodes){if(_===v){y=d;continue}y.push(S(g=Je,ha,$w).call(g,_))}}c.push(l.nodeValue.slice(0,u).replaceAll(C0,""))}else if(l===this.editorDiv){let v=c,y=0;for(const _ of this.editorDiv.childNodes)y++===u&&(v=d),v.push(S(w=Je,ha,$w).call(w,_))}b(this,Li,`${c.join(`
`)}${r}${d.join(`
`)}`),S(this,Ut,Bw).call(this);const f=new Range;let p=c.reduce((v,y)=>v+y.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const y=v.nodeValue.length;if(p<=y){f.setStart(v,p),f.setEnd(v,p);break}p-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,i,s){var a;let r=null;if(t instanceof N3){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:f,popupRef:p},textContent:m,textPosition:g,parent:{page:{pageNumber:w}}}=t;if(!m||m.length===0)return null;r=t={annotationType:_e.FREETEXT,color:Array.from(u),fontSize:l,value:m.join(`
`),position:g,pageIndex:w-1,rect:c.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(t,i,s);return b(o,Di,t.fontSize),b(o,Ys,re.makeHexColor(...t.color)),b(o,Li,S(a=Je,ha,bE).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=r,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Je._internalPadding*this.parentScale,s=this.getRect(i,i),r=yt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Ys)),o={annotationType:_e.FREETEXT,color:r,fontSize:h(this,Di),value:S(this,Ut,H3).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!S(this,Ut,W3).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${h(this,Di)}px * var(--scale-factor))`,s.color=h(this,Ys),i.replaceChildren();for(const o of h(this,Li).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const r=Je._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:h(this,Li)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ys=new WeakMap,Li=new WeakMap,kv=new WeakMap,mc=new WeakMap,Di=new WeakMap,Ut=new WeakSet,U3=function(t){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-h(this,Di))*this.parentScale),b(this,Di,r),S(this,Ut,Fw).call(this)},s=h(this,Di);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},V3=function(t){const i=r=>{b(this,Ys,this.editorDiv.style.color=r)},s=h(this,Ys);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},j3=function(){var s;const t=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(S(s=Je,ha,$w).call(s,r)),i=r);return t.join(`
`)},Fw=function(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()},ha=new WeakSet,$w=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(C0,"")},Bw=function(){if(this.editorDiv.replaceChildren(),!!h(this,Li))for(const t of h(this,Li).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},H3=function(){return h(this,Li).replaceAll(""," ")},bE=function(t){return t.replaceAll(" ","")},W3=function(t){const{value:i,fontSize:s,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((a,l)=>a!==r[l])||t.pageIndex!==o},x(Je,ha),ae(Je,"_freeTextDefaultContent",""),ae(Je,"_internalPadding",0),ae(Je,"_defaultColor",null),ae(Je,"_defaultFontSize",10),ae(Je,"_type","freetext"),ae(Je,"_editorType",_e.FREETEXT);let _E=Je;class te{toSVGPath(){Ke("Abstract method `toSVGPath` must be implemented.")}get box(){Ke("Abstract getter `box` must be implemented.")}serialize(e,t){Ke("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,s,r,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*s,o[a+1]=i+e[a+1]*r;return o}static _rescaleAndSwap(e,t,i,s,r,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*s,o[a+1]=i+e[a]*r;return o}static _translate(e,t,i,s){s||(s=new Float32Array(e.length));for(let r=0,o=e.length;r<o;r+=2)s[r]=t+e[r],s[r+1]=i+e[r+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,s,r){switch(r){case 90:return[1-t/i,e/s];case 180:return[1-e/i,1-t/s];case 270:return[t/i,1-e/s];default:return[e/i,t/s]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,s,r,o){return[(e+5*i)/6,(t+5*s)/6,(5*i+r)/6,(5*s+o)/6,(i+r)/2,(s+o)/2]}}ae(te,"PRECISION",1e-4);var Oi,Xs,lf,uf,zr,Ee,vc,yc,Rv,Mv,cf,hf,el,Iv,bb,Sb,Xt,fg,G3,q3,K3,Z3,Y3,X3;const Ao=class Ao{constructor({x:e,y:t},i,s,r,o,a=0){x(this,Xt);x(this,Oi);x(this,Xs,[]);x(this,lf);x(this,uf);x(this,zr,[]);x(this,Ee,new Float32Array(18));x(this,vc);x(this,yc);x(this,Rv);x(this,Mv);x(this,cf);x(this,hf);x(this,el,[]);b(this,Oi,i),b(this,hf,r*s),b(this,uf,o),h(this,Ee).set([NaN,NaN,NaN,NaN,e,t],6),b(this,lf,a),b(this,Mv,h(Ao,Iv)*s),b(this,Rv,h(Ao,Sb)*s),b(this,cf,s),h(this,el).push(e,t)}isEmpty(){return isNaN(h(this,Ee)[8])}add({x:e,y:t}){var P;b(this,vc,e),b(this,yc,t);const[i,s,r,o]=h(this,Oi);let[a,l,u,c]=h(this,Ee).subarray(8,12);const d=e-u,f=t-c,p=Math.hypot(d,f);if(p<h(this,Rv))return!1;const m=p-h(this,Mv),g=m/p,w=g*d,v=g*f;let y=a,_=l;a=u,l=c,u+=w,c+=v,(P=h(this,el))==null||P.push(e,t);const A=-v/m,E=w/m,C=A*h(this,hf),T=E*h(this,hf);return h(this,Ee).set(h(this,Ee).subarray(2,8),0),h(this,Ee).set([u+C,c+T],4),h(this,Ee).set(h(this,Ee).subarray(14,18),12),h(this,Ee).set([u-C,c-T],16),isNaN(h(this,Ee)[6])?(h(this,zr).length===0&&(h(this,Ee).set([a+C,l+T],2),h(this,zr).push(NaN,NaN,NaN,NaN,(a+C-i)/r,(l+T-s)/o),h(this,Ee).set([a-C,l-T],14),h(this,Xs).push(NaN,NaN,NaN,NaN,(a-C-i)/r,(l-T-s)/o)),h(this,Ee).set([y,_,a,l,u,c],6),!this.isEmpty()):(h(this,Ee).set([y,_,a,l,u,c],6),Math.abs(Math.atan2(_-l,y-a)-Math.atan2(v,w))<Math.PI/2?([a,l,u,c]=h(this,Ee).subarray(2,6),h(this,zr).push(NaN,NaN,NaN,NaN,((a+u)/2-i)/r,((l+c)/2-s)/o),[a,l,y,_]=h(this,Ee).subarray(14,18),h(this,Xs).push(NaN,NaN,NaN,NaN,((y+a)/2-i)/r,((_+l)/2-s)/o),!0):([y,_,a,l,u,c]=h(this,Ee).subarray(0,6),h(this,zr).push(((y+5*a)/6-i)/r,((_+5*l)/6-s)/o,((5*a+u)/6-i)/r,((5*l+c)/6-s)/o,((a+u)/2-i)/r,((l+c)/2-s)/o),[u,c,a,l,y,_]=h(this,Ee).subarray(12,18),h(this,Xs).push(((y+5*a)/6-i)/r,((_+5*l)/6-s)/o,((5*a+u)/6-i)/r,((5*l+c)/6-s)/o,((a+u)/2-i)/r,((l+c)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,zr),t=h(this,Xs);if(isNaN(h(this,Ee)[6])&&!this.isEmpty())return S(this,Xt,G3).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);S(this,Xt,K3).call(this,i);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return S(this,Xt,q3).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,s,r,o){return new Q3(e,t,i,s,r,o)}getOutlines(){var d;const e=h(this,zr),t=h(this,Xs),i=h(this,Ee),[s,r,o,a]=h(this,Oi),l=new Float32Array((((d=h(this,el))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(h(this,el)[f]-s)/o,l[f+1]=(h(this,el)[f+1]-r)/a;if(l[l.length-2]=(h(this,vc)-s)/o,l[l.length-1]=(h(this,yc)-r)/a,isNaN(i[6])&&!this.isEmpty())return S(this,Xt,Z3).call(this,l);const u=new Float32Array(h(this,zr).length+24+h(this,Xs).length);let c=e.length;for(let f=0;f<c;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}c=S(this,Xt,X3).call(this,u,c);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[c]=u[c+1]=NaN,c+=2;continue}u[c]=t[f+p],u[c+1]=t[f+p+1],c+=2}return S(this,Xt,Y3).call(this,u,c),this.newFreeDrawOutline(u,l,h(this,Oi),h(this,cf),h(this,lf),h(this,uf))}};Oi=new WeakMap,Xs=new WeakMap,lf=new WeakMap,uf=new WeakMap,zr=new WeakMap,Ee=new WeakMap,vc=new WeakMap,yc=new WeakMap,Rv=new WeakMap,Mv=new WeakMap,cf=new WeakMap,hf=new WeakMap,el=new WeakMap,Iv=new WeakMap,bb=new WeakMap,Sb=new WeakMap,Xt=new WeakSet,fg=function(){const e=h(this,Ee).subarray(4,6),t=h(this,Ee).subarray(16,18),[i,s,r,o]=h(this,Oi);return[(h(this,vc)+(e[0]-t[0])/2-i)/r,(h(this,yc)+(e[1]-t[1])/2-s)/o,(h(this,vc)+(t[0]-e[0])/2-i)/r,(h(this,yc)+(t[1]-e[1])/2-s)/o]},G3=function(){const[e,t,i,s]=h(this,Oi),[r,o,a,l]=S(this,Xt,fg).call(this);return`M${(h(this,Ee)[2]-e)/i} ${(h(this,Ee)[3]-t)/s} L${(h(this,Ee)[4]-e)/i} ${(h(this,Ee)[5]-t)/s} L${r} ${o} L${a} ${l} L${(h(this,Ee)[16]-e)/i} ${(h(this,Ee)[17]-t)/s} L${(h(this,Ee)[14]-e)/i} ${(h(this,Ee)[15]-t)/s} Z`},q3=function(e){const t=h(this,Xs);e.push(`L${t[4]} ${t[5]} Z`)},K3=function(e){const[t,i,s,r]=h(this,Oi),o=h(this,Ee).subarray(4,6),a=h(this,Ee).subarray(16,18),[l,u,c,d]=S(this,Xt,fg).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-i)/r} L${l} ${u} L${c} ${d} L${(a[0]-t)/s} ${(a[1]-i)/r}`)},Z3=function(e){const t=h(this,Ee),[i,s,r,o]=h(this,Oi),[a,l,u,c]=S(this,Xt,fg).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-i)/r,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-i)/r,(t[5]-s)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,(t[16]-i)/r,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-i)/r,(t[15]-s)/o],0),this.newFreeDrawOutline(d,e,h(this,Oi),h(this,cf),h(this,lf),h(this,uf))},Y3=function(e,t){const i=h(this,Xs);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},X3=function(e,t){const i=h(this,Ee).subarray(4,6),s=h(this,Ee).subarray(16,18),[r,o,a,l]=h(this,Oi),[u,c,d,f]=S(this,Xt,fg).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-o)/l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[0]-r)/a,(s[1]-o)/l],t),t+=24},x(Ao,Iv,8),x(Ao,bb,2),x(Ao,Sb,h(Ao,Iv)+h(Ao,bb));let q_=Ao;var df,wc,Uo,Lv,Ni,Dv,Rt,Ab,J3;class Q3 extends te{constructor(t,i,s,r,o,a){super();x(this,Ab);x(this,df);x(this,wc,new Float32Array(4));x(this,Uo);x(this,Lv);x(this,Ni);x(this,Dv);x(this,Rt);b(this,Rt,t),b(this,Ni,i),b(this,df,s),b(this,Dv,r),b(this,Uo,o),b(this,Lv,a),this.lastPoint=[NaN,NaN],S(this,Ab,J3).call(this,a);const[l,u,c,d]=h(this,wc);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/c,t[f+1]=(t[f+1]-u)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/c,i[f+1]=(i[f+1]-u)/d}toSVGPath(){const t=[`M${h(this,Rt)[4]} ${h(this,Rt)[5]}`];for(let i=6,s=h(this,Rt).length;i<s;i+=6){if(isNaN(h(this,Rt)[i])){t.push(`L${h(this,Rt)[i+4]} ${h(this,Rt)[i+5]}`);continue}t.push(`C${h(this,Rt)[i]} ${h(this,Rt)[i+1]} ${h(this,Rt)[i+2]} ${h(this,Rt)[i+3]} ${h(this,Rt)[i+4]} ${h(this,Rt)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,r],o){const a=s-t,l=r-i;let u,c;switch(o){case 0:u=te._rescale(h(this,Rt),t,r,a,-l),c=te._rescale(h(this,Ni),t,r,a,-l);break;case 90:u=te._rescaleAndSwap(h(this,Rt),t,i,a,l),c=te._rescaleAndSwap(h(this,Ni),t,i,a,l);break;case 180:u=te._rescale(h(this,Rt),s,i,-a,l),c=te._rescale(h(this,Ni),s,i,-a,l);break;case 270:u=te._rescaleAndSwap(h(this,Rt),s,r,-a,-l),c=te._rescaleAndSwap(h(this,Ni),s,r,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return h(this,wc)}newOutliner(t,i,s,r,o,a=0){return new q_(t,i,s,r,o,a)}getNewOutline(t,i){const[s,r,o,a]=h(this,wc),[l,u,c,d]=h(this,df),f=o*c,p=a*d,m=s*c+l,g=r*d+u,w=this.newOutliner({x:h(this,Ni)[0]*f+m,y:h(this,Ni)[1]*p+g},h(this,df),h(this,Dv),t,h(this,Lv),i??h(this,Uo));for(let v=2;v<h(this,Ni).length;v+=2)w.add({x:h(this,Ni)[v]*f+m,y:h(this,Ni)[v+1]*p+g});return w.getOutlines()}}df=new WeakMap,wc=new WeakMap,Uo=new WeakMap,Lv=new WeakMap,Ni=new WeakMap,Dv=new WeakMap,Rt=new WeakMap,Ab=new WeakSet,J3=function(t){const i=h(this,Rt);let s=i[4],r=i[5],o=s,a=r,l=s,u=r,c=s,d=r;const f=t?Math.max:Math.min;for(let m=6,g=i.length;m<g;m+=6){if(isNaN(i[m]))o=Math.min(o,i[m+4]),a=Math.min(a,i[m+5]),l=Math.max(l,i[m+4]),u=Math.max(u,i[m+5]),d<i[m+5]?(c=i[m+4],d=i[m+5]):d===i[m+5]&&(c=f(c,i[m+4]));else{const w=re.bezierBoundingBox(s,r,...i.slice(m,m+6));o=Math.min(o,w[0]),a=Math.min(a,w[1]),l=Math.max(l,w[2]),u=Math.max(u,w[3]),d<w[3]?(c=w[2],d=w[3]):d===w[3]&&(c=f(c,w[2]))}s=i[m+4],r=i[m+5]}const p=h(this,wc);p[0]=o-h(this,Uo),p[1]=a-h(this,Uo),p[2]=l-o+2*h(this,Uo),p[3]=u-a+2*h(this,Uo),this.lastPoint=[c,d]};var Ov,Nv,tl,Qs,si,ez,zw,tz,nz,AE;class SE{constructor(e,t=0,i=0,s=!0){x(this,si);x(this,Ov);x(this,Nv);x(this,tl,[]);x(this,Qs,[]);let r=1/0,o=-1/0,a=1/0,l=-1/0;const c=10**-4;for(const{x:v,y,width:_,height:A}of e){const E=Math.floor((v-t)/c)*c,C=Math.ceil((v+_+t)/c)*c,T=Math.floor((y-t)/c)*c,k=Math.ceil((y+A+t)/c)*c,P=[E,T,k,!0],M=[C,T,k,!1];h(this,tl).push(P,M),r=Math.min(r,E),o=Math.max(o,C),a=Math.min(a,T),l=Math.max(l,k)}const d=o-r+2*i,f=l-a+2*i,p=r-i,m=a-i,g=h(this,tl).at(s?-1:-2),w=[g[0],g[2]];for(const v of h(this,tl)){const[y,_,A]=v;v[0]=(y-p)/d,v[1]=(_-m)/f,v[2]=(A-m)/f}b(this,Ov,new Float32Array([p,m,d,f])),b(this,Nv,w)}getOutlines(){h(this,tl).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of h(this,tl))t[3]?(e.push(...S(this,si,AE).call(this,t)),S(this,si,tz).call(this,t)):(S(this,si,nz).call(this,t),e.push(...S(this,si,AE).call(this,t)));return S(this,si,ez).call(this,e)}}Ov=new WeakMap,Nv=new WeakMap,tl=new WeakMap,Qs=new WeakMap,si=new WeakSet,ez=function(e){const t=[],i=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const s=[];let r;for(;i.size>0;){const o=i.values().next().value;let[a,l,u,c,d]=o;i.delete(o);let f=a,p=l;for(r=[a,u],s.push(r);;){let m;if(i.has(c))m=c;else if(i.has(d))m=d;else break;i.delete(m),[a,l,u,c,d]=m,f!==a&&(r.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}r.push(f,p)}return new hK(s,h(this,Ov),h(this,Nv))},zw=function(e){const t=h(this,Qs);let i=0,s=t.length-1;for(;i<=s;){const r=i+s>>1,o=t[r][0];if(o===e)return r;o<e?i=r+1:s=r-1}return s+1},tz=function([,e,t]){const i=S(this,si,zw).call(this,e);h(this,Qs).splice(i,0,[e,t])},nz=function([,e,t]){const i=S(this,si,zw).call(this,e);for(let s=i;s<h(this,Qs).length;s++){const[r,o]=h(this,Qs)[s];if(r!==e)break;if(r===e&&o===t){h(this,Qs).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,o]=h(this,Qs)[s];if(r!==e)break;if(r===e&&o===t){h(this,Qs).splice(s,1);return}}},AE=function(e){const[t,i,s]=e,r=[[t,i,s]],o=S(this,si,zw).call(this,s);for(let a=0;a<o;a++){const[l,u]=h(this,Qs)[a];for(let c=0,d=r.length;c<d;c++){const[,f,p]=r[c];if(!(u<=f||p<=l)){if(f>=l){if(p>u)r[c][1]=u;else{if(d===1)return[];r.splice(c,1),c--,d--}continue}r[c][2]=l,p>u&&r.push([t,u,p])}}}return r};var Fv,ff;class hK extends te{constructor(t,i,s){super();x(this,Fv);x(this,ff);b(this,ff,t),b(this,Fv,i),this.lastPoint=s}toSVGPath(){const t=[];for(const i of h(this,ff)){let[s,r]=i;t.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===s?(t.push(`V${l}`),r=l):l===r&&(t.push(`H${a}`),s=a)}t.push("Z")}return t.join(" ")}serialize([t,i,s,r],o){const a=[],l=s-t,u=r-i;for(const c of h(this,ff)){const d=new Array(c.length);for(let f=0;f<c.length;f+=2)d[f]=t+c[f]*l,d[f+1]=r-c[f+1]*u;a.push(d)}return a}get box(){return h(this,Fv)}get classNamesForOutlining(){return["highlightOutline"]}}Fv=new WeakMap,ff=new WeakMap;class xE extends q_{newFreeDrawOutline(e,t,i,s,r,o){return new dK(e,t,i,s,r,o)}}class dK extends Q3{newOutliner(e,t,i,s,r,o=0){return new xE(e,t,i,s,r,o)}}var Js,_c,pf,Gt,$v,gf,Bv,zv,nl,er,mf,yn,Uv,qe,EE,PE,CE,pu,sz,ba;let iz=(yn=class{constructor({editor:e=null,uiManager:t=null}){x(this,qe);x(this,Js,null);x(this,_c,null);x(this,pf);x(this,Gt,null);x(this,$v,!1);x(this,gf,!1);x(this,Bv,null);x(this,zv);x(this,nl,null);x(this,er,null);x(this,mf);var i;e?(b(this,gf,!1),b(this,mf,De.HIGHLIGHT_COLOR),b(this,Bv,e)):(b(this,gf,!0),b(this,mf,De.HIGHLIGHT_DEFAULT_COLOR)),b(this,er,(e==null?void 0:e._uiManager)||t),b(this,zv,h(this,er)._eventBus),b(this,pf,(e==null?void 0:e.color)||((i=h(this,er))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(yn,Uv)||b(yn,Uv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ce(this,"_keyboardManager",new zy([[["Escape","mac+Escape"],yn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yn.prototype._moveToPrevious],[["Home","mac+Home"],yn.prototype._moveToBeginning],[["End","mac+End"],yn.prototype._moveToEnd]]))}renderButton(){const e=b(this,Js,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=h(this,er)._signal;e.addEventListener("click",S(this,qe,pu).bind(this),{signal:t}),e.addEventListener("keydown",S(this,qe,CE).bind(this),{signal:t});const i=b(this,_c,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=h(this,pf),e.append(i),e}renderMainDropdown(){const e=b(this,Gt,S(this,qe,EE).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===h(this,Js)){S(this,qe,pu).call(this,e);return}const t=e.target.getAttribute("data-color");t&&S(this,qe,PE).call(this,t,e)}_moveToNext(e){var t,i;if(!h(this,qe,ba)){S(this,qe,pu).call(this,e);return}if(e.target===h(this,Js)){(t=h(this,Gt).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=h(this,Gt))==null?void 0:t.firstChild)||e.target===h(this,Js)){h(this,qe,ba)&&this._hideDropdownFromKeyboard();return}h(this,qe,ba)||S(this,qe,pu).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!h(this,qe,ba)){S(this,qe,pu).call(this,e);return}(t=h(this,Gt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!h(this,qe,ba)){S(this,qe,pu).call(this,e);return}(t=h(this,Gt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=h(this,Gt))==null||e.classList.add("hidden"),(t=h(this,nl))==null||t.abort(),b(this,nl,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,gf)){if(!h(this,qe,ba)){(e=h(this,Bv))==null||e.unselect();return}this.hideDropdown(),h(this,Js).focus({preventScroll:!0,focusVisible:h(this,$v)})}}updateColor(e){if(h(this,_c)&&(h(this,_c).style.backgroundColor=e),!h(this,Gt))return;const t=h(this,er).highlightColors.values();for(const i of h(this,Gt).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=h(this,Js))==null||e.remove(),b(this,Js,null),b(this,_c,null),(t=h(this,Gt))==null||t.remove(),b(this,Gt,null)}},Js=new WeakMap,_c=new WeakMap,pf=new WeakMap,Gt=new WeakMap,$v=new WeakMap,gf=new WeakMap,Bv=new WeakMap,zv=new WeakMap,nl=new WeakMap,er=new WeakMap,mf=new WeakMap,Uv=new WeakMap,qe=new WeakSet,EE=function(){const e=document.createElement("div"),t=h(this,er)._signal;e.addEventListener("contextmenu",mr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of h(this,er).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",h(yn,Uv)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=s,r.setAttribute("aria-selected",s===h(this,pf)),r.addEventListener("click",S(this,qe,PE).bind(this,s),{signal:t}),e.append(r)}return e.addEventListener("keydown",S(this,qe,CE).bind(this),{signal:t}),e},PE=function(e,t){t.stopPropagation(),h(this,zv).dispatch("switchannotationeditorparams",{source:this,type:h(this,mf),value:e})},CE=function(e){yn._keyboardManager.exec(this,e)},pu=function(e){if(h(this,qe,ba)){this.hideDropdown();return}if(b(this,$v,e.detail===0),h(this,nl)||(b(this,nl,new AbortController),window.addEventListener("pointerdown",S(this,qe,sz).bind(this),{signal:h(this,er).combinedSignal(h(this,nl))})),h(this,Gt)){h(this,Gt).classList.remove("hidden");return}const t=b(this,Gt,S(this,qe,EE).call(this));h(this,Js).append(t)},sz=function(e){var t;(t=h(this,Gt))!=null&&t.contains(e.target)||this.hideDropdown()},ba=function(){return h(this,Gt)&&!h(this,Gt).classList.contains("hidden")},x(yn,Uv,null),yn);var vf,Vv,Vo,bc,yf,pi,jv,Hv,Sc,vs,Fi,fn,wf,jo,Rn,_f,ys,Wv,we,TE,Uw,rz,oz,az,kE,gu,Cs,Bh,lz,Vw,pg,uz,cz,hz,dz,fz;const Ue=class Ue extends yt{constructor(t){super({...t,name:"highlightEditor"});x(this,we);x(this,vf,null);x(this,Vv,0);x(this,Vo);x(this,bc,null);x(this,yf,null);x(this,pi,null);x(this,jv,null);x(this,Hv,0);x(this,Sc,null);x(this,vs,null);x(this,Fi,null);x(this,fn,!1);x(this,wf,null);x(this,jo);x(this,Rn,null);x(this,_f,"");x(this,ys);x(this,Wv,"");this.color=t.color||Ue._defaultColor,b(this,ys,t.thickness||Ue._defaultThickness),b(this,jo,t.opacity||Ue._defaultOpacity),b(this,Vo,t.boxes||null),b(this,Wv,t.methodOfCreation||""),b(this,_f,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,fn,!0),S(this,we,Uw).call(this,t),S(this,we,gu).call(this)):h(this,Vo)&&(b(this,vf,t.anchorNode),b(this,Vv,t.anchorOffset),b(this,jv,t.focusNode),b(this,Hv,t.focusOffset),S(this,we,TE).call(this),S(this,we,gu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ue.prototype;return Ce(this,"_keyboardManager",new zy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,fn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,ys),methodOfCreation:h(this,Wv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var s;yt.initialize(t,i),Ue._defaultColor||(Ue._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case De.HIGHLIGHT_DEFAULT_COLOR:Ue._defaultColor=i;break;case De.HIGHLIGHT_THICKNESS:Ue._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return h(this,wf)}updateParams(t,i){switch(t){case De.HIGHLIGHT_COLOR:S(this,we,rz).call(this,i);break;case De.HIGHLIGHT_THICKNESS:S(this,we,oz).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[De.HIGHLIGHT_DEFAULT_COLOR,Ue._defaultColor],[De.HIGHLIGHT_THICKNESS,Ue._defaultThickness]]}get propertiesToUpdate(){return[[De.HIGHLIGHT_COLOR,this.color||Ue._defaultColor],[De.HIGHLIGHT_THICKNESS,h(this,ys)||Ue._defaultThickness],[De.HIGHLIGHT_FREE,h(this,fn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,yf,new iz({editor:this})),t.addColorPicker(h(this,yf))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(S(this,we,pg).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,S(this,we,pg).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){S(this,we,kE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,we,gu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?S(this,we,kE).call(this):t&&(S(this,we,gu).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var r,o,a;const{drawLayer:i}=this.parent;let s;h(this,fn)?(t=(t-this.rotation+360)%360,s=S(r=Ue,Cs,Bh).call(r,h(this,vs).box,t)):s=S(o=Ue,Cs,Bh).call(o,[this.x,this.y,this.width,this.height],t),i.updateProperties(h(this,Fi),{bbox:s,root:{"data-main-rotation":t}}),i.updateProperties(h(this,Rn),{bbox:S(a=Ue,Cs,Bh).call(a,h(this,pi).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();h(this,_f)&&(t.setAttribute("aria-label",h(this,_f)),t.setAttribute("role","mark")),h(this,fn)?t.classList.add("free"):this.div.addEventListener("keydown",S(this,we,lz).bind(this),{signal:this._uiManager._signal});const i=b(this,Sc,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=h(this,bc);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),W_(this,h(this,Sc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(h(this,Rn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(h(this,Rn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:S(this,we,Vw).call(this,!0);break;case 1:case 3:S(this,we,Vw).call(this,!1);break}}select(){var t;super.select(),h(this,Rn)&&((t=this.parent)==null||t.drawLayer.updateProperties(h(this,Rn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),h(this,Rn)&&((t=this.parent)==null||t.drawLayer.updateProperties(h(this,Rn),{rootClass:{selected:!1}}),h(this,fn)||S(this,we,Vw).call(this,!1))}get _mustFixPosition(){return!h(this,fn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(h(this,Fi),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(h(this,Rn),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:s,x:r,y:o}){const{x:a,y:l,width:u,height:c}=s.getBoundingClientRect(),d=new AbortController,f=t.combinedSignal(d),p=m=>{d.abort(),S(this,Cs,dz).call(this,t,m)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",ar,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",mr,{signal:f}),s.addEventListener("pointermove",S(this,Cs,hz).bind(this,t),{signal:f}),this._freeHighlight=new xE({x:r,y:o},[a,l,u,c],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,s){var g,w,v,y;let r=null;if(t instanceof $3){const{data:{quadPoints:_,rect:A,rotation:E,id:C,color:T,opacity:k,popupRef:P},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:_e.HIGHLIGHT,color:Array.from(T),opacity:k,quadPoints:_,boxes:null,pageIndex:M-1,rect:A.slice(0),rotation:E,id:C,deleted:!1,popupRef:P}}else if(t instanceof xR){const{data:{inkLists:_,rect:A,rotation:E,id:C,color:T,borderStyle:{rawWidth:k},popupRef:P},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:_e.HIGHLIGHT,color:Array.from(T),thickness:k,inkLists:_,boxes:null,pageIndex:M-1,rect:A.slice(0),rotation:E,id:C,deleted:!1,popupRef:P}}const{color:o,quadPoints:a,inkLists:l,opacity:u}=t,c=await super.deserialize(t,i,s);c.color=re.makeHexColor(...o),b(c,jo,u||1),l&&b(c,ys,t.thickness),c.annotationElementId=t.id||null,c._initialData=r;const[d,f]=c.pageDimensions,[p,m]=c.pageTranslation;if(a){const _=b(c,Vo,[]);for(let A=0;A<a.length;A+=8)_.push({x:(a[A]-p)/d,y:1-(a[A+1]-m)/f,width:(a[A+2]-a[A])/d,height:(a[A+1]-a[A+5])/f});S(g=c,we,TE).call(g),S(w=c,we,gu).call(w),c.rotate(c.rotation)}else if(l){b(c,fn,!0);const _=l[0],A={x:_[0]-p,y:f-(_[1]-m)},E=new xE(A,[0,0,d,f],1,h(c,ys)/2,!0,.001);for(let k=0,P=_.length;k<P;k+=2)A.x=_[k]-p,A.y=f-(_[k+1]-m),E.add(A);const{id:C,clipPathId:T}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);S(v=c,we,Uw).call(v,{highlightOutlines:E.getOutlines(),highlightId:C,clipPathId:T}),S(y=c,we,gu).call(y)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=yt._colorManager.convert(this.color),r={annotationType:_e.HIGHLIGHT,color:s,opacity:h(this,jo),thickness:h(this,ys),quadPoints:S(this,we,uz).call(this),outlines:S(this,we,cz).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:S(this,we,pg).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!S(this,we,fz).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};vf=new WeakMap,Vv=new WeakMap,Vo=new WeakMap,bc=new WeakMap,yf=new WeakMap,pi=new WeakMap,jv=new WeakMap,Hv=new WeakMap,Sc=new WeakMap,vs=new WeakMap,Fi=new WeakMap,fn=new WeakMap,wf=new WeakMap,jo=new WeakMap,Rn=new WeakMap,_f=new WeakMap,ys=new WeakMap,Wv=new WeakMap,we=new WeakSet,TE=function(){const t=new SE(h(this,Vo),.001);b(this,vs,t.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,vs).box;const i=new SE(h(this,Vo),.0025,.001,this._uiManager.direction==="ltr");b(this,pi,i.getOutlines());const{lastPoint:s}=h(this,pi);b(this,wf,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Uw=function({highlightOutlines:t,highlightId:i,clipPathId:s}){var d,f;if(b(this,vs,t),b(this,pi,t.getNewOutline(h(this,ys)/2+1.5,.0025)),i>=0)b(this,Fi,i),b(this,bc,s),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),b(this,Rn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,pi).box,path:{d:h(this,pi).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,Fi),{bbox:S(d=Ue,Cs,Bh).call(d,h(this,vs).box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,Rn),{bbox:S(f=Ue,Cs,Bh).call(f,h(this,pi).box,p),path:{d:h(this,pi).toSVGPath()}})}const[o,a,l,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:c}=h(this,pi);b(this,wf,[(c[0]-o)/l,(c[1]-a)/u])},rz=function(t){const i=(o,a)=>{var l,u;this.color=o,b(this,jo,a),(l=this.parent)==null||l.drawLayer.updateProperties(h(this,Fi),{root:{fill:o,"fill-opacity":a}}),(u=h(this,yf))==null||u.updateColor(o)},s=this.color,r=h(this,jo);this.addCommands({cmd:i.bind(this,t,Ue._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},oz=function(t){const i=h(this,ys),s=r=>{b(this,ys,r),S(this,we,az).call(this,r)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},az=function(t){if(!h(this,fn))return;S(this,we,Uw).call(this,{highlightOutlines:h(this,vs).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},kE=function(){h(this,Fi)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Fi)),b(this,Fi,null),this.parent.drawLayer.remove(h(this,Rn)),b(this,Rn,null))},gu=function(t=this.parent){h(this,Fi)===null&&({id:An(this,Fi)._,clipPathId:An(this,bc)._}=t.drawLayer.draw({bbox:h(this,vs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":h(this,jo)},rootClass:{highlight:!0,free:h(this,fn)},path:{d:h(this,vs).toSVGPath()}},!1,!0),b(this,Rn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,fn)},bbox:h(this,pi).box,path:{d:h(this,pi).toSVGPath()}},h(this,fn))),h(this,Sc)&&(h(this,Sc).style.clipPath=h(this,bc)))},Cs=new WeakSet,Bh=function([t,i,s,r],o){switch(o){case 90:return[1-i-r,t,r,s];case 180:return[1-t-s,1-i-r,s,r];case 270:return[i,1-t-s,r,s]}return[t,i,s,r]},lz=function(t){Ue._keyboardManager.exec(this,t)},Vw=function(t){if(!h(this,vf))return;const i=window.getSelection();t?i.setPosition(h(this,vf),h(this,Vv)):i.setPosition(h(this,jv),h(this,Hv))},pg=function(){return h(this,fn)?this.rotation:0},uz=function(){if(h(this,fn))return null;const[t,i]=this.pageDimensions,[s,r]=this.pageTranslation,o=h(this,Vo),a=new Float32Array(o.length*8);let l=0;for(const{x:u,y:c,width:d,height:f}of o){const p=u*t+s,m=(1-c)*i+r;a[l]=a[l+4]=p,a[l+1]=a[l+3]=m,a[l+2]=a[l+6]=p+d*t,a[l+5]=a[l+7]=m-f*i,l+=8}return a},cz=function(t){return h(this,vs).serialize(t,S(this,we,pg).call(this))},hz=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},dz=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},fz=function(t){const{color:i}=this._initialData;return t.color.some((s,r)=>s!==i[r])},x(Ue,Cs),ae(Ue,"_defaultColor",null),ae(Ue,"_defaultOpacity",1),ae(Ue,"_defaultThickness",12),ae(Ue,"_type","highlight"),ae(Ue,"_editorType",_e.HIGHLIGHT),ae(Ue,"_freeHighlightId",-1),ae(Ue,"_freeHighlight",null),ae(Ue,"_freeHighlightClipId","");let K_=Ue;var Ac;class fK{constructor(){x(this,Ac,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))this.updateProperty(t,i)}updateSVGProperty(e,t){h(this,Ac)[e]=t}toSVGProperties(){const e=h(this,Ac);return b(this,Ac,Object.create(null)),{root:e}}reset(){b(this,Ac,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ke("Not implemented")}}Ac=new WeakMap;var $i,bf,Fe,ME,IE,LE,gg,pz,jw,mg,zh;const ds=class ds extends yt{constructor(t){super(t);x(this,Fe);x(this,$i,null);x(this,bf);ae(this,"_drawId",null);b(this,bf,t.mustBeCommitted||!1),t.drawOutlines&&(S(this,Fe,ME).call(this,t),S(this,Fe,gg).call(this))}static _mergeSVGProperties(t,i){const s=new Set(Object.keys(t));for(const[r,o]of Object.entries(i))s.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){Ke("Not implemented")}static get typesMap(){Ke("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(this._currentDraw.updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)t.push([s,i[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)t.push([s,i[r]]);return t}_updateProperty(t,i,s){const r=this._drawingOptions,o=r[i],a=l=>{var c;r.updateProperty(i,l);const u=h(this,$i).updateProperty(i,l);u&&S(this,Fe,mg).call(this,u),(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:a.bind(this,s),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ds._mergeSVGProperties(h(this,$i).getPathResizingSVGProperties(S(this,Fe,jw).call(this)),{bbox:S(this,Fe,zh).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ds._mergeSVGProperties(h(this,$i).getPathResizedSVGProperties(S(this,Fe,jw).call(this)),{bbox:S(this,Fe,zh).call(this)}))}_onTranslating(t,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:S(this,Fe,zh).call(this,t,i)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ds._mergeSVGProperties(h(this,$i).getPathTranslatedSVGProperties(S(this,Fe,jw).call(this),this.parentDimensions),{bbox:S(this,Fe,zh).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,bf)&&(b(this,bf,!1),this.commit(),this.parent.setSelected(this),this.isOnScreen&&this.div.focus())}remove(){S(this,Fe,LE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,Fe,gg).call(this),S(this,Fe,mg).call(this,h(this,$i).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),S(this,Fe,LE).call(this)):t&&(this._uiManager.addShouldRescale(this),S(this,Fe,gg).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ds._mergeSVGProperties({bbox:S(this,Fe,zh).call(this)},h(this,$i).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&S(this,Fe,mg).call(this,h(this,$i).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const i=document.createElement("div");t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,i,s,r,o){Ke("Not implemented")}static startDrawing(t,i,s,{target:r,offsetX:o,offsetY:a}){var p;const{viewport:{rotation:l}}=t,{width:u,height:c}=r.getBoundingClientRect(),d=new AbortController,f=t.combinedSignal(d);if(window.addEventListener("pointerup",m=>{d.abort(),t.toggleDrawing(!0),this._endDraw(m)},{signal:f}),window.addEventListener("pointerdown",ar,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",mr,{signal:f}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:f}),t.toggleDrawing(),(p=i._editorUndoBar)==null||p.hide(),this._currentDraw){t.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.startNew(o,a,u,c,l));return}i.updateUIForDefaultProperties(this),this._currentDraw=this.createDrawerInstance(o,a,u,c,l),this._currentDrawingOptions=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(this._currentDrawingOptions.toSVGProperties(),this._currentDraw.defaultSVGProperties),!0,!1)}static _drawMove({offsetX:t,offsetY:i}){this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.add(t,i))}static _endDraw({offsetX:t,offsetY:i}){const s=this._currentParent;if(s.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.end(t,i)),this.supportMultipleDrawings){const r=this._currentDraw,o=this._currentDrawId,a=r.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(o,r.setLastElement(a))},undo:()=>{s.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:De.DRAW_STEP});return}this.endDrawing(!1)}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(De.DRAW_STEP),!this._currentDraw.isEmpty()){const{pageDimensions:[s,r],scale:o}=i,a=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:this._currentDraw.getOutlines(s*o,r*o,o,this._INNER_MARGIN),drawingOptions:this._currentDrawingOptions,mustBeCommitted:!t});return this._cleanup(),a}return i.drawLayer.remove(this._currentDrawId),this._cleanup(),null}static _cleanup(){this._currentDrawId=-1,this._currentDraw=null,this._currentDrawingOptions=null,this._currentParent=null}createDrawingOptions(t){}static deserializeDraw(t,i,s,r,o,a){Ke("Not implemented")}static async deserialize(t,i,s){var d,f;const{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:l}}=i.viewport,u=this.deserializeDraw(a,l,r,o,this._INNER_MARGIN,t),c=await super.deserialize(t,i,s);return c.createDrawingOptions(t),S(d=c,Fe,ME).call(d,{drawOutlines:u}),S(f=c,Fe,gg).call(f),c.onScaleChanging(),c.rotate(),c}serializeDraw(t){const[i,s]=this.pageTranslation,[r,o]=this.pageDimensions;return h(this,$i).serialize([i,s,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};$i=new WeakMap,bf=new WeakMap,Fe=new WeakSet,ME=function({drawOutlines:t,drawId:i,drawingOptions:s}){b(this,$i,t),this._drawingOptions||(this._drawingOptions=s),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=S(this,Fe,IE).call(this,t,this.parent),S(this,Fe,mg).call(this,t.box)},IE=function(t,i){const{id:s}=i.drawLayer.draw(ds._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},LE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},gg=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=S(this,Fe,IE).call(this,h(this,$i),t)}},pz=function([t,i,s,r]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[i,1-t,s*(a/o),r*(o/a)];case 180:return[1-t,1-i,s,r];case 270:return[1-i,t,s*(a/o),r*(o/a)];default:return[t,i,s,r]}},jw=function(){const{x:t,y:i,width:s,height:r,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-i,t,s*(o/a),r*(a/o)];case 180:return[1-t,1-i,s,r];case 270:return[i,1-t,s*(o/a),r*(a/o)];default:return[t,i,s,r]}},mg=function(t){if([this.x,this.y,this.width,this.height]=S(this,Fe,pz).call(this,t),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},zh=function(){const{x:t,y:i,width:s,height:r,rotation:o,parentRotation:a,parentDimensions:[l,u]}=this;switch((o*4+a)/90){case 1:return[1-i-r,t,r,s];case 2:return[1-t-s,1-i-r,s,r];case 3:return[i,1-t-s,r,s];case 4:return[t,i-s*(l/u),r*(u/l),s*(l/u)];case 5:return[1-i,t,s*(l/u),r*(u/l)];case 6:return[1-t-r*(u/l),1-i,r*(u/l),s*(l/u)];case 7:return[i-s*(l/u),1-t-r*(u/l),s*(l/u),r*(u/l)];case 8:return[t-s,i-r,s,r];case 9:return[1-i,t-s,r,s];case 10:return[1-t,1-i,s,r];case 11:return[i-r,1-t,r,s];case 12:return[t-r*(u/l),i,r*(u/l),s*(l/u)];case 13:return[1-i-s*(l/u),t-r*(u/l),s*(l/u),r*(u/l)];case 14:return[1-t,1-i-s*(l/u),r*(u/l),s*(l/u)];case 15:return[i,1-t,s*(l/u),r*(u/l)];default:return[t,i,s,r]}},ae(ds,"_currentDrawId",-1),ae(ds,"_currentDraw",null),ae(ds,"_currentDrawingOptions",null),ae(ds,"_currentParent",null),ae(ds,"_INNER_MARGIN",3);let RE=ds;var Ur,tn,nn,xc,Sf,gi,pn,ws,Ec,Pc,Cc,Af,Hw;class pK{constructor(e,t,i,s,r,o){x(this,Af);x(this,Ur,new Float64Array(6));x(this,tn);x(this,nn);x(this,xc);x(this,Sf);x(this,gi);x(this,pn,"");x(this,ws,0);x(this,Ec,new Z_);x(this,Pc);x(this,Cc);b(this,Pc,i),b(this,Cc,s),b(this,xc,r),b(this,Sf,o),[e,t]=S(this,Af,Hw).call(this,e,t);const a=b(this,tn,[NaN,NaN,NaN,NaN,e,t]);b(this,gi,[e,t]),b(this,nn,[{line:a,points:h(this,gi)}]),h(this,Ur).set(a,0)}updateProperty(e,t){e==="stroke-width"&&b(this,Sf,t)}isEmpty(){return!h(this,nn)||h(this,nn).length===0}add(e,t){[e,t]=S(this,Af,Hw).call(this,e,t);const[i,s,r,o]=h(this,Ur).subarray(2,6),a=e-r,l=t-o;return Math.hypot(h(this,Pc)*a,h(this,Cc)*l)<=2?null:(h(this,gi).push(e,t),isNaN(i)?(h(this,Ur).set([r,o,e,t],2),h(this,tn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(h(this,Ur)[0])&&h(this,tn).splice(6,6),h(this,Ur).set([i,s,r,o,e,t],0),h(this,tn).push(...te.createBezierPoints(i,s,r,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(h(this,gi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,s,r){b(this,Pc,i),b(this,Cc,s),b(this,xc,r),[e,t]=S(this,Af,Hw).call(this,e,t);const o=b(this,tn,[NaN,NaN,NaN,NaN,e,t]);b(this,gi,[e,t]);const a=h(this,nn).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),h(this,nn).push({line:o,points:h(this,gi)}),h(this,Ur).set(o,0),b(this,ws,0),this.toSVGPath(),null}getLastElement(){return h(this,nn).at(-1)}setLastElement(e){return h(this,nn)?(h(this,nn).push(e),b(this,tn,e.line),b(this,gi,e.points),b(this,ws,0),{path:{d:this.toSVGPath()}}):h(this,Ec).setLastElement(e)}removeLastElement(){if(!h(this,nn))return h(this,Ec).removeLastElement();h(this,nn).pop(),b(this,pn,"");for(let e=0,t=h(this,nn).length;e<t;e++){const{line:i,points:s}=h(this,nn)[e];b(this,tn,i),b(this,gi,s),b(this,ws,0),this.toSVGPath()}return{path:{d:h(this,pn)}}}toSVGPath(){const e=te.svgRound(h(this,tn)[4]),t=te.svgRound(h(this,tn)[5]);if(h(this,gi).length===2)return b(this,pn,`${h(this,pn)} M ${e} ${t} Z`),h(this,pn);if(h(this,gi).length<=6){const s=h(this,pn).lastIndexOf("M");b(this,pn,`${h(this,pn).slice(0,s)} M ${e} ${t}`),b(this,ws,6)}if(h(this,gi).length===4){const s=te.svgRound(h(this,tn)[10]),r=te.svgRound(h(this,tn)[11]);return b(this,pn,`${h(this,pn)} L ${s} ${r}`),b(this,ws,12),h(this,pn)}const i=[];h(this,ws)===0&&(i.push(`M ${e} ${t}`),b(this,ws,6));for(let s=h(this,ws),r=h(this,tn).length;s<r;s+=6){const[o,a,l,u,c,d]=h(this,tn).slice(s,s+6).map(te.svgRound);i.push(`C${o} ${a} ${l} ${u} ${c} ${d}`)}return b(this,pn,h(this,pn)+i.join(" ")),b(this,ws,h(this,tn).length),h(this,pn)}getOutlines(e,t,i,s){const r=h(this,nn).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),h(this,Ec).build(h(this,nn),e,t,i,h(this,xc),h(this,Sf),s),b(this,Ur,null),b(this,tn,null),b(this,nn,null),b(this,pn,null),h(this,Ec)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ur=new WeakMap,tn=new WeakMap,nn=new WeakMap,xc=new WeakMap,Sf=new WeakMap,gi=new WeakMap,pn=new WeakMap,ws=new WeakMap,Ec=new WeakMap,Pc=new WeakMap,Cc=new WeakMap,Af=new WeakSet,Hw=function(e,t){return te._normalizePoint(e,t,h(this,Pc),h(this,Cc),h(this,xc))};var qn,Gv,qv,Bi,Vr,jr,xf,Ef,Pf,_n,yo,gz,mz,vz;const QR=class QR extends te{constructor(){super(...arguments);x(this,_n);x(this,qn);x(this,Gv,0);x(this,qv);x(this,Bi);x(this,Vr);x(this,jr);x(this,xf);x(this,Ef);x(this,Pf)}build(t,i,s,r,o,a,l){b(this,Vr,i),b(this,jr,s),b(this,xf,r),b(this,Ef,o),b(this,Pf,a),b(this,qv,l??0),b(this,Bi,t),S(this,_n,mz).call(this)}setLastElement(t){return h(this,Bi).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,Bi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of h(this,Bi)){if(t.push(`M${te.svgRound(i[4])} ${te.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12){t.push(`L${te.svgRound(i[10])} ${te.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[o,a,l,u,c,d]=i.subarray(s,s+6).map(te.svgRound);t.push(`C${o} ${a} ${l} ${u} ${c} ${d}`)}}return t.join("")}serialize([t,i,s,r],o){const a=[],l=[],[u,c,d,f]=S(this,_n,gz).call(this);let p,m,g,w,v,y,_,A,E;switch(h(this,Ef)){case 0:E=te._rescale,p=t,m=i+r,g=s,w=-r,v=t+u*s,y=i+(1-c-f)*r,_=t+(u+d)*s,A=i+(1-c)*r;break;case 90:E=te._rescaleAndSwap,p=t,m=i,g=s,w=r,v=t+c*s,y=i+u*r,_=t+(c+f)*s,A=i+(u+d)*r;break;case 180:E=te._rescale,p=t+s,m=i,g=-s,w=r,v=t+(1-u-d)*s,y=i+c*r,_=t+(1-u)*s,A=i+(c+f)*r;break;case 270:E=te._rescaleAndSwap,p=t+s,m=i+r,g=-s,w=-r,v=t+(1-c-f)*s,y=i+(1-u-d)*r,_=t+(1-c)*s,A=i+(1-u)*r;break}for(const{line:C,points:T}of h(this,Bi))a.push(E(C,p,m,g,w,o?new Array(C.length):null)),l.push(E(T,p,m,g,w,o?new Array(T.length):null));return{lines:a,points:l,rect:[v,y,_,A]}}static deserialize(t,i,s,r,o,{paths:{lines:a,points:l},rotation:u,thickness:c}){const d=[];let f,p,m,g,w;switch(u){case 0:w=te._rescale,f=-t/s,p=i/r+1,m=1/s,g=-1/r;break;case 90:w=te._rescaleAndSwap,f=-i/r,p=-t/s,m=1/r,g=1/s;break;case 180:w=te._rescale,f=t/s+1,p=-i/r,m=-1/s,g=1/r;break;case 270:w=te._rescaleAndSwap,f=i/r+1,p=t/s+1,m=-1/r,g=-1/s;break}if(!a){a=[];for(const y of l){const _=y.length;if(_===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1]]));continue}if(_===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1],NaN,NaN,NaN,NaN,y[2],y[3]]));continue}const A=new Float32Array(3*(_-2));a.push(A);let[E,C,T,k]=y.subarray(0,4);A.set([NaN,NaN,NaN,NaN,E,C],0);for(let P=4;P<_;P+=2){const M=y[P],D=y[P+1];A.set(te.createBezierPoints(E,C,T,k,M,D),(P-2)*3),[E,C,T,k]=[T,k,M,D]}}}for(let y=0,_=a.length;y<_;y++)d.push({line:w(a[y].map(A=>A??NaN),f,p,m,g),points:w(l[y].map(A=>A??NaN),f,p,m,g)});const v=new QR;return v.build(d,s,r,1,u,c,o),v}get box(){return h(this,qn)}updateProperty(t,i){return t==="stroke-width"?S(this,_n,vz).call(this,i):null}updateParentDimensions([t,i],s){const[r,o]=S(this,_n,yo).call(this);b(this,Vr,t),b(this,jr,i),b(this,xf,s);const[a,l]=S(this,_n,yo).call(this),u=a-r,c=l-o,d=h(this,qn);return d[0]-=u,d[1]-=c,d[2]+=2*u,d[3]+=2*c,d}updateRotation(t){return b(this,Gv,t),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,qn).map(te.svgRound).join(" ")}get defaultProperties(){const[t,i]=h(this,qn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=h(this,qn);let s=0,r=0,o=0,a=0,l=0,u=0;switch(h(this,Gv)){case 90:r=i/t,o=-t/i,l=t;break;case 180:s=-1,a=-1,l=t,u=i;break;case 270:r=-i/t,o=t/i,u=i;break;default:return""}return`matrix(${s} ${r} ${o} ${a} ${te.svgRound(l)} ${te.svgRound(u)})`}getPathResizingSVGProperties([t,i,s,r]){const[o,a]=S(this,_n,yo).call(this),[l,u,c,d]=h(this,qn);if(Math.abs(c-o)<=te.PRECISION||Math.abs(d-a)<=te.PRECISION){const w=t+s/2-(l+c/2),v=i+r/2-(u+d/2);return{path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(i)}`,transform:`${this.rotationTransform} translate(${w} ${v})`}}}const f=(s-2*o)/(c-2*o),p=(r-2*a)/(d-2*a),m=c/s,g=d/r;return{path:{"transform-origin":`${te.svgRound(l)} ${te.svgRound(u)}`,transform:`${this.rotationTransform} scale(${m} ${g}) translate(${te.svgRound(o)} ${te.svgRound(a)}) scale(${f} ${p}) translate(${te.svgRound(-o)} ${te.svgRound(-a)})`}}}getPathResizedSVGProperties([t,i,s,r]){const[o,a]=S(this,_n,yo).call(this),l=h(this,qn),[u,c,d,f]=l;if(l[0]=t,l[1]=i,l[2]=s,l[3]=r,Math.abs(d-o)<=te.PRECISION||Math.abs(f-a)<=te.PRECISION){const v=t+s/2-(u+d/2),y=i+r/2-(c+f/2);for(const{line:_,points:A}of h(this,Bi))te._translate(_,v,y,_),te._translate(A,v,y,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(s-2*o)/(d-2*o),m=(r-2*a)/(f-2*a),g=-p*(u+o)+t+o,w=-m*(c+a)+i+a;if(p!==1||m!==1||g!==0||w!==0)for(const{line:v,points:y}of h(this,Bi))te._rescale(v,g,w,p,m,v),te._rescale(y,g,w,p,m,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],s){const[r,o]=s,a=h(this,qn),l=t-a[0],u=i-a[1];if(h(this,Vr)===r&&h(this,jr)===o)for(const{line:c,points:d}of h(this,Bi))te._translate(c,l,u,c),te._translate(d,l,u,d);else{const c=h(this,Vr)/r,d=h(this,jr)/o;b(this,Vr,r),b(this,jr,o);for(const{line:f,points:p}of h(this,Bi))te._rescale(f,l,u,c,d,f),te._rescale(p,l,u,c,d,p);a[2]*=c,a[3]*=d}return a[0]=t,a[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${te.svgRound(t)} ${te.svgRound(i)}`}}}get defaultSVGProperties(){const t=h(this,qn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${te.svgRound(t[0])} ${te.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};qn=new WeakMap,Gv=new WeakMap,qv=new WeakMap,Bi=new WeakMap,Vr=new WeakMap,jr=new WeakMap,xf=new WeakMap,Ef=new WeakMap,Pf=new WeakMap,_n=new WeakSet,yo=function(t=h(this,Pf)){const i=h(this,qv)+t/2*h(this,xf);return h(this,Ef)%180===0?[i/h(this,Vr),i/h(this,jr)]:[i/h(this,jr),i/h(this,Vr)]},gz=function(){const[t,i,s,r]=h(this,qn),[o,a]=S(this,_n,yo).call(this,0);return[t+o,i+a,s-2*o,r-2*a]},mz=function(){const t=b(this,qn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of h(this,Bi)){if(r.length<=12){for(let l=4,u=r.length;l<u;l+=6){const[c,d]=r.subarray(l,l+2);t[0]=Math.min(t[0],c),t[1]=Math.min(t[1],d),t[2]=Math.max(t[2],c),t[3]=Math.max(t[3],d)}continue}let o=r[4],a=r[5];for(let l=6,u=r.length;l<u;l+=6){const[c,d,f,p,m,g]=r.subarray(l,l+6);re.bezierBoundingBox(o,a,c,d,f,p,m,g,t),o=m,a=g}}const[i,s]=S(this,_n,yo).call(this);t[0]=Math.min(1,Math.max(0,t[0]-i)),t[1]=Math.min(1,Math.max(0,t[1]-s)),t[2]=Math.min(1,Math.max(0,t[2]+i)),t[3]=Math.min(1,Math.max(0,t[3]+s)),t[2]-=t[0],t[3]-=t[1]},vz=function(t){const[i,s]=S(this,_n,yo).call(this);b(this,Pf,t);const[r,o]=S(this,_n,yo).call(this),[a,l]=[r-i,o-s],u=h(this,qn);return u[0]-=a,u[1]-=l,u[2]+=2*a,u[3]+=2*l,u};let Z_=QR;var Cf;const JR=class JR extends fK{constructor(t){super();x(this,Cf);b(this,Cf,t),super.updateProperties({fill:"none",stroke:yt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,i){t==="stroke-width"&&(i??(i=this["stroke-width"]),i*=h(this,Cf).realScale),super.updateSVGProperty(t,i)}clone(){const t=new JR(h(this,Cf));return t.updateAll(this),t}};Cf=new WeakMap;let DE=JR;var xb,yz;const cd=class cd extends RE{constructor(t){super({...t,name:"inkEditor"});x(this,xb);this._willKeepAspectRatio=!0}static initialize(t,i){yt.initialize(t,i),this._defaultDrawingOptions=new DE(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ce(this,"typesMap",new Map([[De.INK_THICKNESS,"stroke-width"],[De.INK_COLOR,"stroke"],[De.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,s,r,o){return new pK(t,i,s,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,s,r,o,a){return Z_.deserialize(t,i,s,r,o,a)}static async deserialize(t,i,s){let r=null;if(t instanceof xR){const{data:{inkLists:a,rect:l,rotation:u,id:c,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:m},parent:{page:{pageNumber:g}}}=t;r=t={annotationType:_e.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:u,id:c,deleted:!1,popupRef:m}}const o=await super.deserialize(t,i,s);return o.annotationElementId=t.id||null,o._initialData=r,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:s}){this._drawingOptions=cd.getDefaultDrawingOptions({stroke:re.makeHexColor(...t),"stroke-width":i,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,u={annotationType:_e.INK,color:yt._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!S(this,xb,yz).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:i,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i}),null}};xb=new WeakSet,yz=function(t){const{color:i,thickness:s,opacity:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==i[l])||t.thickness!==s||t.opacity!==r||t.pageIndex!==o},ae(cd,"_type","ink"),ae(cd,"_editorType",_e.INK),ae(cd,"_defaultDrawingOptions",null);let OE=cd;var gt,gn,il,Ho,sl,Tf,Hr,Wo,Wr,zi,kf,Me,vg,yg,Ww,FE,wz,Gw,$E,qw,_z,bz;const Kg=class Kg extends yt{constructor(t){super({...t,name:"stampEditor"});x(this,Me);x(this,gt,null);x(this,gn,null);x(this,il,null);x(this,Ho,null);x(this,sl,null);x(this,Tf,"");x(this,Hr,null);x(this,Wo,null);x(this,Wr,null);x(this,zi,!1);x(this,kf,!1);b(this,Ho,t.bitmapUrl),b(this,sl,t.bitmapFile)}static initialize(t,i){yt.initialize(t,i)}static get supportedTypes(){return Ce(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return Ce(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(_e.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:r,width:o,height:a,channels:r.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t,i;h(this,gn)&&(b(this,gt,null),this._uiManager.imageManager.deleteId(h(this,gn)),(t=h(this,Hr))==null||t.remove(),b(this,Hr,null),(i=h(this,Wo))==null||i.disconnect(),b(this,Wo,null),h(this,Wr)&&(clearTimeout(h(this,Wr)),b(this,Wr,null))),super.remove()}rebuild(){if(!this.parent){h(this,gn)&&S(this,Me,Ww).call(this);return}super.rebuild(),this.div!==null&&(h(this,gn)&&h(this,Hr)===null&&S(this,Me,Ww).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,il)||h(this,gt)||h(this,Ho)||h(this,sl)||h(this,gn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,gt)?S(this,Me,FE).call(this):S(this,Me,Ww).call(this),this.width&&!this.annotationElementId){const[s,r]=this.parentDimensions;this.setAt(t*s,i*r,this.width*s,this.height*r)}return this.div}copyCanvas(t,i,s=!1){var p;t||(t=224);const{width:r,height:o}=h(this,gt),a=new Lx;let l=h(this,gt),u=r,c=o,d=null;if(i){if(r>i||o>i){const k=Math.min(i/r,i/o);u=Math.floor(r*k),c=Math.floor(o*k)}d=document.createElement("canvas");const m=d.width=Math.ceil(u*a.sx),g=d.height=Math.ceil(c*a.sy);h(this,zi)||(l=S(this,Me,Gw).call(this,m,g));const w=d.getContext("2d");w.filter=this._uiManager.hcmFilter;let v="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(v="#8f8f9d",y="#42414d");const _=15,A=_*a.sx,E=_*a.sy,C=new OffscreenCanvas(A*2,E*2),T=C.getContext("2d");T.fillStyle=v,T.fillRect(0,0,A*2,E*2),T.fillStyle=y,T.fillRect(0,0,A,E),T.fillRect(A,E,A,E),w.fillStyle=w.createPattern(C,"repeat"),w.fillRect(0,0,m,g),w.drawImage(l,0,0,l.width,l.height,0,0,m,g)}let f=null;if(s){let m,g;if(a.symmetric&&l.width<t&&l.height<t)m=l.width,g=l.height;else if(l=h(this,gt),r>t||o>t){const y=Math.min(t/r,t/o);m=Math.floor(r*y),g=Math.floor(o*y),h(this,zi)||(l=S(this,Me,Gw).call(this,m,g))}const v=new OffscreenCanvas(m,g).getContext("2d",{willReadFrequently:!0});v.drawImage(l,0,0,l.width,l.height,0,0,m,g),f={width:m,height:g,data:v.getImageData(0,0,m,g).data}}return{canvas:d,width:u,height:c,imageData:f}}getImageForAltText(){return h(this,Hr)}static async deserialize(t,i,s){var g;let r=null;if(t instanceof B3){const{data:{rect:w,rotation:v,id:y,structParent:_,popupRef:A},container:E,parent:{page:{pageNumber:C}}}=t,T=E.querySelector("canvas"),k=s.imageManager.getFromCanvas(E.id,T);T.remove();const P=((g=await i._structTree.getAriaAttributes(`${vR}${y}`))==null?void 0:g.get("aria-label"))||"";r=t={annotationType:_e.STAMP,bitmapId:k.id,bitmap:k.bitmap,pageIndex:C-1,rect:w.slice(0),rotation:v,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:P},isSvg:!1,structParent:_,popupRef:A}}const o=await super.deserialize(t,i,s),{rect:a,bitmap:l,bitmapUrl:u,bitmapId:c,isSvg:d,accessibilityData:f}=t;c&&s.imageManager.isValidId(c)?(b(o,gn,c),l&&b(o,gt,l)):b(o,Ho,u),b(o,zi,d);const[p,m]=o.pageDimensions;return o.width=(a[2]-a[0])/p,o.height=(a[3]-a[1])/m,o.annotationElementId=t.id||null,f&&(o.altTextData=f),o._initialData=r,b(o,kf,!!r),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:_e.STAMP,bitmapId:h(this,gn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,zi),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=S(this,Me,qw).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=S(this,Me,bz).call(this,s);if(l.isSame)return null;l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const a=h(this,zi)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(h(this,gn)))i.stamps.set(h(this,gn),{area:a,serialized:s}),s.bitmap=S(this,Me,qw).call(this,!1);else if(h(this,zi)){const l=i.stamps.get(h(this,gn));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=S(this,Me,qw).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};gt=new WeakMap,gn=new WeakMap,il=new WeakMap,Ho=new WeakMap,sl=new WeakMap,Tf=new WeakMap,Hr=new WeakMap,Wo=new WeakMap,Wr=new WeakMap,zi=new WeakMap,kf=new WeakMap,Me=new WeakSet,vg=function(t,i=!1){if(!t){this.remove();return}b(this,gt,t.bitmap),i||(b(this,gn,t.id),b(this,zi,t.isSvg)),t.file&&b(this,Tf,t.file.name),S(this,Me,FE).call(this)},yg=function(){if(b(this,il,null),this._uiManager.enableWaiting(!1),!!h(this,Hr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,gt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,gt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ww=function(){if(h(this,gn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,gn)).then(s=>S(this,Me,vg).call(this,s,!0)).finally(()=>S(this,Me,yg).call(this));return}if(h(this,Ho)){const s=h(this,Ho);b(this,Ho,null),this._uiManager.enableWaiting(!0),b(this,il,this._uiManager.imageManager.getFromUrl(s).then(r=>S(this,Me,vg).call(this,r)).finally(()=>S(this,Me,yg).call(this)));return}if(h(this,sl)){const s=h(this,sl);b(this,sl,null),this._uiManager.enableWaiting(!0),b(this,il,this._uiManager.imageManager.getFromFile(s).then(r=>S(this,Me,vg).call(this,r)).finally(()=>S(this,Me,yg).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Kg.supportedTypesStr;const i=this._uiManager._signal;b(this,il,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),S(this,Me,vg).call(this,r)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>S(this,Me,yg).call(this))),t.click()},FE=function(){const{div:t}=this;let{width:i,height:s}=h(this,gt);const[r,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>a*r||s>a*o){const d=Math.min(a*r/i,a*o/s);i*=d,s*=d}const[l,u]=this.parentDimensions;this.setDims(i*l/r,s*u/o),this._uiManager.enableWaiting(!1);const c=b(this,Hr,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),S(this,Me,$E).call(this,i,s),S(this,Me,_z).call(this),h(this,kf)||(this.parent.addUndoableEditor(this),b(this,kf,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Tf)&&c.setAttribute("aria-label",h(this,Tf))},wz=function(t,i){var a;const[s,r]=this.parentDimensions;this.width=t/s,this.height=i/r,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,Wr)!==null&&clearTimeout(h(this,Wr)),b(this,Wr,setTimeout(()=>{b(this,Wr,null),S(this,Me,$E).call(this,t,i)},200))},Gw=function(t,i){const{width:s,height:r}=h(this,gt);let o=s,a=r,l=h(this,gt);for(;o>2*t||a>2*i;){const u=o,c=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,u,c,0,0,o,a),l=d.transferToImageBitmap()}return l},$E=function(t,i){const s=new Lx,r=Math.ceil(t*s.sx),o=Math.ceil(i*s.sy),a=h(this,Hr);if(!a||a.width===r&&a.height===o)return;a.width=r,a.height=o;const l=h(this,zi)?h(this,gt):S(this,Me,Gw).call(this,r,o),u=a.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(l,0,0,l.width,l.height,0,0,r,o)},qw=function(t){if(t){if(h(this,zi)){const r=this._uiManager.imageManager.getSvgUrl(h(this,gn));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=h(this,gt),i.getContext("2d").drawImage(h(this,gt),0,0),i.toDataURL()}if(h(this,zi)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*op.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*op.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(h(this,gt),0,0,h(this,gt).width,h(this,gt).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(h(this,gt))},_z=function(){this._uiManager._signal&&(b(this,Wo,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&S(this,Me,wz).call(this,i.width,i.height)})),h(this,Wo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=h(this,Wo))==null||t.disconnect(),b(this,Wo,null)},{once:!0}))},bz=function(t){var a;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=t.pageIndex===i,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},ae(Kg,"_type","stamp"),ae(Kg,"_editorType",_e.STAMP);let NE=Kg;var Tc,Rf,Gr,rl,Go,_s,ol,Mf,tr,Mn,qo,se,wi,al,ct,Sz,Ar,BE,zE,Kw;let gK=(wi=class{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:o,drawLayer:a,textLayer:l,viewport:u,l10n:c}){x(this,ct);x(this,Tc);x(this,Rf,!1);x(this,Gr,null);x(this,rl,null);x(this,Go,null);x(this,_s,new Map);x(this,ol,!1);x(this,Mf,!1);x(this,tr,null);x(this,Mn,null);x(this,qo,null);x(this,se);const d=[...h(wi,al).values()];if(!wi._initialized){wi._initialized=!0;for(const f of d)f.initialize(c,e)}e.registerEditorTypes(d),b(this,se,e),this.pageIndex=t,this.div=i,b(this,Tc,r),b(this,Gr,o),this.viewport=u,b(this,Mn,l),this.drawLayer=a,this._structTree=s,h(this,se).addLayer(this)}get isEmpty(){return h(this,_s).size===0}get isInvisible(){return this.isEmpty&&h(this,se).getMode()===_e.NONE}updateToolbar(e){h(this,se).updateToolbar(e)}updateMode(e=h(this,se).getMode()){switch(S(this,ct,Kw).call(this),e){case _e.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case _e.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case _e.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of h(wi,al).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=h(this,Mn))==null?void 0:t.div)}setEditingState(e){h(this,se).setEditingState(e)}addCommands(e){h(this,se).addCommands(e)}cleanUndoStack(e){h(this,se).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=h(this,Gr))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of h(this,_s).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,se).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!h(this,Gr))return;const t=h(this,Gr).getEditableAnnotations();for(const i of t){if(i.hide(),h(this,se).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;b(this,Mf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of h(this,_s).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(h(this,Gr)){const r=h(this,Gr).getEditableAnnotations();for(const o of r){const{id:a}=o.data;if(h(this,se).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(h(this,se).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}S(this,ct,Kw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of h(wi,al).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Mf,!1)}getEditableAnnotation(e){var t;return((t=h(this,Gr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,se).getActive()!==e&&h(this,se).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,Mn))!=null&&e.div&&!h(this,qo)){b(this,qo,new AbortController);const t=h(this,se).combinedSignal(h(this,qo));h(this,Mn).div.addEventListener("pointerdown",S(this,ct,Sz).bind(this),{signal:t}),h(this,Mn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,Mn))!=null&&e.div&&h(this,qo)&&(h(this,qo).abort(),b(this,qo,null),h(this,Mn).div.classList.remove("highlighting"))}enableClick(){if(h(this,rl))return;b(this,rl,new AbortController);const e=h(this,se).combinedSignal(h(this,rl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=h(this,rl))==null||e.abort(),b(this,rl,null)}attach(e){h(this,_s).set(e.id,e);const{annotationElementId:t}=e;t&&h(this,se).isDeletedAnnotationElement(t)&&h(this,se).removeDeletedAnnotationElement(e)}detach(e){var t;h(this,_s).delete(e.id),(t=h(this,Tc))==null||t.removePointerInTextLayer(e.contentDiv),!h(this,Mf)&&e.annotationElementId&&h(this,se).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,se).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,se).addDeletedAnnotationElement(e.annotationElementId),yt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,se).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),h(this,se).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!h(this,Go)&&(e._focusEventsAllowed=!1,b(this,Go,setTimeout(()=>{b(this,Go,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,se)._signal}),t.focus())},0))),e._structTreeParentId=(i=h(this,Tc))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return h(this,se).getId()}combinedSignal(e){return h(this,se).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,ct,Ar))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){h(this,se).updateToolbar(e),h(this,se).updateMode(e);const{offsetX:i,offsetY:s}=S(this,ct,zE).call(this),r=this.getNextId(),o=S(this,ct,BE).call(this,{parent:this,id:r,x:i,y:s,uiManager:h(this,se),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=h(wi,al).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,h(this,se)))||null}createAndAddNewEditor(e,t,i={}){const s=this.getNextId(),r=S(this,ct,BE).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:h(this,se),isCentered:t,...i});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(S(this,ct,zE).call(this),!0)}setSelected(e){h(this,se).setSelected(e)}toggleSelected(e){h(this,se).toggleSelected(e)}unselect(e){h(this,se).unselect(e)}pointerup(e){var i;const{isMac:t}=ti.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&h(this,ol)&&(b(this,ol,!1),!((i=h(this,ct,Ar))!=null&&i.isDrawer&&h(this,ct,Ar).supportMultipleDrawings))){if(!h(this,Rf)){b(this,Rf,!0);return}if(h(this,se).getMode()===_e.STAMP){h(this,se).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var s;if(h(this,se).getMode()===_e.HIGHLIGHT&&this.enableTextSelection(),h(this,ol)){b(this,ol,!1);return}const{isMac:t}=ti.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(b(this,ol,!0),(s=h(this,ct,Ar))!=null&&s.isDrawer){this.startDrawingSession(e);return}const i=h(this,se).getActive();b(this,Rf,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus(),h(this,tr)){h(this,ct,Ar).startDrawing(this,h(this,se),!1,e);return}h(this,se).setCurrentDrawingSession(this),b(this,tr,new AbortController);const t=h(this,se).combinedSignal(h(this,tr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&this.commitOrRemove()},{signal:t}),h(this,ct,Ar).startDrawing(this,h(this,se),!1,e)}endDrawingSession(e=!1){return h(this,tr)?(h(this,se).setCurrentDrawingSession(null),h(this,tr).abort(),b(this,tr,null),h(this,ct,Ar).endDrawing(e)):null}findNewParent(e,t,i){const s=h(this,se).findParent(t,i);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return h(this,tr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,tr)&&h(this,ct,Ar).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=h(this,se).getActive())==null?void 0:e.parent)===this&&(h(this,se).commitOrRemove(),h(this,se).setActiveEditor(null)),h(this,Go)&&(clearTimeout(h(this,Go)),b(this,Go,null));for(const i of h(this,_s).values())(t=h(this,Tc))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,h(this,_s).clear(),h(this,se).removeLayer(this)}render({viewport:e}){this.viewport=e,ih(this.div,e);for(const t of h(this,se).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){h(this,se).commitOrRemove(),S(this,ct,Kw).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,ih(this.div,{rotation:i}),t!==i)for(const s of h(this,_s).values())s.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return h(this,se).viewParameters.realScale}},Tc=new WeakMap,Rf=new WeakMap,Gr=new WeakMap,rl=new WeakMap,Go=new WeakMap,_s=new WeakMap,ol=new WeakMap,Mf=new WeakMap,tr=new WeakMap,Mn=new WeakMap,qo=new WeakMap,se=new WeakMap,al=new WeakMap,ct=new WeakSet,Sz=function(e){h(this,se).unselectAll();const{target:t}=e;if(t===h(this,Mn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&h(this,Mn).div.contains(t)){const{isMac:i}=ti.platform;if(e.button!==0||e.ctrlKey&&i)return;h(this,se).showAllEditors("highlight",!0,!0),h(this,Mn).div.classList.add("free"),this.toggleDrawing(),K_.startHighlighting(this,h(this,se).direction==="ltr",{target:h(this,Mn).div,x:e.x,y:e.y}),h(this,Mn).div.addEventListener("pointerup",()=>{h(this,Mn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,se)._signal}),e.preventDefault()}},Ar=function(){return h(wi,al).get(h(this,se).getMode())},BE=function(e){const t=h(this,ct,Ar);return t?new t.prototype.constructor(e):null},zE=function(){const{x:e,y:t,width:i,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+s),u=(r+a)/2-e,c=(o+l)/2-t,[d,f]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:f}},Kw=function(){for(const e of h(this,_s).values())e.isEmpty()&&e.remove()},ae(wi,"_initialized",!1),x(wi,al,new Map([_E,OE,NE,K_].map(e=>[e._editorType,e]))),wi);var nr,Kv,Kn,kc,Eb,Kt,Az,ao,UE,xz,VE;let mK=(Kt=class{constructor({pageIndex:e}){x(this,ao);x(this,nr,null);x(this,Kv,0);x(this,Kn,new Map);x(this,kc,new Map);this.pageIndex=e}setParent(e){if(!h(this,nr)){b(this,nr,e);return}if(h(this,nr)!==e){if(h(this,Kn).size>0)for(const t of h(this,Kn).values())t.remove(),e.append(t);b(this,nr,e)}}static get _svgFactory(){return Ce(this,"_svgFactory",new AR)}draw(e,t=!1,i=!1){const s=An(this,Kv)._++,r=S(this,ao,UE).call(this),o=Kt._svgFactory.createElement("defs");r.append(o);const a=Kt._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${s}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&h(this,kc).set(s,a);const u=i?S(this,ao,xz).call(this,o,l):null,c=Kt._svgFactory.createElement("use");return r.append(c),c.setAttribute("href",`#${l}`),this.updateProperties(r,e),h(this,Kn).set(s,r),{id:s,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=An(this,Kv)._++,s=S(this,ao,UE).call(this),r=Kt._svgFactory.createElement("defs");s.append(r);const o=Kt._svgFactory.createElement("path");r.append(o);const a=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const d=Kt._svgFactory.createElement("mask");r.append(d),l=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=Kt._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Kt._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Kt._svgFactory.createElement("use");s.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const c=u.cloneNode();return s.append(c),u.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(s,e),h(this,Kn).set(i,s),i}finalizeDraw(e,t){h(this,kc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:s,rootClass:r,path:o}=t,a=typeof e=="number"?h(this,Kn).get(e):e;if(a){if(i&&S(this,ao,VE).call(this,a,i),s&&S(l=Kt,Eb,Az).call(l,a,s),r){const{classList:u}=a;for(const[c,d]of Object.entries(r))u.toggle(c,d)}if(o){const c=a.firstChild.firstChild;S(this,ao,VE).call(this,c,o)}}}updateParent(e,t){if(t===this)return;const i=h(this,Kn).get(e);i&&(h(t,nr).append(i),h(this,Kn).delete(e),h(t,Kn).set(e,i))}remove(e){h(this,kc).delete(e),h(this,nr)!==null&&(h(this,Kn).get(e).remove(),h(this,Kn).delete(e))}destroy(){b(this,nr,null);for(const e of h(this,Kn).values())e.remove();h(this,Kn).clear(),h(this,kc).clear()}},nr=new WeakMap,Kv=new WeakMap,Kn=new WeakMap,kc=new WeakMap,Eb=new WeakSet,Az=function(e,[t,i,s,r]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*r}%`},ao=new WeakSet,UE=function(){const e=Kt._svgFactory.create(1,1,!0);return h(this,nr).append(e),e.setAttribute("aria-hidden",!0),e},xz=function(e,t){const i=Kt._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Kt._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),s},VE=function(e,t){for(const[i,s]of Object.entries(t))s===null?e.removeAttribute(i):e.setAttribute(i,s)},x(Kt,Eb),Kt);globalThis.pdfjsTestingUtils={HighlightOutliner:SE};me.AbortException;me.AnnotationEditorLayer;me.AnnotationEditorParamsType;me.AnnotationEditorType;me.AnnotationEditorUIManager;me.AnnotationLayer;me.AnnotationMode;me.ColorPicker;me.DOMSVGFactory;me.DrawLayer;me.FeatureTest;var lue=me.GlobalWorkerOptions;me.ImageKind;me.InvalidPDFException;me.MissingPDFException;me.OPS;me.OutputScale;me.PDFDataRangeTransport;me.PDFDateString;me.PDFWorker;me.PasswordResponses;me.PermissionFlag;me.PixelsPerInch;me.RenderingCancelledException;me.TextLayer;me.UnexpectedResponseException;me.Util;me.VerbosityLevel;me.XfaLayer;me.build;me.createValidAbsoluteUrl;me.fetchData;var uue=me.getDocument;me.getFilenameFromUrl;me.getPdfFilenameFromUrl;me.getXfaPageViewport;me.isDataScheme;me.isPdfFile;me.noContextMenu;me.normalizeUnicode;me.setLayerDimensions;me.shadow;me.stopEvent;var cue=me.version,Ug={};Ug.d=(n,e)=>{for(var t in e)Ug.o(e,t)&&!Ug.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Ug.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var St=globalThis.pdfjsViewer={};Ug.d(St,{AnnotationLayerBuilder:()=>Nz,DownloadManager:()=>hZ,EventBus:()=>Fz,FindState:()=>Sa,GenericL10n:()=>lp,LinkTarget:()=>mu,PDFFindController:()=>XK,PDFHistory:()=>lY,PDFLinkService:()=>Y_,PDFPageView:()=>iU,PDFScriptingManager:()=>_Y,PDFSinglePageViewer:()=>xY,PDFViewer:()=>lU,ProgressBar:()=>TK,RenderingStates:()=>Et,ScrollMode:()=>Oe,SimpleLinkService:()=>ER,SpreadMode:()=>Ln,StructTreeLayerBuilder:()=>Xz,TextLayerBuilder:()=>J_,XfaLayerBuilder:()=>nU,parseQueryString:()=>a1});const vK="auto",Ez=1,iD=1.1,yK=.1,wK=10,MS=0,_K=1.25,sD=40,rD=5,Et={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},_d={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},Xr={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Oe={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},Ln={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function Pz(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let s=n.offsetTop+n.clientTop,r=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(s+=i.offsetTop,r+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(e.top!==void 0&&(s+=e.top),e.left!==void 0&&(r+=e.left,i.scrollLeft=r)),i.scrollTop=s}function bK(n,e,t=void 0){const i=function(o){r||(r=window.requestAnimationFrame(function(){r=null;const l=n.scrollLeft,u=s.lastX;l!==u&&(s.right=l>u),s.lastX=l;const c=n.scrollTop,d=s.lastY;c!==d&&(s.down=c>d),s.lastY=c,e(s)}))},s={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let r=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(r),{once:!0}),s}function a1(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const oD=/[\x00-\x1F]/g;function Vg(n,e=!1){return oD.test(n)?e?n.replaceAll(oD,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function bm(n,e,t=0){let i=t,s=n.length-1;if(s<0||!e(n[s]))return n.length;if(e(n[i]))return i;for(;i<s;){const r=i+s>>1,o=n[r];e(o)?s=r:i=r+1}return i}function aD(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let s=0,r=1,o=1,a=1;for(;;){const u=s+o,c=r+a;if(c>t)break;i<=u/c?(o=u,a=c):(s=u,r=c)}let l;return i-s/r<o/a-i?l=i===n?[s,r]:[r,s]:l=i===n?[o,a]:[a,o],l}function T0(n,e){return n-n%e}function SK(n,e,t){if(n<2)return n;let i=e[n].div,s=i.offsetTop+i.clientTop;s>=t&&(i=e[n-1].div,s=i.offsetTop+i.clientTop);for(let r=n-2;r>=0&&(i=e[r].div,!(i.offsetTop+i.clientTop+i.clientHeight<=s));--r)n=r;return n}function AK({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:s=!1}){const r=n.scrollTop,o=r+n.clientHeight,a=n.scrollLeft,l=a+n.clientWidth;function u(y){const _=y.div;return _.offsetTop+_.clientTop+_.clientHeight>r}function c(y){const _=y.div,A=_.offsetLeft+_.clientLeft,E=A+_.clientWidth;return s?A<l:E>a}const d=[],f=new Set,p=e.length;let m=bm(e,i?c:u);m>0&&m<p&&!i&&(m=SK(m,e,r));let g=i?l:-1;for(let y=m;y<p;y++){const _=e[y],A=_.div,E=A.offsetLeft+A.clientLeft,C=A.offsetTop+A.clientTop,T=A.clientWidth,k=A.clientHeight,P=E+T,M=C+k;if(g===-1)M>=o&&(g=M);else if((i?E:C)>g)break;if(M<=r||C>=o||P<=a||E>=l)continue;const D=Math.max(0,r-C)+Math.max(0,M-o),H=Math.max(0,a-E)+Math.max(0,P-l),W=(k-D)/k,F=(T-H)/T,X=W*F*100|0;d.push({id:_.id,x:E,y:C,view:_,percent:X,widthPercent:F*100|0}),f.add(_.id)}const w=d[0],v=d.at(-1);return t&&d.sort(function(y,_){const A=y.percent-_.percent;return Math.abs(A)>.001?-A:y.id-_.id}),{first:w,last:v,views:d,ids:f}}function Cz(n){return Number.isInteger(n)&&n%90===0}function xK(n){return Number.isInteger(n)&&Object.values(Oe).includes(n)&&n!==Oe.UNKNOWN}function EK(n){return Number.isInteger(n)&&Object.values(Ln).includes(n)&&n!==Ln.UNKNOWN}function lD(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const PK=document.documentElement.style;function CK(n,e,t){return Math.min(Math.max(n,e),t)}var ll,Rc,ul,If,Mc;class TK{constructor(e){x(this,ll,null);x(this,Rc,null);x(this,ul,0);x(this,If,null);x(this,Mc,!0);b(this,ll,e.classList),b(this,If,e.style)}get percent(){return h(this,ul)}set percent(e){if(b(this,ul,CK(e,0,100)),isNaN(e)){h(this,ll).add("indeterminate");return}h(this,ll).remove("indeterminate"),h(this,If).setProperty("--progressBar-percent",`${h(this,ul)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&h(this,If).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){h(this,ul)===100||isNaN(h(this,ul))||(h(this,Rc)&&clearTimeout(h(this,Rc)),this.show(),b(this,Rc,setTimeout(()=>{b(this,Rc,null),this.hide()},e)))}hide(){h(this,Mc)&&(b(this,Mc,!1),h(this,ll).add("hidden"))}show(){h(this,Mc)||(b(this,Mc,!0),h(this,ll).remove("hidden"))}}ll=new WeakMap,Rc=new WeakMap,ul=new WeakMap,If=new WeakMap,Mc=new WeakMap;function kK(n){let e=Oe.VERTICAL,t=Ln.NONE;switch(n){case"SinglePage":e=Oe.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Oe.PAGE;case"TwoColumnLeft":t=Ln.ODD;break;case"TwoPageRight":e=Oe.PAGE;case"TwoColumnRight":t=Ln.EVEN;break}return{scrollMode:e,spreadMode:t}}const k0=function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e}(),$s={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function RK(n){return n<11904}function MK(n){return(n&65408)===0}function IK(n){return n>=97&&n<=122||n>=65&&n<=90}function LK(n){return n>=48&&n<=57}function DK(n){return n===32||n===9||n===13||n===10}function OK(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function NK(n){return n>=12448&&n<=12543}function FK(n){return n>=12352&&n<=12447}function $K(n){return n>=65376&&n<=65439}function BK(n){return(n&65408)===3584}function R0(n){return RK(n)?MK(n)?DK(n)?$s.SPACE:IK(n)||LK(n)||n===95?$s.ALPHA_LETTER:$s.PUNCT:BK(n)?$s.THAI_LETTER:n===160?$s.SPACE:$s.ALPHA_LETTER:OK(n)?$s.HAN_LETTER:NK(n)?$s.KATAKANA_LETTER:FK(n)?$s.HIRAGANA_LETTER:$K(n)?$s.HALFWIDTH_KATAKANA_LETTER:$s.ALPHA_LETTER}let uD;function zK(){return uD||(uD="---------------------------------------------------------------------------------------------------"),uD}const Sa={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},UK=250,VK=-50,jK=-400,cD={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},hD=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let dD;const HK=new RegExp("\\p{M}+","gu"),WK=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),GK=new RegExp("([^\\p{M}])\\p{M}*$","u"),qK=new RegExp("^\\p{M}*([^\\p{M}])","u"),KK=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,fD=new Map,ZK="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",pD=new Map;let IS=null,LS=null;function DS(n){const e=[];let t;for(;(t=KK.exec(n))!==null;){let{index:g}=t;for(const w of t[0]){let v=fD.get(w);v||(v=w.normalize("NFD").length,fD.set(w,v)),e.push([v,g++])}}let i;if(e.length===0&&IS)i=IS;else if(e.length>0&&LS)i=LS;else{const g=Object.keys(cD).join(""),w=zK(),A=`([${g}])|([${w}])|((?:|)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[-])\\n)|(\\n)`;e.length===0?i=IS=new RegExp(A+"|(\\u0000)","gum"):i=LS=new RegExp(A+`|(${ZK})`,"gum")}const s=[];for(;(t=HK.exec(n))!==null;)s.push([t[0].length,t.index]);let r=n.normalize("NFD");const o=[0,0];let a=0,l=0,u=0,c=0,d=0,f=!1;r=r.replace(i,(g,w,v,y,_,A,E,C,T,k,P)=>{var M,D,H;if(P-=c,w){const W=cD[w],F=W.length;for(let X=1;X<F;X++)o.push(P-u+X,u-X);return u-=F-1,W}if(v){let W=pD.get(v);W||(W=v.normalize("NFKC"),pD.set(v,W));const F=W.length;for(let X=1;X<F;X++)o.push(P-u+X,u-X);return u-=F-1,W}if(y)return f=!0,P+d===((M=s[a])==null?void 0:M[1])?++a:(o.push(P-1-u+1,u-1),u-=1,c+=1),o.push(P-u+1,u),c+=1,d+=1,y.charAt(0);if(_){const W=_.endsWith(`
`),F=W?_.length-2:_.length;f=!0;let X=F;P+d===((D=s[a])==null?void 0:D[1])&&(X-=s[a][0],++a);for(let Y=1;Y<=X;Y++)o.push(P-1-u+Y,u-Y);return u-=X,c+=X,W?(P+=F-1,o.push(P-u+1,1+u),u+=1,c+=1,d+=1,_.slice(0,F)):_}if(A)return c+=1,d+=1,A.replace(`
`,"");if(E){const W=E.length-2;return o.push(P-u+W,1+u),u+=1,c+=1,d+=1,E.slice(0,-2)}if(C){const W=C.length-1;return o.push(P-u+W,u),c+=1,d+=1,C.slice(0,-1)}if(T)return o.push(P-u+1,u-1),u-=1,c+=1,d+=1," ";if(P+d===((H=e[l])==null?void 0:H[1])){const W=e[l][0]-1;++l;for(let F=1;F<=W;F++)o.push(P-(u-F),u-F);u-=W,c+=W}return k}),o.push(r.length,u);const p=new Uint32Array(o.length>>1),m=new Int32Array(o.length>>1);for(let g=0,w=o.length;g<w;g+=2)p[g>>1]=o[g],m[g>>1]=o[g+1];return[r,[p,m],f]}function YK(n,e,t){if(!n)return[e,t];const[i,s]=n,r=e,o=e+t-1;let a=bm(i,f=>f>=r);i[a]>r&&--a;let l=bm(i,f=>f>=o,a);i[l]>o&&--l;const u=r+s[a],d=o+s[l]+1-u;return[u,d]}var sn,Lf,Ic,ie,Tz,jE,HE,kz,Rz,WE,Mz,Iz,Zw,wg,Uh,Lz,GE,qE,Yw,Dz,KE,ZE,_g;class XK{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){x(this,ie);x(this,sn,null);x(this,Lf,!0);x(this,Ic,0);this._linkService=e,this._eventBus=t,b(this,Lf,i),this.onIsPageVisible=null,S(this,ie,jE).call(this),t._on("find",S(this,ie,Tz).bind(this)),t._on("findbarclose",S(this,ie,Dz).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return h(this,sn)}setDocument(e){this._pdfDocument&&S(this,ie,jE).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:s=-1}){if(!this._scrollMatches||!e)return;if(s===-1||s!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1;const r={top:VK,left:t+jK};Pz(e,r,!0)}match(e,t,i){const s=this._hasDiacritics[i];let r=!1;if(typeof e=="string"?[r,e]=S(this,ie,WE).call(this,e,s):e=e.sort().reverse().map(d=>{const[f,p]=S(this,ie,WE).call(this,d,s);return r||(r=f),`(${p})`}).join("|"),!e)return;const{caseSensitive:o,entireWord:a}=h(this,sn),l=`g${r?"u":""}${o?"":"i"}`;e=new RegExp(e,l);const u=[];let c;for(;(c=e.exec(t))!==null;)a&&!S(this,ie,Rz).call(this,t,c.index,c[0].length)||u.push({index:c.index,length:c[0].length});return u}}sn=new WeakMap,Lf=new WeakMap,Ic=new WeakMap,ie=new WeakSet,Tz=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(h(this,sn)===null||S(this,ie,kz).call(this,e))&&(this._dirtyMatch=!0),b(this,sn,e),i!=="highlightallchange"&&S(this,ie,_g).call(this,Sa.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;S(this,ie,Iz).call(this);const s=!this._highlightMatches,r=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?S(this,ie,Uh).call(this):i==="again"?(S(this,ie,Uh).call(this),s&&h(this,sn).highlightAll&&S(this,ie,wg).call(this)):i==="highlightallchange"?(r?S(this,ie,Uh).call(this):this._highlightMatches=!0,S(this,ie,wg).call(this)):S(this,ie,Uh).call(this):this._findTimeout=setTimeout(()=>{S(this,ie,Uh).call(this),this._findTimeout=null},UK)})},jE=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],b(this,Ic,0),b(this,sn,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},HE=function(){const{query:e}=h(this,sn);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=DS(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>DS(t)[0])},kz=function(e){var o;const t=e.query,i=h(this,sn).query,s=typeof t;if(s!==typeof i)return!0;if(s==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const a=this._selected.pageIdx+1,l=this._linkService;return a>=1&&a<=l.pagesCount&&a!==l.page&&!(((o=this.onIsPageVisible)==null?void 0:o.call(this,a))??!0);case"highlightallchange":return!1}return!0},Rz=function(e,t,i){let s=e.slice(0,t).match(GK);if(s){const r=e.charCodeAt(t),o=s[1].charCodeAt(0);if(R0(r)===R0(o))return!1}if(s=e.slice(t+i).match(qK),s){const r=e.charCodeAt(t+i-1),o=s[1].charCodeAt(0);if(R0(r)===R0(o))return!1}return!0},WE=function(e,t){const{matchDiacritics:i}=h(this,sn);let s=!1;e=e.replaceAll(WK,(o,a,l,u,c,d)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:u?"[ ]+":i?c||d:c?hD.has(c.charCodeAt(0))?c:"":t?(s=!0,`${d}\\p{M}*`):d);const r="[ ]*";return e.endsWith(r)&&(e=e.slice(0,e.length-r.length)),i&&t&&(dD||(dD=String.fromCharCode(...hD)),s=!0,e=`${e}(?=[${dD}]|[^\\p{M}]|$)`),[s,e]},Mz=function(e){const t=h(this,ie,HE);if(t.length===0)return;const i=this._pageContents[e],s=this.match(t,i,e),r=this._pageMatches[e]=[],o=this._pageMatchesLength[e]=[],a=this._pageDiffs[e];s==null||s.forEach(({index:u,length:c})=>{const[d,f]=YK(a,u,c);f&&(r.push(d),o.push(f))}),h(this,sn).highlightAll&&S(this,ie,Zw).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,S(this,ie,GE).call(this));const l=r.length;this._matchesCountTotal+=l,h(this,Lf)?l>0&&S(this,ie,ZE).call(this):++An(this,Ic)._===this._linkService.pagesCount&&S(this,ie,ZE).call(this)},Iz=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0};for(let i=0,s=this._linkService.pagesCount;i<s;i++){const{promise:r,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=r,e=e.then(()=>this._pdfDocument.getPage(i+1).then(a=>a.getTextContent(t)).then(a=>{const l=[];for(const u of a.items)l.push(u.str),u.hasEOL&&l.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=DS(l.join("")),o()},a=>{console.error(`Unable to get text content for page ${i+1}`,a),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()}))}},Zw=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},wg=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Uh=function(){const e=h(this,sn).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,b(this,Ic,0),this._matchesCountTotal=0,S(this,ie,wg).call(this);for(let o=0;o<i;o++)this._pendingFindMatches.has(o)||(this._pendingFindMatches.add(o),this._extractTextPromises[o].then(()=>{this._pendingFindMatches.delete(o),S(this,ie,Mz).call(this,o)}))}if(h(this,ie,HE).length===0){S(this,ie,_g).call(this,Sa.FOUND);return}if(this._resumePageIdx)return;const r=this._offset;if(this._pagesToSearch=i,r.matchIdx!==null){const o=this._pageMatches[r.pageIdx].length;if(!e&&r.matchIdx+1<o||e&&r.matchIdx>0){r.matchIdx=e?r.matchIdx-1:r.matchIdx+1,S(this,ie,Yw).call(this,!0);return}S(this,ie,qE).call(this,e)}S(this,ie,GE).call(this)},Lz=function(e){const t=this._offset,i=e.length,s=h(this,sn).findPrevious;return i?(t.matchIdx=s?i-1:0,S(this,ie,Yw).call(this,!0),!0):(S(this,ie,qE).call(this,s),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(S(this,ie,Yw).call(this,!1),!0):!1)},GE=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!S(this,ie,Lz).call(this,e))},qE=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},Yw=function(e=!1){let t=Sa.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const s=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?Sa.WRAPPED:Sa.FOUND,s!==-1&&s!==this._selected.pageIdx&&S(this,ie,Zw).call(this,s)}S(this,ie,_g).call(this,t,h(this,sn).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,S(this,ie,Zw).call(this,this._selected.pageIdx))},Dz=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),S(this,ie,_g).call(this,Sa.FOUND),this._highlightMatches=!1,S(this,ie,wg).call(this))})},KE=function(){var r;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,s=this._matchesCountTotal;if(t!==-1){for(let o=0;o<e;o++)i+=((r=this._pageMatches[o])==null?void 0:r.length)||0;i+=t+1}return(i<1||i>s)&&(i=s=0),{current:i,total:s}},ZE=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:S(this,ie,KE).call(this)})},_g=function(e,t=!1){var i,s;!h(this,Lf)&&(h(this,Ic)!==this._linkService.pagesCount||e===Sa.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=h(this,sn))==null?void 0:i.entireWord)??null,matchesCount:S(this,ie,KE).call(this),rawQuery:((s=h(this,sn))==null?void 0:s.query)??null})};const QK="noopener noreferrer nofollow",mu={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};var Pb,Oz;const Cb=class Cb{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:s=!1}={}){ae(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=s,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,s;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[r]=i;if(r&&typeof r=="object"){if(s=this.pdfDocument.cachedPageNumber(r),!s)try{s=await this.pdfDocument.getPageIndex(r)+1}catch{console.error(`goToDestination: "${r}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(r)&&(s=r+1);if(!s||s<1||s>this.pagesCount){console.error(`goToDestination: "${s}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:s})),this.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const s=i?mu.BLANK:this.externalLinkTarget,r=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let o="";switch(s){case mu.NONE:break;case mu.SELF:o="_self";break;case mu.BLANK:o="_blank";break;case mu.PARENT:o="_parent";break;case mu.TOP:o="_top";break}e.target=o,e.rel=typeof r=="string"?r:QK}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){var s;if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=a1(e);if(r.has("search")){const o=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?o:o.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){const o=r.get("zoom").split(","),a=o[0],l=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},o.length>1?o[1]|0:null]:a==="FitR"?o.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},o[1]|0,o[2]|0,o[3]|0,o[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},o.length>1?o[1]|0:null,o.length>2?o[2]|0:null,l?l/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||S(s=Cb,Pb,Oz).call(s,i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}};Pb=new WeakSet,Oz=function(e){if(!Array.isArray(e)||e.length<2)return!1;const[t,i,...s]=e;if(!(typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&Number.isInteger(t==null?void 0:t.gen))&&!Number.isInteger(t)||!(typeof i=="object"&&typeof(i==null?void 0:i.name)=="string"))return!1;const r=s.length;let o=!0;switch(i.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return r===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(r!==4)return!1;o=!1;break;default:return!1}for(const a of s)if(!(typeof a=="number"||o&&a===null))return!1;return!0},x(Cb,Pb);let Y_=Cb;class ER extends Y_{setDocument(e,t=null){}}const{AbortException:JK,AnnotationEditorLayer:eZ,AnnotationEditorParamsType:hue,AnnotationEditorType:ki,AnnotationEditorUIManager:tZ,AnnotationLayer:nZ,AnnotationMode:Jo,build:due,ColorPicker:fue,createValidAbsoluteUrl:iZ,DOMSVGFactory:pue,DrawLayer:sZ,FeatureTest:gue,fetchData:gD,getDocument:mue,getFilenameFromUrl:vue,getPdfFilenameFromUrl:rZ,getXfaPageViewport:yue,GlobalWorkerOptions:wue,ImageKind:_ue,InvalidPDFException:bue,isDataScheme:Sue,isPdfFile:oZ,MissingPDFException:Aue,noContextMenu:xue,normalizeUnicode:aZ,OPS:Eue,OutputScale:lZ,PasswordResponses:Pue,PDFDataRangeTransport:Cue,PDFDateString:Tue,PDFWorker:kue,PermissionFlag:M0,PixelsPerInch:Eo,RenderingCancelledException:YE,setLayerDimensions:uZ,shadow:X_,stopEvent:XE,TextLayer:cZ,UnexpectedResponseException:Rue,Util:Mue,VerbosityLevel:Iue,version:mD,XfaLayer:OS}=globalThis.pdfjsLib;var Zv,cl,Yv,QE;class Nz{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:s=null,imageResourcesPath:r="",renderForms:o=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:u=null,annotationCanvasMap:c=null,accessibilityManager:d=null,annotationEditorUIManager:f=null,onAppend:p=null}){x(this,Yv);x(this,Zv,null);x(this,cl,null);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=r,this.renderForms=o,this.annotationStorage=s,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=u||Promise.resolve(null),this._annotationCanvasMap=c,this._accessibilityManager=d,this._annotationEditorUIManager=f,b(this,Zv,p),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render(e,t,i="display"){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[s,r,o]=await Promise.all([this.pdfPage.getAnnotations({intent:i}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const a=this.div=document.createElement("div");if(a.className="annotationLayer",(l=h(this,Zv))==null||l.call(this,a),s.length===0){this.hide();return}this.annotationLayer=new nZ({div:a,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:(t==null?void 0:t.structTreeLayer)||null}),await this.annotationLayer.render({annotations:s,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:r,fieldObjects:o}),this.linkService.isInPresentationMode&&S(this,Yv,QE).call(this,_d.FULLSCREEN),h(this,cl)||(b(this,cl,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",c=>{S(this,Yv,QE).call(this,c.state)},{signal:h(this,cl).signal}))}cancel(){var e;this._cancelled=!0,(e=h(this,cl))==null||e.abort(),b(this,cl,null)}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}}Zv=new WeakMap,cl=new WeakMap,Yv=new WeakSet,QE=function(e){if(!this.div)return;let t=!1;switch(e){case _d.FULLSCREEN:t=!0;break;case _d.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)};function vD(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var DT;class hZ{constructor(){x(this,DT,new WeakMap)}downloadData(e,t,i){const s=URL.createObjectURL(new Blob([e],{type:i}));vD(s,t)}openOrDownloadData(e,t,i=null){const r=oZ(t)?"application/pdf":"";return this.downloadData(e,t,r),!1}download(e,t,i){let s;if(e)s=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!iZ(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}s=t+"#pdfjs.action=download"}vD(s,i)}}DT=new WeakMap;const yD={EVENT:"event",TIMEOUT:"timeout"};async function dZ({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:s}=Promise.withResolvers(),r=new AbortController;function o(u){r.abort(),clearTimeout(l),s(u)}const a=n instanceof Fz?"_on":"addEventListener";n[a](e,o.bind(null,yD.EVENT),{signal:r.signal});const l=setTimeout(o.bind(null,yD.TIMEOUT),t);return i}var Df;class Fz{constructor(){x(this,Df,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=h(this,Df)[e];if(!i||i.length===0)return;let s;for(const{listener:r,external:o,once:a}of i.slice(0)){if(a&&this._off(e,r),o){(s||(s=[])).push(r);continue}r(t)}if(s){for(const r of s)r(t);s=null}}_on(e,t,i=null){var o;let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);s=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}((o=h(this,Df))[e]||(o[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:s})}_off(e,t,i=null){var r;const s=h(this,Df)[e];if(s)for(let o=0,a=s.length;o<a;o++){const l=s[o];if(l.listener===t){(r=l.rmAbort)==null||r.call(l),s.splice(o,1);return}}}}Df=new WeakMap;class l1{constructor(e){this.value=e}valueOf(){return this.value}}class zt extends l1{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class la extends l1{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class jg extends l1{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const wD=100,fZ="",pZ="";function gZ(n,e,t){if(t===e||t instanceof la&&e instanceof la&&t.value===e.value)return!0;if(e instanceof la&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function _D(n,e,t){return e[t]?ap(n,e[t].value):(n.reportError(new RangeError("No default")),new zt)}function JE(n,e){const t=[],i=Object.create(null);for(const s of e)s.type==="narg"?i[s.name]=Sm(n,s.value):t.push(Sm(n,s));return{positional:t,named:i}}function Sm(n,e){switch(e.type){case"str":return e.value;case"num":return new la(e.value,{minimumFractionDigits:e.precision});case"var":return mZ(n,e);case"mesg":return vZ(n,e);case"term":return yZ(n,e);case"func":return wZ(n,e);case"select":return _Z(n,e);default:return new zt}}function mZ(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new zt(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new zt(`$${e}`);if(t instanceof l1)return t;switch(typeof t){case"string":return t;case"number":return new la(t);case"object":if(t instanceof Date)return new jg(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new zt(`$${e}`)}}function vZ(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new zt(e);if(t){const s=i.attributes[t];return s?ap(n,s):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new zt(`${e}.${t}`))}return i.value?ap(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new zt(e))}function yZ(n,{name:e,attr:t,args:i}){const s=`-${e}`,r=n.bundle._terms.get(s);if(!r)return n.reportError(new ReferenceError(`Unknown term: ${s}`)),new zt(s);if(t){const a=r.attributes[t];if(a){n.params=JE(n,i).named;const l=ap(n,a);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new zt(`${s}.${t}`)}n.params=JE(n,i).named;const o=ap(n,r.value);return n.params=null,o}function wZ(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new zt(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new zt(`${e}()`);try{let s=JE(n,t);return i(s.positional,s.named)}catch(s){return n.reportError(s),new zt(`${e}()`)}}function _Z(n,{selector:e,variants:t,star:i}){let s=Sm(n,e);if(s instanceof zt)return _D(n,t,i);for(const r of t){const o=Sm(n,r.key);if(gZ(n,s,o))return ap(n,r.value)}return _D(n,t,i)}function $z(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new zt;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const s of e){if(typeof s=="string"){t.push(n.bundle._transform(s));continue}if(n.placeables++,n.placeables>wD)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${wD}`);i&&t.push(fZ),t.push(Sm(n,s).toString(n)),i&&t.push(pZ)}return n.dirty.delete(e),t.join("")}function ap(n,e){return typeof e=="string"?n.bundle._transform(e):$z(n,e)}class bZ{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let s=JSON.stringify(t);return i[s]||(i[s]=new e(this.bundle.locales,t)),i[s]}}function Q_(n,e){const t=Object.create(null);for(const[i,s]of Object.entries(n))e.includes(i)&&(t[i]=s.valueOf());return t}const bD=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function SZ(n,e){let t=n[0];if(t instanceof zt)return new zt(`NUMBER(${t.valueOf()})`);if(t instanceof la)return new la(t.valueOf(),{...t.opts,...Q_(e,bD)});if(t instanceof jg)return new la(t.valueOf(),{...Q_(e,bD)});throw new TypeError("Invalid argument to NUMBER")}const SD=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function AZ(n,e){let t=n[0];if(t instanceof zt)return new zt(`DATETIME(${t.valueOf()})`);if(t instanceof jg)return new jg(t.valueOf(),{...t.opts,...Q_(e,SD)});if(t instanceof la)return new jg(t.valueOf(),{...Q_(e,SD)});throw new TypeError("Invalid argument to DATETIME")}const AD=new Map;function xZ(n){const e=Array.isArray(n)?n.join(" "):n;let t=AD.get(e);return t===void 0&&(t=new Map,AD.set(e,t)),t}class EZ{constructor(e,{functions:t,useIsolating:i=!0,transform:s=r=>r}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:SZ,DATETIME:AZ,...t},this._useIsolating=i,this._transform=s,this._intls=xZ(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let s=0;s<e.body.length;s++){let r=e.body[s];if(r.id.startsWith("-")){if(t===!1&&this._terms.has(r.id)){i.push(new Error(`Attempt to override an existing term: "${r.id}"`));continue}this._terms.set(r.id,r)}else{if(t===!1&&this._messages.has(r.id)){i.push(new Error(`Attempt to override an existing message: "${r.id}"`));continue}this._messages.set(r.id,r)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let s=new bZ(this,i,t);try{return $z(s,e).toString(s)}catch(r){if(s.errors&&r instanceof Error)return s.errors.push(r),new zt().toString(s);throw r}}}const NS=/^(-?[a-zA-Z][\w-]*) *= */gm,xD=/\.([a-zA-Z][\w-]*) *= */y,PZ=/\*?\[/y,FS=/(-?[0-9]+(?:\.([0-9]+))?)/y,CZ=/([a-zA-Z][\w-]*)/y,ED=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,TZ=/^[A-Z][A-Z0-9_-]*$/,I0=/([^{}\n\r]+)/y,kZ=/([^\\"\n\r]*)/y,PD=/\\([\\"])/y,CD=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,RZ=/^\n+/,TD=/ +$/,MZ=/ *\r?\n/g,IZ=/( *)$/,LZ=/{\s*/y,kD=/\s*}/y,DZ=/\[\s*/y,OZ=/\s*] */y,NZ=/\s*\(\s*/y,FZ=/\s*->\s*/y,$Z=/\s*:\s*/y,BZ=/\s*,?\s*/y,zZ=/\s+/y;class UZ{constructor(e){this.body=[],NS.lastIndex=0;let t=0;for(;;){let P=NS.exec(e);if(P===null)break;t=NS.lastIndex;try{this.body.push(l(P[1]))}catch(M){if(M instanceof SyntaxError)continue;throw M}}function i(P){return P.lastIndex=t,P.test(e)}function s(P,M){if(e[t]===P)return t++,!0;if(M)throw new M(`Expected ${P}`);return!1}function r(P,M){if(i(P))return t=P.lastIndex,!0;if(M)throw new M(`Expected ${P.toString()}`);return!1}function o(P){P.lastIndex=t;let M=P.exec(e);if(M===null)throw new SyntaxError(`Expected ${P.toString()}`);return t=P.lastIndex,M}function a(P){return o(P)[1]}function l(P){let M=c(),D=u();if(M===null&&Object.keys(D).length===0)throw new SyntaxError("Expected message value or attributes");return{id:P,value:M,attributes:D}}function u(){let P=Object.create(null);for(;i(xD);){let M=a(xD),D=c();if(D===null)throw new SyntaxError("Expected attribute value");P[M]=D}return P}function c(){let P;if(i(I0)&&(P=a(I0)),e[t]==="{"||e[t]==="}")return d(P?[P]:[],1/0);let M=C();return M?P?d([P,M],M.length):(M.value=T(M.value,RZ),d([M],M.length)):P?T(P,TD):null}function d(P=[],M){for(;;){if(i(I0)){P.push(a(I0));continue}if(e[t]==="{"){P.push(f());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let F=C();if(F){P.push(F),M=Math.min(M,F.length);continue}break}let D=P.length-1,H=P[D];typeof H=="string"&&(P[D]=T(H,TD));let W=[];for(let F of P)F instanceof RD&&(F=F.value.slice(0,F.value.length-M)),F&&W.push(F);return W}function f(){r(LZ,SyntaxError);let P=p();if(r(kD))return P;if(r(FZ)){let M=w();return r(kD,SyntaxError),{type:"select",selector:P,...M}}throw new SyntaxError("Unclosed placeable")}function p(){if(e[t]==="{")return f();if(i(ED)){let[,P,M,D=null]=o(ED);if(P==="$")return{type:"var",name:M};if(r(NZ)){let H=m();if(P==="-")return{type:"term",name:M,attr:D,args:H};if(TZ.test(M))return{type:"func",name:M,args:H};throw new SyntaxError("Function names must be all upper-case")}return P==="-"?{type:"term",name:M,attr:D,args:[]}:{type:"mesg",name:M,attr:D}}return y()}function m(){let P=[];for(;;){switch(e[t]){case")":return t++,P;case void 0:throw new SyntaxError("Unclosed argument list")}P.push(g()),r(BZ)}}function g(){let P=p();return P.type!=="mesg"?P:r($Z)?{type:"narg",name:P.name,value:y()}:P}function w(){let P=[],M=0,D;for(;i(PZ);){s("*")&&(D=M);let H=v(),W=c();if(W===null)throw new SyntaxError("Expected variant value");P[M++]={key:H,value:W}}if(M===0)return null;if(D===void 0)throw new SyntaxError("Expected default variant");return{variants:P,star:D}}function v(){r(DZ,SyntaxError);let P;return i(FS)?P=_():P={type:"str",value:a(CZ)},r(OZ,SyntaxError),P}function y(){if(i(FS))return _();if(e[t]==='"')return A();throw new SyntaxError("Invalid expression")}function _(){let[,P,M=""]=o(FS),D=M.length;return{type:"num",value:parseFloat(P),precision:D}}function A(){s('"',SyntaxError);let P="";for(;;){if(P+=a(kZ),e[t]==="\\"){P+=E();continue}if(s('"'))return{type:"str",value:P};throw new SyntaxError("Unclosed string literal")}}function E(){if(i(PD))return a(PD);if(i(CD)){let[,P,M]=o(CD),D=parseInt(P||M,16);return D<=55295||57344<=D?String.fromCodePoint(D):""}throw new SyntaxError("Unknown escape sequence")}function C(){let P=t;switch(r(zZ),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return k(e.slice(P,t))}return e[t-1]===" "?k(e.slice(P,t)):!1}function T(P,M){return P.replace(M,"")}function k(P){let M=P.replace(MZ,`
`),D=IZ.exec(P)[1].length;return new RD(M,D)}}}class RD{constructor(e,t){this.value=e,this.length=t}}const VZ=/<|&#?\w+;/,jZ={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},HZ={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function WZ(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!VZ.test(t))n.textContent=t;else{const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,GZ(i.content,n)}Bz(e,n)}function GZ(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=KZ(e,t);n.replaceChild(i,t);continue}if(YZ(t)){const i=ZZ(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(eP(t),t)}e.textContent="",e.appendChild(n)}function qZ(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function Bz(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))MD(i.name,e,t)&&!qZ(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))MD(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function KZ(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),eP(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),eP(e);n.removeChild(i);const s=i.cloneNode(!1);return zz(e,s)}function ZZ(n){const e=n.ownerDocument.createElement(n.localName);return zz(n,e)}function eP(n){return n.ownerDocument.createTextNode(n.textContent)}function YZ(n){const e=jZ[n.namespaceURI];return e&&e.includes(n.localName)}function MD(n,e,t=null){if(t&&t.includes(n))return!0;const i=HZ[e.namespaceURI];if(!i)return!1;const s=n.toLowerCase(),r=e.localName;if(i.global.includes(s))return!0;if(!i[r])return!1;if(i[r].includes(s))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&r==="input"&&s==="value"){const o=e.type.toLowerCase();if(o==="submit"||o==="button"||o==="reset")return!0}return!1}function zz(n,e){return e.textContent=n.textContent,Bz(n,e),e}class XZ extends Array{static from(e){return e instanceof this?e:new this(e)}}class QZ extends XZ{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class JZ{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let s=!1;for await(const r of this.bundles){s=!0;const o=nY(t,r,e,i);if(o.size===0)break;if(typeof console<"u"){const a=r.locales[0],l=Array.from(o).join(", ");console.warn(`[fluent] Missing translations in ${a}: ${l}`)}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,tY)}formatValues(e){return this.formatWithFallback(e,eY)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=QZ.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function eY(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function tY(n,e,t,i){const s={value:null,attributes:null};t.value&&(s.value=n.formatPattern(t.value,i,e));let r=Object.keys(t.attributes);if(r.length>0){s.attributes=new Array(r.length);for(let[o,a]of r.entries()){let l=n.formatPattern(t.attributes[a],i,e);s.attributes[o]={name:a,value:l}}}return s}function nY(n,e,t,i){const s=[],r=new Set;return t.forEach(({id:o,args:a},l)=>{if(i[l]!==void 0)return;let u=e.getMessage(o);if(u){if(s.length=0,i[l]=n(e,s,u,a),s.length>0&&typeof console<"u"){const c=e.locales[0],d=s.join(", ");console.warn(`[fluent][resolver] errors in ${c}/${o}: ${d}.`)}}else r.add(o)}),r}const vu="data-l10n-id",Hp="data-l10n-args",iY=`[${vu}]`;class sY extends JZ{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[vu,Hp]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(vu,t),i?e.setAttribute(Hp,JSON.stringify(i)):e.removeAttribute(Hp),e}getAttributes(e){return{id:e.getAttribute(vu),args:JSON.parse(e.getAttribute(Hp)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const s of this.getTranslatables(i))this.pendingElements.add(s);else i.hasAttribute(vu)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&WZ(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(iY));return typeof e.hasAttribute=="function"&&e.hasAttribute(vu)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(vu),args:JSON.parse(e.getAttribute(Hp)||null)}}}var Xv,hl,Of,mi,gp,Uz,Vz;const Zg=class Zg{constructor({lang:e,isRTL:t},i=null){x(this,Xv);x(this,hl);x(this,Of);x(this,mi);var s,r;b(this,Of,S(s=Zg,gp,Uz).call(s,e)),b(this,mi,i),b(this,Xv,t??S(r=Zg,gp,Vz).call(r,h(this,Of))?"rtl":"ltr")}_setL10n(e){b(this,mi,e)}getLanguage(){return h(this,Of)}getDirection(){return h(this,Xv)}async get(e,t=null,i){var r;return Array.isArray(e)?(e=e.map(a=>({id:a})),(await h(this,mi).formatMessages(e)).map(a=>a.value)):((r=(await h(this,mi).formatMessages([{id:e,args:t}]))[0])==null?void 0:r.value)||i}async translate(e){(h(this,hl)||b(this,hl,new Set)).add(e);try{h(this,mi).connectRoot(e),await h(this,mi).translateRoots()}catch{}}async translateOnce(e){try{await h(this,mi).translateElements([e])}catch(t){console.error(`translateOnce: "${t}".`)}}async destroy(){if(h(this,hl)){for(const e of h(this,hl))h(this,mi).disconnectRoot(e);h(this,hl).clear(),b(this,hl,null)}h(this,mi).pauseObserving()}pause(){h(this,mi).pauseObserving()}resume(){h(this,mi).resumeObserving()}};Xv=new WeakMap,hl=new WeakMap,Of=new WeakMap,mi=new WeakMap,gp=new WeakSet,Uz=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},Vz=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},x(Zg,gp);let tP=Zg;function ID(n,e){const t=new UZ(e),i=new EZ(n),s=i.addResource(t);return s.length&&console.error("L10n errors",s),i}var ts,jz,Hz,Wz,Gz,nP;const xu=class xu extends tP{constructor(e){super({lang:e});const t=e?S(xu,ts,jz).bind(xu,"en-us",this.getLanguage()):S(xu,ts,Gz).bind(xu,this.getLanguage());this._setL10n(new sY([],t))}};ts=new WeakSet,jz=async function*(e,t){const{baseURL:i,paths:s}=await S(this,ts,Wz).call(this),r=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&r.push(o),r.push(e)}for(const o of r){const a=await S(this,ts,Hz).call(this,o,i,s);a?yield a:o==="en-us"&&(yield S(this,ts,nP).call(this,o))}},Hz=async function(e,t,i){const s=i[e];if(!s)return null;const r=new URL(s,t),o=await gD(r,"text");return ID(e,o)},Wz=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await gD(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},Gz=async function*(e){yield S(this,ts,nP).call(this,e)},nP=async function(e){return ID(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close`)},x(xu,ts);let lp=xu;const rY=1e3,oY=50,aY=1e3;function $S(){return document.location.hash}var dl,ye,wo,Xw,Qw,bg,Jw,iP,qz,Kz,sP,Zz,Yz;class lY{constructor({linkService:e,eventBus:t}){x(this,ye);x(this,dl,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const s=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,S(this,ye,Zz).call(this);const r=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=$S(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!S(this,ye,bg).call(this,r,!0)||t){const{hash:a,page:l,rotation:u}=S(this,ye,iP).call(this,!0);if(!a||s||t){S(this,ye,wo).call(this,null,!0);return}S(this,ye,wo).call(this,{hash:a,page:l,rotation:u},!0);return}const o=r.destination;S(this,ye,Jw).call(this,o,r.uid,!0),o.rotation!==void 0&&(this._initialRotation=o.rotation),o.dest?(this._initialBookmark=JSON.stringify(o.dest),this._destination.page=null):o.hash?this._initialBookmark=o.hash:o.page&&(this._initialBookmark=`page=${o.page}`)}reset(){this._initialized&&(S(this,ye,sP).call(this),this._initialized=!1,S(this,ye,Yz).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!S(this,ye,Qw).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const s=e||JSON.stringify(t);if(!s)return;let r=!1;if(this._destination&&(uY(this._destination.hash,s)||cY(this._destination.dest,t))){if(this._destination.page)return;r=!0}this._popStateInProgress&&!r||(S(this,ye,wo).call(this,{dest:t,hash:s,page:i,rotation:this.linkService.rotation},r),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!S(this,ye,Qw).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(S(this,ye,wo).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||S(this,ye,Xw).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;S(this,ye,bg).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;S(this,ye,bg).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}dl=new WeakMap,ye=new WeakSet,wo=function(e,t=!1){const i=t||!this._destination,s={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};S(this,ye,Jw).call(this,e,s.uid);let r;if(this._updateUrl&&(e!=null&&e.hash)){const o=document.location.href.split("#",1)[0];o.startsWith("file://")||(r=`${o}#${e.hash}`)}i?window.history.replaceState(s,"",r):window.history.pushState(s,"",r)},Xw=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){S(this,ye,wo).call(this,t);return}if(this._destination.temporary){S(this,ye,wo).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=oY)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}S(this,ye,wo).call(this,t,i)},Qw=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},bg=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},Jw=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},iP=function(e=!1){const t=unescape($S()).substring(1),i=a1(t),s=i.get("nameddest")||"";let r=i.get("page")|0;return(!S(this,ye,Qw).call(this,r)||e&&s.length>0)&&(r=null),{hash:t,page:r,rotation:this.linkService.rotation}},qz=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||S(this,ye,Xw).call(this,!0),this._updateViewareaTimeout=null},aY))},Kz=function({state:e}){const t=$S(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:r,page:o,rotation:a}=S(this,ye,iP).call(this);S(this,ye,wo).call(this,{hash:r,page:o,rotation:a},!0);return}if(!S(this,ye,bg).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,dZ({target:window,name:"hashchange",delay:rY}).then(()=>{this._blockHashChange--}));const s=e.destination;S(this,ye,Jw).call(this,s,e.uid,!0),Cz(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.goToDestination(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},sP=function(){(!this._destination||this._destination.temporary)&&S(this,ye,Xw).call(this)},Zz=function(){if(h(this,dl))return;b(this,dl,new AbortController);const{signal:e}=h(this,dl);this.eventBus._on("updateviewarea",S(this,ye,qz).bind(this),{signal:e}),window.addEventListener("popstate",S(this,ye,Kz).bind(this),{signal:e}),window.addEventListener("pagehide",S(this,ye,sP).bind(this),{signal:e})},Yz=function(){var e;(e=h(this,dl))==null||e.abort(),b(this,dl,null)};function uY(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||a1(n).get("nameddest")===e}function cY(n,e){function t(i,s){if(typeof i!=typeof s||Array.isArray(i)||Array.isArray(s))return!1;if(i!==null&&typeof i=="object"&&s!==null){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const r in i)if(!t(i[r],s[r]))return!1;return!0}return i===s||Number.isNaN(i)&&Number.isNaN(s)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,s=n.length;i<s;i++)if(!t(n[i],e[i]))return!1;return!0}var Qv,Jv,ey,ty,ny,Nf;class hY{constructor(e){x(this,Qv,null);x(this,Jv,null);x(this,ey,null);x(this,ty,null);x(this,ny,null);x(this,Nf);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new lp),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,b(this,Nf,e.uiManager),b(this,Qv,e.annotationLayer||null),b(this,ny,e.textLayer||null),b(this,Jv,e.drawLayer||null),b(this,ey,e.onAppend||null),b(this,ty,e.structTreeLayer||null)}async render(e,t="display"){var o;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const s=this.div=document.createElement("div");s.className="annotationEditorLayer",s.hidden=!0,s.dir=h(this,Nf).direction,(o=h(this,ey))==null||o.call(this,s),this.annotationEditorLayer=new eZ({uiManager:h(this,Nf),div:s,structTreeLayer:h(this,ty),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:h(this,Qv),textLayer:h(this,ny),drawLayer:h(this,Jv)});const r={viewport:i,div:s,annotations:null,intent:t};this.annotationEditorLayer.render(r),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}Qv=new WeakMap,Jv=new WeakMap,ey=new WeakMap,ty=new WeakMap,ny=new WeakMap,Nf=new WeakMap;{var rP=new Map;const n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(n),s=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||e==="MacIntel"&&t>1;(function(){(s||i)&&rP.set("maxCanvasPixels",5242880)})(),function(){i&&rP.set("useSystemFonts",!1)}()}const $={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},oP={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},eo={allowedGlobalEvents:{value:null,kind:$.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:$.BROWSER+$.API},isInAutomation:{value:!1,kind:$.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:$.BROWSER},nimbusDataStr:{value:"",kind:$.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:$.BROWSER},supportsDocumentFonts:{value:!0,kind:$.BROWSER},supportsIntegratedFind:{value:!1,kind:$.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:$.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:$.BROWSER},supportsPinchToZoom:{value:!0,kind:$.BROWSER},toolbarDensity:{value:0,kind:$.BROWSER+$.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:$.VIEWER+$.PREFERENCE},annotationEditorMode:{value:0,kind:$.VIEWER+$.PREFERENCE},annotationMode:{value:2,kind:$.VIEWER+$.PREFERENCE},cursorToolOnLoad:{value:0,kind:$.VIEWER+$.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:$.VIEWER},defaultZoomDelay:{value:400,kind:$.VIEWER+$.PREFERENCE},defaultZoomValue:{value:"",kind:$.VIEWER+$.PREFERENCE},disableHistory:{value:!1,kind:$.VIEWER},disablePageLabels:{value:!1,kind:$.VIEWER+$.PREFERENCE},enableAltText:{value:!1,kind:$.VIEWER+$.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:$.VIEWER+$.PREFERENCE+$.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:$.VIEWER+$.PREFERENCE+$.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:$.VIEWER+$.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:$.VIEWER+$.PREFERENCE},enablePermissions:{value:!1,kind:$.VIEWER+$.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:$.VIEWER+$.PREFERENCE},enableScripting:{value:!0,kind:$.VIEWER+$.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:$.VIEWER+$.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:$.VIEWER},externalLinkTarget:{value:0,kind:$.VIEWER+$.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:$.VIEWER+$.PREFERENCE},historyUpdateUrl:{value:!1,kind:$.VIEWER+$.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:$.VIEWER+$.PREFERENCE},imageResourcesPath:{value:"./images/",kind:$.VIEWER},maxCanvasPixels:{value:2**25,kind:$.VIEWER},forcePageColors:{value:!1,kind:$.VIEWER+$.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:$.VIEWER+$.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:$.VIEWER+$.PREFERENCE},pdfBugEnabled:{value:!1,kind:$.VIEWER+$.PREFERENCE},printResolution:{value:150,kind:$.VIEWER},sidebarViewOnLoad:{value:-1,kind:$.VIEWER+$.PREFERENCE},scrollModeOnLoad:{value:-1,kind:$.VIEWER+$.PREFERENCE},spreadModeOnLoad:{value:-1,kind:$.VIEWER+$.PREFERENCE},textLayerMode:{value:1,kind:$.VIEWER+$.PREFERENCE},viewOnLoad:{value:0,kind:$.VIEWER+$.PREFERENCE},cMapPacked:{value:!0,kind:$.API},cMapUrl:{value:"../web/cmaps/",kind:$.API},disableAutoFetch:{value:!1,kind:$.API+$.PREFERENCE},disableFontFace:{value:!1,kind:$.API+$.PREFERENCE},disableRange:{value:!1,kind:$.API+$.PREFERENCE},disableStream:{value:!1,kind:$.API+$.PREFERENCE},docBaseUrl:{value:"",kind:$.API},enableHWA:{value:!0,kind:$.API+$.VIEWER+$.PREFERENCE},enableXfa:{value:!0,kind:$.API+$.PREFERENCE},fontExtraProperties:{value:!1,kind:$.API},isEvalSupported:{value:!0,kind:$.API},isOffscreenCanvasSupported:{value:!0,kind:$.API},maxImageSize:{value:-1,kind:$.API},pdfBug:{value:!1,kind:$.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:$.API},useSystemFonts:{value:void 0,kind:$.API,type:oP.BOOLEAN+oP.UNDEFINED},verbosity:{value:1,kind:$.API},workerPort:{value:null,kind:$.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:$.WORKER}};eo.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:$.VIEWER},eo.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:$.VIEWER},eo.viewerCssTheme={value:0,kind:$.VIEWER+$.PREFERENCE},eo.enableFakeMLManager={value:!0,kind:$.VIEWER};eo.disablePreferences={value:!1,kind:$.VIEWER};var fl;const Cr=class Cr{static get(e){return h(this,fl).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const s in eo){const r=eo[s];e&&!(e&r.kind)||(i[s]=t?r.value:h(this,fl).get(s))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const s in e){const r=eo[s],o=e[s];if(!r||!(typeof o==typeof r.value||oP[(typeof o).toUpperCase()]&r.type))continue;const{kind:a}=r;t&&!(a&$.BROWSER||a&$.PREFERENCE)||(this.eventBus&&a&$.EVENT_DISPATCH&&(i||(i=new Map)).set(s,o),h(this,fl).set(s,o))}if(i)for(const[s,r]of i)this.eventBus.dispatch(s.toLowerCase(),{source:this,value:r})}};fl=new WeakMap,ae(Cr,"eventBus"),x(Cr,fl,new Map),(()=>{for(const e in eo)h(Cr,fl).set(e,eo[e].value);for(const[e,t]of rP)h(Cr,fl).set(e,t);Cr._hasInvokedSet=!1,Cr._checkDisablePreferences=()=>Cr.get("disablePreferences")?!0:(Cr._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let aP=Cr;var qr;class dY{constructor(e){x(this,qr,null);this.pageIndex=e.pageIndex}async render(e="display"){e!=="display"||h(this,qr)||this._cancelled||b(this,qr,new sZ({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,h(this,qr)&&(h(this,qr).destroy(),b(this,qr,null))}setParent(e){var t;(t=h(this,qr))==null||t.setParent(e)}getDrawLayer(){return h(this,qr)}}qr=new WeakMap;const LD={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},fY=/^H(\d+)$/;var Ff,ir,$f,Bf,zf,pl,lo,lP,Qz,uP;class Xz{constructor(e,t){x(this,lo);x(this,Ff);x(this,ir,null);x(this,$f);x(this,Bf,new Map);x(this,zf);x(this,pl,null);b(this,Ff,e.getStructTree()),b(this,zf,t)}async render(){var s;if(h(this,$f))return h(this,$f);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();b(this,$f,e);try{b(this,ir,S(this,lo,uP).call(this,await h(this,Ff)))}catch(r){i(r)}return b(this,Ff,null),(s=h(this,ir))==null||s.classList.add("structTree"),t(h(this,ir)),e}async getAriaAttributes(e){try{return await this.render(),h(this,Bf).get(e)}catch{}return null}hide(){h(this,ir)&&!h(this,ir).hidden&&(h(this,ir).hidden=!0)}show(){var e;(e=h(this,ir))!=null&&e.hidden&&(h(this,ir).hidden=!1)}addElementsToTextLayer(){var e;if(h(this,pl)){for(const[t,i]of h(this,pl))(e=document.getElementById(t))==null||e.append(i);h(this,pl).clear(),b(this,pl,null)}}}Ff=new WeakMap,ir=new WeakMap,$f=new WeakMap,Bf=new WeakMap,zf=new WeakMap,pl=new WeakMap,lo=new WeakSet,lP=function(e,t){const{alt:i,id:s,lang:r}=e;if(i!==void 0){let o=!1;const a=Vg(i);for(const l of e.children)if(l.type==="annotation"){let u=h(this,Bf).get(l.id);u||(u=new Map,h(this,Bf).set(l.id,u)),u.set("aria-label",a),o=!0}o||t.setAttribute("aria-label",a)}s!==void 0&&t.setAttribute("aria-owns",s),r!==void 0&&t.setAttribute("lang",Vg(r,!0))},Qz=function(e,t){const{alt:i,bbox:s,children:r}=e,o=r==null?void 0:r[0];if(!h(this,zf)||!i||!s||(o==null?void 0:o.type)!=="content")return!1;const{id:a}=o;if(!a)return!1;t.setAttribute("aria-owns",a);const l=document.createElement("span");(h(this,pl)||b(this,pl,new Map)).set(a,l),l.setAttribute("role","img"),l.setAttribute("aria-label",Vg(i));const{pageHeight:u,pageX:c,pageY:d}=h(this,zf),f="calc(var(--scale-factor)*",{style:p}=l;return p.width=`${f}${s[2]-s[0]}px)`,p.height=`${f}${s[3]-s[1]}px)`,p.left=`${f}${s[0]-c}px)`,p.top=`${f}${u-s[3]+d}px)`,!0},uP=function(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:i}=e,s=i.match(fY);if(s?(t.setAttribute("role","heading"),t.setAttribute("aria-level",s[1])):LD[i]&&t.setAttribute("role",LD[i]),i==="Figure"&&S(this,lo,Qz).call(this,e,t))return t}if(S(this,lo,lP).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])S(this,lo,lP).call(this,e.children[0],t);else for(const i of e.children)t.append(S(this,lo,uP).call(this,i));return t};var Ko,bs,Zo,gl,Uf,e_,iy,hP;const hd=class hd{constructor(){x(this,iy);x(this,Ko,!1);x(this,bs,null);x(this,Zo,new Map);x(this,gl,new Map)}setTextMapping(e){b(this,bs,e)}enable(){if(h(this,Ko))throw new Error("TextAccessibilityManager is already enabled.");if(!h(this,bs))throw new Error("Text divs and strings have not been set.");if(b(this,Ko,!0),b(this,bs,h(this,bs).slice()),h(this,bs).sort(S(hd,Uf,e_)),h(this,Zo).size>0){const e=h(this,bs);for(const[t,i]of h(this,Zo)){if(!document.getElementById(t)){h(this,Zo).delete(t);continue}S(this,iy,hP).call(this,t,e[i])}}for(const[e,t]of h(this,gl))this.addPointerInTextLayer(e,t);h(this,gl).clear()}disable(){h(this,Ko)&&(h(this,gl).clear(),b(this,bs,null),b(this,Ko,!1))}removePointerInTextLayer(e){if(!h(this,Ko)){h(this,gl).delete(e);return}const t=h(this,bs);if(!t||t.length===0)return;const{id:i}=e,s=h(this,Zo).get(i);if(s===void 0)return;const r=t[s];h(this,Zo).delete(i);let o=r.getAttribute("aria-owns");o!=null&&o.includes(i)&&(o=o.split(" ").filter(a=>a!==i).join(" "),o?r.setAttribute("aria-owns",o):(r.removeAttribute("aria-owns"),r.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!h(this,Ko))return h(this,gl).set(e,t),null;t&&this.removePointerInTextLayer(e);const s=h(this,bs);if(!s||s.length===0)return null;const r=bm(s,u=>{var c;return S(c=hd,Uf,e_).call(c,e,u)<0}),o=Math.max(0,r-1),a=s[o];S(this,iy,hP).call(this,i,a),h(this,Zo).set(i,o);const l=a.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,s){const r=this.addPointerInTextLayer(i,s);if(!e.hasChildNodes())return e.append(t),r;const o=Array.from(e.childNodes).filter(u=>u!==t);if(o.length===0)return r;const a=i||t,l=bm(o,u=>{var c;return S(c=hd,Uf,e_).call(c,a,u)<0});return l===0?o[0].before(t):o[l-1].after(t),r}};Ko=new WeakMap,bs=new WeakMap,Zo=new WeakMap,gl=new WeakMap,Uf=new WeakSet,e_=function(e,t){const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(s.width===0&&s.height===0)return-1;const r=i.y,o=i.y+i.height,a=i.y+i.height/2,l=s.y,u=s.y+s.height,c=s.y+s.height/2;if(a<=l&&c>=o)return-1;if(c<=r&&a>=u)return 1;const d=i.x+i.width/2,f=s.x+s.width/2;return d-f},iy=new WeakSet,hP=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},x(hd,Uf);let cP=hd;var ml;class pY{constructor({findController:e,eventBus:t,pageIndex:i}){x(this,ml,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,h(this,ml)||(b(this,ml,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:h(this,ml).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=h(this,ml))==null||e.abort(),b(this,ml,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let s=0,r=0;const o=i.length-1,a=[];for(let l=0,u=e.length;l<u;l++){let c=e[l];for(;s!==o&&c>=r+i[s].length;)r+=i[s].length,s++;s===i.length&&console.error("Could not find a matching mapping");const d={begin:{divIdx:s,offset:c-r}};for(c+=t[l];s!==o&&c>r+i[s].length;)r+=i[s].length,s++;d.end={divIdx:s,offset:c-r},a.push(d)}return a}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:s,textDivs:r}=this,o=i===t.selected.pageIdx,a=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const c={divIdx:-1,offset:void 0};function d(v,y){const _=v.divIdx;return r[_].textContent="",f(_,0,v.offset,y)}function f(v,y,_,A){let E=r[v];if(E.nodeType===Node.TEXT_NODE){const k=document.createElement("span");E.before(k),k.append(E),r[v]=k,E=k}const C=s[v].substring(y,_),T=document.createTextNode(C);if(A){const k=document.createElement("span");return k.className=`${A} appended`,k.append(T),E.append(k),A.includes("selected")?k.offsetLeft:0}return E.append(T),0}let p=a,m=p+1;if(l)p=0,m=e.length;else if(!o)return;let g=-1,w=-1;for(let v=p;v<m;v++){const y=e[v],_=y.begin;if(_.divIdx===g&&_.offset===w)continue;g=_.divIdx,w=_.offset;const A=y.end,E=o&&v===a,C=E?" selected":"";let T=0;if(!u||_.divIdx!==u.divIdx?(u!==null&&f(u.divIdx,u.offset,c.offset),d(_)):f(u.divIdx,u.offset,_.offset),_.divIdx===A.divIdx)T=f(_.divIdx,_.offset,A.offset,"highlight"+C);else{T=f(_.divIdx,_.offset,c.offset,"highlight begin"+C);for(let k=_.divIdx+1,P=A.divIdx;k<P;k++)r[k].className="highlight middle"+C;d(A,"highlight end"+C)}u=A,E&&t.scrollMatchIntoView({element:r[_.divIdx],selectedLeft:T,pageIndex:i,matchIndex:a})}u&&f(u.divIdx,u.offset,c.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:s}=this,{textContentItemsStr:r,textDivs:o}=this;let a=-1;for(const c of i){const d=Math.max(a,c.begin.divIdx);for(let f=d,p=c.end.divIdx;f<=p;f++){const m=o[f];m.textContent=r[f],m.className=""}a=c.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[s]||null,u=t.pageMatchesLength[s]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}ml=new WeakMap;var sy,ry,Lc,Kr,vi,vl,Tb,Jz,mp,eU,tU;const ka=class ka{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:s=!1,onAppend:r=null}){x(this,Tb);x(this,sy,!1);x(this,ry,null);x(this,Lc,!1);x(this,Kr,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,b(this,sy,s===!0),b(this,ry,r),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render(e,t=null){var o,a,l,u,c;if(h(this,Lc)&&h(this,Kr)){h(this,Kr).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),b(this,Kr,new cZ({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:s}=h(this,Kr);(o=this.highlighter)==null||o.setTextMapping(i,s),(a=this.accessibilityManager)==null||a.setTextMapping(i),await h(this,Kr).render(),b(this,Lc,!0);const r=document.createElement("div");r.className="endOfContent",this.div.append(r),S(this,Tb,Jz).call(this,r),(l=h(this,ry))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(c=this.accessibilityManager)==null||c.enable()}hide(){var e;!this.div.hidden&&h(this,Lc)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&h(this,Lc)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,s;(e=h(this,Kr))==null||e.cancel(),b(this,Kr,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),S(s=ka,mp,eU).call(s,this.div)}};sy=new WeakMap,ry=new WeakMap,Lc=new WeakMap,Kr=new WeakMap,vi=new WeakMap,vl=new WeakMap,Tb=new WeakSet,Jz=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",s=>{if(!h(this,sy)){const r=document.getSelection();s.clipboardData.setData("text/plain",Vg(aZ(r.toString())))}XE(s)}),h(ka,vi).set(t,e),S(i=ka,mp,tU).call(i)},mp=new WeakSet,eU=function(e){var t;h(this,vi).delete(e),h(this,vi).size===0&&((t=h(this,vl))==null||t.abort(),b(this,vl,null))},tU=function(){if(h(this,vl))return;b(this,vl,new AbortController);const{signal:e}=h(this,vl),t=(o,a)=>{a.append(o),o.style.width="",o.style.height="",a.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,h(this,vi).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,h(this,vi).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||h(this,vi).forEach(t)},{signal:e});var s,r;document.addEventListener("selectionchange",()=>{var p;const o=document.getSelection();if(o.rangeCount===0){h(this,vi).forEach(t);return}const a=new Set;for(let m=0;m<o.rangeCount;m++){const g=o.getRangeAt(m);for(const w of h(this,vi).keys())!a.has(w)&&g.intersectsNode(w)&&a.add(w)}for(const[m,g]of h(this,vi))a.has(m)?m.classList.add("selecting"):t(g,m);if(s??(s=getComputedStyle(h(this,vi).values().next().value).getPropertyValue("-moz-user-select")==="none"),s)return;const l=o.getRangeAt(0),u=r&&(l.compareBoundaryPoints(Range.END_TO_END,r)===0||l.compareBoundaryPoints(Range.START_TO_END,r)===0);let c=u?l.startContainer:l.endContainer;c.nodeType===Node.TEXT_NODE&&(c=c.parentNode);const d=(p=c.parentElement)==null?void 0:p.closest(".textLayer"),f=h(this,vi).get(d);f&&(f.style.width=d.style.width,f.style.height=d.style.height,c.parentElement.insertBefore(f,u?c:c.nextSibling)),r=l.cloneRange()},{signal:e})},x(ka,mp),x(ka,vi,new Map),x(ka,vl,null);let J_=ka;class nU{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:s=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=s,this.div=null,this._cancelled=!1}async render(e,t="display"){if(t==="print"){const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),r.div=this.div,OS.render(r)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?OS.update(s):(this.div=document.createElement("div"),s.div=this.div,OS.render(s))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const gY={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new ER}},mY=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var Dc,oy,Oc,ay,yl,wl,ly,uy,cy,Nc,Vf,jf,Yo,Fc,_l,xe,Vh,t_,Sg,dP,fP,pP,gP,mP,sU,rU,vP;class iU{constructor(e){x(this,xe);x(this,Dc,Jo.ENABLE_FORMS);x(this,oy,!1);x(this,Oc,!1);x(this,ay,!1);x(this,yl,null);x(this,wl,null);x(this,ly,null);x(this,uy,1);x(this,cy,1);x(this,Nc,null);x(this,Vf,Et.INITIAL);x(this,jf,Xr.ENABLE);x(this,Yo,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});x(this,Fc,new WeakMap);x(this,_l,[null,null,null,null]);var r,o;const t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,b(this,yl,e.layerProperties||gY),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||Ez,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,b(this,jf,e.textLayerMode??Xr.ENABLE),b(this,Dc,e.annotationMode??Jo.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??aP.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,b(this,oy,e.enableHWA||!1),this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||(this.l10n=new lp),this.renderTask=null,this.resume=null,this._isStandalone=!((r=this.renderingQueue)!=null&&r.hasViewer()),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,S(this,xe,t_).call(this),t==null||t.append(s),this._isStandalone){t==null||t.style.setProperty("--scale-factor",this.scale*Eo.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(t==null||t.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:a}=e;a&&a.then(l=>{a===this._optionalContentConfigPromise&&(h(this,Yo).initialOptionalContent=l.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}get renderingState(){return h(this,Vf)}set renderingState(e){if(e!==h(this,Vf))switch(b(this,Vf,e),h(this,wl)&&(clearTimeout(h(this,wl)),b(this,wl,null)),e){case Et.PAUSED:this.div.classList.remove("loading");break;case Et.RUNNING:this.div.classList.add("loadingIcon"),b(this,wl,setTimeout(()=>{this.div.classList.add("loading"),b(this,wl,null)},0));break;case Et.INITIAL:case Et.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(e){var i,s,r,o;this._isStandalone&&(((i=this.pageColors)==null?void 0:i.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((r=this._container)==null||r.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*Eo.PDF_TO_CSS_UNITS,rotation:t}),S(this,xe,t_).call(this),this.reset()}destroy(){var e;this.reset(),(e=this.pdfPage)==null||e.cleanup()}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}get _textHighlighter(){return X_(this,"_textHighlighter",new pY({pageIndex:this.id-1,eventBus:this.eventBus,findController:h(this,yl).findController}))}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;h(this,Fc).delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:s=!1,keepTextLayer:r=!1}={}){var p,m,g,w,v;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:s,keepTextLayer:r}),this.renderingState=Et.INITIAL;const o=this.div,a=o.childNodes,l=e&&this.zoomLayer||null,u=t&&((p=this.annotationLayer)==null?void 0:p.div)||null,c=i&&((m=this.annotationEditorLayer)==null?void 0:m.div)||null,d=s&&((g=this.xfaLayer)==null?void 0:g.div)||null,f=r&&((w=this.textLayer)==null?void 0:w.div)||null;for(let y=a.length-1;y>=0;y--){const _=a[y];switch(_){case l:case u:case c:case d:case f:continue}_.remove();const A=h(this,_l).indexOf(_);A>=0&&(h(this,_l)[A]=null)}o.removeAttribute("data-loaded"),u&&this.annotationLayer.hide(),c&&this.annotationEditorLayer.hide(),d&&this.xfaLayer.hide(),f&&this.textLayer.hide(),(v=this.structTreeLayer)==null||v.hide(),l||(this.canvas&&(h(this,Fc).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(b(this,ay,e),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:s=-1}){var o;this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(a=>{i===this._optionalContentConfigPromise&&(h(this,Yo).initialOptionalContent=a.hasInitialVisibility)})),h(this,Yo).directDrawing=!0;const r=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Eo.PDF_TO_CSS_UNITS,rotation:r}),S(this,xe,t_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let a=!1;if(h(this,Oc)){if(this.maxCanvasPixels===0)a=!0;else if(this.maxCanvasPixels>0){const{width:u,height:c}=this.viewport,{sx:d,sy:f}=this.outputScale;a=(Math.floor(u)*d|0)*(Math.floor(c)*f|0)>this.maxCanvasPixels}}const l=s>=0&&s<1e3;if(l||a){if(l&&!a&&this.renderingState!==Et.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=Et.FINISHED,h(this,Yo).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!l,hideTextLayer:l}),l)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:h(this,Nc)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:r=0}={}){var o;this.renderTask&&(this.renderTask.cancel(r),this.renderTask=null),this.resume=null,this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:s=!1,redrawTextLayer:r=!1,hideTextLayer:o=!1}){var l;if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);const{style:u}=e;u.width=u.height=""}const a=h(this,Fc).get(e);if(this.viewport!==a){const u=this.viewport.rotation-a.rotation,c=Math.abs(u);let d=1,f=1;if(c===90||c===270){const{width:p,height:m}=this.viewport;d=m/p,f=p/m}e.style.transform=`rotate(${u}deg) scale(${d}, ${f})`}t&&this.annotationLayer&&S(this,xe,dP).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&S(this,xe,pP).call(this),S(this,xe,fP).call(this)),s&&this.xfaLayer&&S(this,xe,gP).call(this),this.textLayer&&(o?(this.textLayer.hide(),(l=this.structTreeLayer)==null||l.hide()):r&&S(this,xe,mP).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}async draw(){this.renderingState!==Et.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:e,l10n:t,pageColors:i,pdfPage:s,viewport:r}=this;if(!s)throw this.renderingState=Et.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Et.RUNNING;const o=document.createElement("div");if(o.classList.add("canvasWrapper"),S(this,xe,Vh).call(this,o,"canvasWrapper"),!this.textLayer&&h(this,jf)!==Xr.DISABLE&&!s.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new cP),this.textLayer=new J_({pdfPage:s,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:h(this,jf)===Xr.ENABLE_PERMISSIONS,onAppend:P=>{this.l10n.pause(),S(this,xe,Vh).call(this,P,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&h(this,Dc)!==Jo.DISABLE){const{annotationStorage:P,annotationEditorUIManager:M,downloadManager:D,enableScripting:H,fieldObjectsPromise:W,hasJSActionsPromise:F,linkService:X}=h(this,yl);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new Nz({pdfPage:s,annotationStorage:P,imageResourcesPath:this.imageResourcesPath,renderForms:h(this,Dc)===Jo.ENABLE_FORMS,linkService:X,downloadManager:D,enableScripting:H,hasJSActionsPromise:F,fieldObjectsPromise:W,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:M,onAppend:Y=>{S(this,xe,Vh).call(this,Y,"annotationLayer")}})}const a=P=>{if(f==null||f(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Et.PAUSED,this.resume=()=>{this.renderingState=Et.RUNNING,P()};return}P()},{width:l,height:u}=r,c=document.createElement("canvas");c.setAttribute("role","presentation"),c.hidden=!0;const d=!!(i!=null&&i.background&&(i!=null&&i.foreground));let f=P=>{(!d||P)&&(c.hidden=!1,f=null)};o.append(c),this.canvas=c;const p=c.getContext("2d",{alpha:!1,willReadFrequently:!h(this,oy)}),m=this.outputScale=new lZ;if(this.maxCanvasPixels===0){const P=1/this.scale;m.sx*=P,m.sy*=P,b(this,Oc,!0)}else if(this.maxCanvasPixels>0){const P=l*u,M=Math.sqrt(this.maxCanvasPixels/P);m.sx>M||m.sy>M?(m.sx=M,m.sy=M,b(this,Oc,!0)):b(this,Oc,!1)}const g=aD(m.sx),w=aD(m.sy),v=c.width=T0(k0(l*m.sx),g[0]),y=c.height=T0(k0(u*m.sy),w[0]),_=T0(k0(l),g[1]),A=T0(k0(u),w[1]);m.sx=v/_,m.sy=y/A,h(this,uy)!==g[1]&&(e.style.setProperty("--scale-round-x",`${g[1]}px`),b(this,uy,g[1])),h(this,cy)!==w[1]&&(e.style.setProperty("--scale-round-y",`${w[1]}px`),b(this,cy,w[1])),h(this,Fc).set(c,r);const E=m.scaled?[m.sx,0,0,m.sy,0,0]:null,C={canvasContext:p,transform:E,viewport:r,annotationMode:h(this,Dc),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i,isEditing:h(this,ay)},T=this.renderTask=s.render(C);T.onContinue=a;const k=T.promise.then(async()=>{var M;f==null||f(!0),await S(this,xe,vP).call(this,T),this.structTreeLayer||(this.structTreeLayer=new Xz(s,r.rawDims)),S(this,xe,mP).call(this),this.annotationLayer&&await S(this,xe,dP).call(this);const{annotationEditorUIManager:P}=h(this,yl);P&&(this.drawLayer||(this.drawLayer=new dY({pageIndex:this.id})),await S(this,xe,pP).call(this),this.drawLayer.setParent(o),this.annotationEditorLayer||(this.annotationEditorLayer=new hY({uiManager:P,pdfPage:s,l10n:t,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(M=this.annotationLayer)==null?void 0:M.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:D=>{S(this,xe,Vh).call(this,D,"annotationEditorLayer")}})),S(this,xe,fP).call(this))},P=>(P instanceof YE||f==null||f(!0),S(this,xe,vP).call(this,T,P)));if(s.isPureXfa){if(!this.xfaLayer){const{annotationStorage:P,linkService:M}=h(this,yl);this.xfaLayer=new nU({pdfPage:s,annotationStorage:P,linkService:M})}S(this,xe,gP).call(this)}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),k}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=h(this,Yo);return e&&t&&i?this.canvas:null}}Dc=new WeakMap,oy=new WeakMap,Oc=new WeakMap,ay=new WeakMap,yl=new WeakMap,wl=new WeakMap,ly=new WeakMap,uy=new WeakMap,cy=new WeakMap,Nc=new WeakMap,Vf=new WeakMap,jf=new WeakMap,Yo=new WeakMap,Fc=new WeakMap,_l=new WeakMap,xe=new WeakSet,Vh=function(e,t){const i=mY.get(t),s=h(this,_l)[i];if(h(this,_l)[i]=e,s){s.replaceWith(e);return}for(let r=i-1;r>=0;r--){const o=h(this,_l)[r];if(o){o.after(e);return}}this.div.prepend(e)},t_=function(){const{viewport:e}=this;if(this.pdfPage){if(h(this,ly)===e.rotation)return;b(this,ly,e.rotation)}uZ(this.div,e,!0,!1)},Sg=function(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})},dP=async function(){let e=null;try{await this.annotationLayer.render(this.viewport,{structTreeLayer:this.structTreeLayer},"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{S(this,xe,Sg).call(this,"annotationlayerrendered",e)}},fP=async function(){let e=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{S(this,xe,Sg).call(this,"annotationeditorlayerrendered",e)}},pP=async function(){try{await this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}},gP=async function(){var t;let e=null;try{const i=await this.xfaLayer.render(this.viewport,"display");i!=null&&i.textDivs&&this._textHighlighter&&S(this,xe,rU).call(this,i.textDivs)}catch(i){console.error(`#renderXfaLayer: "${i}".`),e=i}finally{(t=this.xfaLayer)!=null&&t.div&&(this.l10n.pause(),S(this,xe,Vh).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),S(this,xe,Sg).call(this,"xfalayerrendered",e)}},mP=async function(){if(!this.textLayer)return;let e=null;try{await this.textLayer.render(this.viewport)}catch(t){if(t instanceof JK)return;console.error(`#renderTextLayer: "${t}".`),e=t}S(this,xe,Sg).call(this,"textlayerrendered",e),S(this,xe,sU).call(this)},sU=async function(){var t,i,s;if(!this.textLayer)return;const e=await((t=this.structTreeLayer)==null?void 0:t.render());e&&(this.l10n.pause(),(i=this.structTreeLayer)==null||i.addElementsToTextLayer(),this.canvas&&e.parentNode!==this.canvas&&this.canvas.append(e),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},rU=async function(e){const t=await this.pdfPage.getTextContent(),i=[];for(const s of t.items)i.push(s.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()},vP=async function(e,t=null){if(e===this.renderTask&&(this.renderTask=null),t instanceof YE){b(this,Nc,null);return}if(b(this,Nc,t),this.renderingState=Et.FINISHED,this._resetZoomLayer(!0),h(this,Yo).regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:h(this,Nc)}),t)throw t};async function vY(n){const e="",t=e.split("#",1)[0];let{info:i,metadata:s,contentDispositionFilename:r,contentLength:o}=await n.getMetadata();if(!o){const{length:a}=await n.getDownloadInfo();o=a}return{...i,baseURL:t,filesize:o,filename:r||rZ(e),metadata:s==null?void 0:s.getRaw(),authors:s==null?void 0:s.get("dc:creator"),numPages:n.numPages,URL:e}}class yY{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(r=>{t(r.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var Zr,$c,hy,Bc,zc,dy,Zn,Xo,Hf,qt,Ss,an,oU,n_,yP,aU,Ag;class wY{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){x(this,an);x(this,Zr,null);x(this,$c,null);x(this,hy,null);x(this,Bc,null);x(this,zc,null);x(this,dy,null);x(this,Zn,null);x(this,Xo,null);x(this,Hf,!1);x(this,qt,null);x(this,Ss,null);b(this,zc,e),b(this,dy,t),b(this,hy,i)}setViewer(e){b(this,Xo,e)}async setDocument(e){var a;if(h(this,Zn)&&await S(this,an,Ag).call(this),b(this,Zn,e),!e)return;const[t,i,s]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!s){await S(this,an,Ag).call(this);return}if(e!==h(this,Zn))return;try{b(this,qt,S(this,an,aU).call(this))}catch(l){console.error(`setDocument: "${l.message}".`),await S(this,an,Ag).call(this);return}const r=h(this,zc);b(this,Bc,new AbortController);const{signal:o}=h(this,Bc);r._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&S(this,an,oU).call(this,l.detail)},{signal:o}),r._on("dispatcheventinsandbox",l=>{var u;(u=h(this,qt))==null||u.dispatchEventInSandbox(l.detail)},{signal:o}),r._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(S(this,an,yP).call(this,u),S(this,an,n_).call(this,l))},{signal:o}),r._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===h(this,Xo).currentPageNumber&&S(this,an,n_).call(this,l)},{signal:o}),r._on("pagesdestroy",async()=>{var l,u;await S(this,an,yP).call(this,h(this,Xo).currentPageNumber),await((l=h(this,qt))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=h(this,Zr))==null||u.resolve()},{signal:o});try{const l=await h(this,hy).call(this,e);if(e!==h(this,Zn))return;await h(this,qt).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:s}}),r.dispatch("sandboxcreated",{source:this})}catch(l){console.error(`setDocument: "${l.message}".`),await S(this,an,Ag).call(this);return}await((a=h(this,qt))==null?void 0:a.dispatchEventInSandbox({id:"doc",name:"Open"})),await S(this,an,n_).call(this,h(this,Xo).currentPageNumber,!0),Promise.resolve().then(()=>{e===h(this,Zn)&&b(this,Hf,!0)})}async dispatchWillSave(){var e;return(e=h(this,qt))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=h(this,qt))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(h(this,qt)){await((e=h(this,Ss))==null?void 0:e.promise),b(this,Ss,Promise.withResolvers());try{await h(this,qt).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw h(this,Ss).resolve(),b(this,Ss,null),t}await h(this,Ss).promise}}async dispatchDidPrint(){var e;return(e=h(this,qt))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=h(this,$c))==null?void 0:e.promise)||null}get ready(){return h(this,Hf)}get _pageOpenPending(){return X_(this,"_pageOpenPending",new Set)}get _visitedPages(){return X_(this,"_visitedPages",new Map)}}Zr=new WeakMap,$c=new WeakMap,hy=new WeakMap,Bc=new WeakMap,zc=new WeakMap,dy=new WeakMap,Zn=new WeakMap,Xo=new WeakMap,Hf=new WeakMap,qt=new WeakMap,Ss=new WeakMap,an=new WeakSet,oU=async function(e){var u,c;const t=h(this,Xo),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:s,siblings:r,command:o,value:a}=e;if(!s){switch(o){case"clear":console.clear();break;case"error":console.error(a);break;case"layout":if(!i){const d=kK(a);t.spreadMode=d.spreadMode}break;case"page-num":t.currentPageNumber=a+1;break;case"print":await t.pagesPromise,h(this,zc).dispatch("print",{source:this});break;case"println":console.log(a);break;case"zoom":i||(t.currentScaleValue=a);break;case"SaveAs":h(this,zc).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=h(this,Ss))==null||u.resolve(),b(this,Ss,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const l=r?[s,...r]:[s];for(const d of l){const f=document.querySelector(`[data-element-id="${d}"]`);f?f.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(c=h(this,Zn))==null||c.annotationStorage.setValue(d,e)}},n_=async function(e,t=!1){const i=h(this,Zn),s=this._visitedPages;if(t&&b(this,Zr,Promise.withResolvers()),!h(this,Zr))return;const r=h(this,Xo).getPageView(e-1);if((r==null?void 0:r.renderingState)!==Et.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const o=(async()=>{var l,u;const a=await(s.has(e)?null:(l=r.pdfPage)==null?void 0:l.getJSActions());i===h(this,Zn)&&await((u=h(this,qt))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:a}))})();s.set(e,o)},yP=async function(e){var r;const t=h(this,Zn),i=this._visitedPages;if(!h(this,Zr)||this._pageOpenPending.has(e))return;const s=i.get(e);s&&(i.set(e,null),await s,t===h(this,Zn)&&await((r=h(this,qt))==null?void 0:r.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},aU=function(){if(b(this,$c,Promise.withResolvers()),h(this,qt))throw new Error("#initScripting: Scripting already exists.");return h(this,dy).createScripting()},Ag=async function(){var e,t,i,s;if(!h(this,qt)){b(this,Zn,null),(e=h(this,$c))==null||e.resolve();return}h(this,Zr)&&(await Promise.race([h(this,Zr).promise,new Promise(r=>{setTimeout(r,1e3)})]).catch(()=>{}),b(this,Zr,null)),b(this,Zn,null);try{await h(this,qt).destroySandbox()}catch{}(t=h(this,Ss))==null||t.reject(new Error("Scripting destroyed.")),b(this,Ss,null),(i=h(this,Bc))==null||i.abort(),b(this,Bc,null),this._pageOpenPending.clear(),this._visitedPages.clear(),b(this,qt,null),b(this,Hf,!1),(s=h(this,$c))==null||s.resolve()};class _Y extends wY{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new yY(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>vY(t)),super(e)}}const bY=3e4;class SY{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),bY)))}getHighestPriority(e,t,i,s=!1){const r=e.views,o=r.length;if(o===0)return null;for(let d=0;d<o;d++){const f=r[d].view;if(!this.isViewFinished(f))return f}const a=e.first.id,l=e.last.id;if(l-a+1>o){const d=e.ids;for(let f=1,p=l-a;f<p;f++){const m=i?a+f:l-f;if(d.has(m))continue;const g=t[m-1];if(!this.isViewFinished(g))return g}}let u=i?l:a-2,c=t[u];return c&&!this.isViewFinished(c)||s&&(u+=i?1:-1,c=t[u],c&&!this.isViewFinished(c))?c:null}isViewFinished(e){return e.renderingState===Et.FINISHED}renderView(e){switch(e.renderingState){case Et.FINISHED:return!1;case Et.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Et.RUNNING:this.highestPriorityPage=e.renderingId;break;case Et.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof YE||console.error(`renderView: "${t}"`)});break}return!0}}const DD=10,L0={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function OD(n){return Object.values(ki).includes(n)&&n!==ki.DISABLE}var Qo,Uc,fy,wP;class AY{constructor(e){x(this,fy);x(this,Qo,new Set);x(this,Uc,0);b(this,Uc,e)}push(e){const t=h(this,Qo);t.has(e)&&t.delete(e),t.add(e),t.size>h(this,Uc)&&S(this,fy,wP).call(this)}resize(e,t=null){b(this,Uc,e);const i=h(this,Qo);if(t){const s=i.size;let r=1;for(const o of i)if(t.has(o.id)&&(i.delete(o),i.add(o)),++r>s)break}for(;i.size>h(this,Uc);)S(this,fy,wP).call(this)}has(e){return h(this,Qo).has(e)}[Symbol.iterator](){return h(this,Qo).keys()}}Qo=new WeakMap,Uc=new WeakMap,fy=new WeakSet,wP=function(){const e=h(this,Qo).keys().next().value;e==null||e.destroy(),h(this,Qo).delete(e)};var bl,py,gy,Yr,Ui,Vc,my,vy,yy,wy,_y,by,Sy,Sl,jc,Hc,Wc,Wf,Al,Gf,Ay,qf,Gc,xl,Kf,fe,uU,cU,hU,xg,i_,dU,_P,fU,Aa,bP,pU,gU,mU,SP,vU,s_;class lU{constructor(e){x(this,fe);x(this,bl,null);x(this,py,null);x(this,gy,null);x(this,Yr,ki.NONE);x(this,Ui,null);x(this,Vc,Jo.ENABLE_FORMS);x(this,my,null);x(this,vy,null);x(this,yy,!1);x(this,wy,!1);x(this,_y,!1);x(this,by,!1);x(this,Sy,!1);x(this,Sl,null);x(this,jc,null);x(this,Hc,null);x(this,Wc,null);x(this,Wf,!1);x(this,Al,null);x(this,Gf,!1);x(this,Ay,0);x(this,qf,new ResizeObserver(S(this,fe,vU).bind(this)));x(this,Gc,null);x(this,xl,null);x(this,Kf,Xr.ENABLE);var s,r;const t="4.9.155";if(mD!==t)throw new Error(`The API version "${mD}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,((s=this.container)==null?void 0:s.tagName)!=="DIV"||((r=this.viewer)==null?void 0:r.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");h(this,qf).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new ER,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,b(this,py,e.altTextManager||null),b(this,vy,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=o=>this._getVisiblePages().ids.has(o)),this._scriptingManager=e.scriptingManager||null,b(this,Kf,e.textLayerMode??Xr.ENABLE),b(this,Vc,e.annotationMode??Jo.ENABLE_FORMS),b(this,Yr,e.annotationEditorMode??ki.NONE),b(this,gy,e.annotationEditorHighlightColors||null),b(this,wy,e.enableHighlightFloatingButton===!0),b(this,by,e.enableUpdatedAddImage===!0),b(this,Sy,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||(this.l10n=new lp),b(this,_y,e.enablePermissions||!1),this.pageColors=e.pageColors||null,b(this,jc,e.mlManager||null),b(this,yy,e.enableHWA||!1),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new SY,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{h(this,qf).disconnect(),b(this,qf,null)},{once:!0}),this.scroll=bK(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=_d.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),S(this,fe,SP).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:o,pdfPage:a})=>{const l=this._pages[o-1];h(this,bl).has(l)||a==null||a.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(h(this,bl))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return h(this,Vc)===Jo.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var s;if(this._currentPageNumber===e)return t&&S(this,fe,bP).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((s=this._pageLabels)==null?void 0:s[e-1])??null,previous:i}),t&&S(this,fe,bP).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==MS?this._currentScale:Ez}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&S(this,fe,Aa).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&S(this,fe,Aa).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!Cz(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&S(this,fe,Aa).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return X_(this,"_layerProperties",{get annotationEditorUIManager(){return h(e,Ui)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,s=this.pdfDocument.numPages;i<=s;++i){if(h(this,Gf))return null;t.length=0;const r=await this.pdfDocument.getPage(i),{items:o}=await r.getTextContent();for(const a of o)a.str&&t.push(a.str),a.hasEOL&&t.push(`
`);e.push(Vg(t.join("")))}return e.join(`
`)}setDocument(e){var f,p,m;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(f=this.findController)==null||f.setDocument(null),(p=this._scriptingManager)==null||p.setDocument(null),(m=h(this,Ui))==null||m.destroy(),b(this,Ui,null)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),s=e.getOptionalContentConfig({intent:"display"}),r=h(this,_y)?e.getPermissions():Promise.resolve(),{eventBus:o,pageColors:a,viewer:l}=this;b(this,Sl,new AbortController);const{signal:u}=h(this,Sl);if(t>L0.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const g=this._scrollMode=Oe.PAGE;o.dispatch("scrollmodechanged",{source:this,mode:g})}this._pagesCapability.promise.then(()=>{o.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const c=g=>{const w=this._pages[g.pageNumber-1];w&&h(this,bl).push(w)};o._on("pagerender",c,{signal:u});const d=g=>{g.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:g.timestamp}),o._off("pagerendered",d))};o._on("pagerendered",d,{signal:u}),Promise.all([i,r]).then(([g,w])=>{var T,k;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(g),this._optionalContentConfigPromise=s;const{annotationEditorMode:v,annotationMode:y,textLayerMode:_}=S(this,fe,uU).call(this,w);if(_!==Xr.DISABLE){const P=b(this,Al,document.createElement("div"));P.id="hiddenCopyElement",l.before(P)}if(typeof AbortSignal.any=="function"&&v!==ki.DISABLE){const P=v;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):OD(P)?(b(this,Ui,new tZ(this.container,l,h(this,py),o,e,a,h(this,gy),h(this,wy),h(this,by),h(this,Sy),h(this,jc),h(this,vy))),o.dispatch("annotationeditoruimanager",{source:this,uiManager:h(this,Ui)}),P!==ki.NONE&&(P===ki.STAMP&&((T=h(this,jc))==null||T.loadModel("altText")),h(this,Ui).updateMode(P))):console.error(`Invalid AnnotationEditor mode: ${P}`)}const A=this._scrollMode===Oe.PAGE?null:l,E=this.currentScale,C=g.getViewport({scale:E*Eo.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",C.scale),a!=null&&a.background&&l.style.setProperty("--page-bg-color",a.background),((a==null?void 0:a.foreground)==="CanvasText"||(a==null?void 0:a.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let P=1;P<=t;++P){const M=new iU({container:A,eventBus:o,id:P,scale:E,defaultViewport:C.clone(),optionalContentConfigPromise:s,renderingQueue:this.renderingQueue,textLayerMode:_,annotationMode:y,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:a,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:h(this,yy)});this._pages.push(M)}(k=this._pages[0])==null||k.setPdfPage(g),this._scrollMode===Oe.PAGE?S(this,fe,xg).call(this):this._spreadMode!==Ln.NONE&&this._updateSpreadMode(),S(this,fe,cU).call(this,u).then(async()=>{var M,D;if(e!==this.pdfDocument)return;if((M=this.findController)==null||M.setDocument(e),(D=this._scriptingManager)==null||D.setDocument(e),h(this,Al)&&document.addEventListener("copy",S(this,fe,hU).bind(this,_),{signal:u}),h(this,Ui)&&o.dispatch("annotationeditormodechanged",{source:this,mode:h(this,Yr)}),e.loadingParams.disableAutoFetch||t>L0.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let P=t-1;if(P<=0){this._pagesCapability.resolve();return}for(let H=2;H<=t;++H){const W=e.getPage(H).then(F=>{const X=this._pages[H-1];X.pdfPage||X.setPdfPage(F),--P===0&&this._pagesCapability.resolve()},F=>{console.error(`Unable to get page ${H} to initialize viewer`,F),--P===0&&this._pagesCapability.resolve()});H%L0.PAUSE_EAGER_PAGE_INIT===0&&await W}}),o.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:P})=>{e===this.pdfDocument&&P.Language&&(l.lang=P.Language)}),this.defaultRenderingQueue&&this.update()}).catch(g=>{console.error("Unable to initialize viewer",g),this._pagesCapability.reject(g)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,s=this._pages.length;i<s;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=MS,this._currentScaleValue=null,this._pageLabels=null,b(this,bl,new AY(DD)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Oe.VERTICAL,this._previousScrollMode=Oe.UNKNOWN,this._spreadMode=Ln.NONE,b(this,Gc,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=h(this,Sl))==null||e.abort(),b(this,Sl,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=h(this,Al))==null||t.remove(),b(this,Al,null),S(this,fe,s_).call(this)}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:s=!1}){if(!this.pdfDocument)return;const r=Number.isInteger(e)&&this._pages[e-1];if(!r){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,a=0,l=0,u=0,c,d;const f=r.rotation%180!==0,p=(f?r.height:r.width)/r.scale/Eo.PDF_TO_CSS_UNITS,m=(f?r.width:r.height)/r.scale/Eo.PDF_TO_CSS_UNITS;let g=0;switch(t[1].name){case"XYZ":o=t[2],a=t[3],g=t[4],o=o!==null?o:0,a=a!==null?a:m;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":a=t[2],g="page-width",a===null&&this._location?(o=this._location.left,a=this._location.top):(typeof a!="number"||a<0)&&(a=m);break;case"FitV":case"FitBV":o=t[2],l=p,u=m,g="page-height";break;case"FitR":o=t[2],a=t[3],l=t[4]-o,u=t[5]-a;let _=sD,A=rD;this.removePageBorders&&(_=A=0),c=(this.container.clientWidth-_)/l/Eo.PDF_TO_CSS_UNITS,d=(this.container.clientHeight-A)/u/Eo.PDF_TO_CSS_UNITS,g=Math.min(Math.abs(c),Math.abs(d));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(s||(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===MS&&(this.currentScaleValue=vK)),g==="page-fit"&&!t[4]){S(this,fe,i_).call(this,r);return}const w=[r.viewport.convertToViewportPoint(o,a),r.viewport.convertToViewportPoint(o+l,a+u)];let v=Math.min(w[0][0],w[1][0]),y=Math.min(w[0][1],w[1][1]);i||(v=Math.max(v,0),y=Math.max(y,0)),S(this,fe,i_).call(this,r,{left:v,top:y})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,s=parseFloat(i)===t?Math.round(t*1e4)/100:i,r=e.id,o=this._pages[r-1],a=this.container,l=o.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),u=Math.round(l[0]),c=Math.round(l[1]);let d=`#page=${r}`;this.isInPresentationMode||(d+=`&zoom=${s},${u},${c}`),this._location={pageNumber:r,scale:s,top:c,left:u,rotation:this._pagesRotation,pdfOpenParams:d}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const s=Math.max(DD,2*i+1);h(this,bl).resize(s,e.ids),this.renderingQueue.renderHighestPriority(e);const r=this._spreadMode===Ln.NONE&&(this._scrollMode===Oe.PAGE||this._scrollMode===Oe.VERTICAL),o=this._currentPageNumber;let a=!1;for(const l of t){if(l.percent<100)break;if(l.id===o&&r){a=!0;break}}this._setCurrentPageNumber(a?o:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===_d.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===_d.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Oe.PAGE?h(this,Gc).pages:this._pages,t=this._scrollMode===Oe.HORIZONTAL,i=t&&this._isContainerRtl;return AK({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==Et.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=S(this,fe,mU).call(this,t),s=this._spreadMode!==Ln.NONE&&this._scrollMode!==Oe.HORIZONTAL,r=this.renderingQueue.getHighestPriority(t,this._pages,i,s);return r?(S(this,fe,gU).call(this,r).then(()=>{this.renderingQueue.renderView(r)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const s=this._pages[t];if(s.width!==e.width||s.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),s=lD(i);if(e===void 0)e=s;else if(this.enablePrintAutoRotate&&s!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!xK(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>L0.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===Oe.HORIZONTAL),i.classList.toggle("scrollWrapped",t===Oe.WRAPPED),!(!this.pdfDocument||!e)&&(t===Oe.PAGE?S(this,fe,xg).call(this):this._previousScrollMode===Oe.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&S(this,fe,Aa).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!EK(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===Oe.PAGE)S(this,fe,xg).call(this);else if(t.textContent="",this._spreadMode===Ln.NONE)for(const s of this._pages)t.append(s.div);else{const s=this._spreadMode-1;let r=null;for(let o=0,a=i.length;o<a;++o)r===null?(r=document.createElement("div"),r.className="spread",t.append(r)):o%2===s&&(r=r.cloneNode(!1),t.append(r)),r.append(i[o].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&S(this,fe,Aa).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Oe.WRAPPED:{const{views:i}=this._getVisiblePages(),s=new Map;for(const{id:r,y:o,percent:a,widthPercent:l}of i){if(a===0||l<100)continue;let u=s.get(o);u||s.set(o,u||(u=[])),u.push(r)}for(const r of s.values()){const o=r.indexOf(e);if(o===-1)continue;const a=r.length;if(a===1)break;if(t)for(let l=o-1,u=0;l>=u;l--){const c=r[l],d=r[l+1]-1;if(c<d)return e-d}else for(let l=o+1,u=a;l<u;l++){const c=r[l],d=r[l-1]+1;if(c>d)return d-e}if(t){const l=r[0];if(l<e)return e-l+1}else{const l=r[a-1];if(l>e)return l-e+1}break}break}case Oe.HORIZONTAL:break;case Oe.PAGE:case Oe.VERTICAL:{if(this._spreadMode===Ln.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:s}=this._getVisiblePages(),r=t?e-1:e+1;for(const{id:o,percent:a,widthPercent:l}of s)if(o===r){if(a>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:s}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let r=this._currentScale;if(t>0&&t!==1)r=Math.round(r*t*100)/100;else if(i){const o=i>0?iD:1/iD,a=i>0?Math.ceil:Math.floor;i=Math.abs(i);do r=a((r*o).toFixed(2)*10)/10;while(--i>0)}r=Math.max(yK,Math.min(wK,r)),S(this,fe,Aa).call(this,r,{noScroll:!1,drawingDelay:e,origin:s})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return h(this,my)||b(this,my,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return h(this,Ui)?h(this,Yr):ki.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){var o;if(!h(this,Ui))throw new Error("The AnnotationEditor is not enabled.");if(h(this,Yr)===e)return;if(!OD(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===ki.STAMP&&((o=h(this,jc))==null||o.loadModel("altText"));const{eventBus:s}=this,r=()=>{S(this,fe,s_).call(this),b(this,Yr,e),h(this,Ui).updateMode(e,t,i),s.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===ki.NONE||h(this,Yr)===ki.NONE){const a=e!==ki.NONE;a||this.pdfDocument.annotationStorage.resetModifiedIds();for(const u of this._pages)u.toggleEditingMode(a);const l=S(this,fe,pU).call(this);if(a&&l){S(this,fe,s_).call(this),b(this,Hc,new AbortController);const u=AbortSignal.any([h(this,Sl).signal,h(this,Hc).signal]);s._on("pagerendered",({pageNumber:c})=>{l.delete(c),l.size===0&&b(this,Wc,setTimeout(r,0))},{signal:u});return}}r()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);h(this,xl)!==null&&(clearTimeout(h(this,xl)),b(this,xl,null)),e||this.update()}}}bl=new WeakMap,py=new WeakMap,gy=new WeakMap,Yr=new WeakMap,Ui=new WeakMap,Vc=new WeakMap,my=new WeakMap,vy=new WeakMap,yy=new WeakMap,wy=new WeakMap,_y=new WeakMap,by=new WeakMap,Sy=new WeakMap,Sl=new WeakMap,jc=new WeakMap,Hc=new WeakMap,Wc=new WeakMap,Wf=new WeakMap,Al=new WeakMap,Gf=new WeakMap,Ay=new WeakMap,qf=new WeakMap,Gc=new WeakMap,xl=new WeakMap,Kf=new WeakMap,fe=new WeakSet,uU=function(e){const t={annotationEditorMode:h(this,Yr),annotationMode:h(this,Vc),textLayerMode:h(this,Kf)};return e&&(!e.includes(M0.COPY)&&h(this,Kf)===Xr.ENABLE&&(t.textLayerMode=Xr.ENABLE_PERMISSIONS),e.includes(M0.MODIFY_CONTENTS)||(t.annotationEditorMode=ki.DISABLE),!e.includes(M0.MODIFY_ANNOTATIONS)&&!e.includes(M0.FILL_INTERACTIVE_FORMS)&&h(this,Vc)===Jo.ENABLE_FORMS&&(t.annotationMode=Jo.ENABLE)),t},cU=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:typeof AbortSignal.any=="function"?AbortSignal.any([e,i.signal]):e}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},hU=function(e,t){const i=document.getSelection(),{focusNode:s,anchorNode:r}=i;if(r&&s&&i.containsNode(h(this,Al))){if(h(this,Wf)||e===Xr.ENABLE_PERMISSIONS){XE(t);return}b(this,Wf,!0);const{classList:o}=this.viewer;o.add("copyAll");const a=new AbortController;window.addEventListener("keydown",l=>b(this,Gf,l.key==="Escape"),{signal:a.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{b(this,Wf,!1),b(this,Gf,!1),a.abort(),o.remove("copyAll")}),XE(t)}},xg=function(){if(this._scrollMode!==Oe.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=h(this,Gc),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===Ln.NONE&&!this.isInPresentationMode){const s=this._pages[e-1];i.append(s.div),t.pages.push(s)}else{const s=new Set,r=this._spreadMode-1;r===-1?s.add(e-1):e%2!==r?(s.add(e-1),s.add(e)):(s.add(e-2),s.add(e-1));const o=document.createElement("div");if(o.className="spread",this.isInPresentationMode){const a=document.createElement("div");a.className="dummyPage",o.append(a)}for(const a of s){const l=this._pages[a];l&&(o.append(l.div),t.pages.push(l))}i.append(o)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},i_=function(e,t=null){const{div:i,id:s}=e;if(this._currentPageNumber!==s&&this._setCurrentPageNumber(s),this._scrollMode===Oe.PAGE&&(S(this,fe,xg).call(this),this.update()),!t&&!this.isInPresentationMode){const r=i.offsetLeft+i.clientLeft,o=r+i.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===Oe.HORIZONTAL||r<a||o>a+l)&&(t={left:0,top:0})}Pz(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},dU=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},_P=function(e,t,{noScroll:i=!1,preset:s=!1,drawingDelay:r=-1,origin:o=null}){if(this._currentScaleValue=t.toString(),S(this,fe,dU).call(this,e)){s&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*Eo.PDF_TO_CSS_UNITS);const a=r>=0&&r<1e3;this.refresh(!0,{scale:e,drawingDelay:a?r:-1}),a&&b(this,xl,setTimeout(()=>{b(this,xl,null),this.refresh()},r));const l=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,c;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,c=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:c,allowNegativeOffset:!0}),Array.isArray(o)){const d=e/l-1,[f,p]=this.containerTopLeft;this.container.scrollLeft+=(o[0]-p)*d,this.container.scrollTop+=(o[1]-f)*d}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:s?t:void 0}),this.defaultRenderingQueue&&this.update()},fU=function(){return this._spreadMode!==Ln.NONE&&this._scrollMode!==Oe.HORIZONTAL?2:1},Aa=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,S(this,fe,_P).call(this,i,e,t);else{const s=this._pages[this._currentPageNumber-1];if(!s)return;let r=sD,o=rD;this.isInPresentationMode?(r=o=4,this._spreadMode!==Ln.NONE&&(r*=2)):this.removePageBorders?r=o=0:this._scrollMode===Oe.HORIZONTAL&&([r,o]=[o,r]);const a=(this.container.clientWidth-r)/s.width*s.scale/h(this,fe,fU),l=(this.container.clientHeight-o)/s.height*s.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=l;break;case"page-fit":i=Math.min(a,l);break;case"auto":const u=lD(s)?a:Math.min(l,a);i=Math.min(_K,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,S(this,fe,_P).call(this,i,e,t)}},bP=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&S(this,fe,Aa).call(this,this._currentScaleValue,{noScroll:!0}),S(this,fe,i_).call(this,e)},pU=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:s}=e;for(const r of s){const{view:o}=r;if(!o.hasEditableAnnotations()){i.delete(o.id);continue}t.push(r)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},gU=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},mU=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case Oe.PAGE:return h(this,Gc).scrollDown;case Oe.HORIZONTAL:return this.scroll.right}return this.scroll.down},SP=function(e=this.container.clientHeight){e!==h(this,Ay)&&(b(this,Ay,e),PK.setProperty("--viewer-container-height",`${e}px`))},vU=function(e){for(const t of e)if(t.target===this.container){S(this,fe,SP).call(this,Math.floor(t.borderBoxSize[0].blockSize)),b(this,my,null);break}},s_=function(){var e;(e=h(this,Hc))==null||e.abort(),b(this,Hc,null),h(this,Wc)!==null&&(clearTimeout(h(this,Wc)),b(this,Wc,null))};class xY extends lU{_resetView(){super._resetView(),this._scrollMode=Oe.PAGE,this._spreadMode=Ln.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}St.AnnotationLayerBuilder;St.DownloadManager;var Lue=St.EventBus;St.FindState;St.GenericL10n;St.LinkTarget;var Due=St.PDFFindController;St.PDFHistory;var Oue=St.PDFLinkService;St.PDFPageView;St.PDFScriptingManager;St.PDFSinglePageViewer;var Nue=St.PDFViewer;St.ProgressBar;St.RenderingStates;St.ScrollMode;St.SimpleLinkService;St.SpreadMode;St.StructTreeLayerBuilder;St.TextLayerBuilder;St.XfaLayerBuilder;St.parseQueryString;const EY=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>np(async()=>{const{default:i}=await Promise.resolve().then(()=>Ap);return{default:i}},[]).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class PR extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class PY extends PR{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class CY extends PR{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class TY extends PR{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var AP;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(AP||(AP={}));var kY=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class RY{constructor(e,{headers:t={},customFetch:i,region:s=AP.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=EY(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return kY(this,void 0,void 0,function*(){try{const{headers:s,method:r,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(m=>{throw new PY(m)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new CY(c);if(!c.ok)throw new TY(c);let f=((i=c.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="text/event-stream"?p=c:f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var bi={},CR={},u1={},Vy={},c1={},h1={},MY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},up=MY();const IY=up.fetch,yU=up.fetch.bind(up),wU=up.Headers,LY=up.Request,DY=up.Response,Ap=Object.freeze(Object.defineProperty({__proto__:null,Headers:wU,Request:LY,Response:DY,default:yU,fetch:IY},Symbol.toStringTag,{value:"Module"})),OY=RV(Ap);var d1={};Object.defineProperty(d1,"__esModule",{value:!0});let NY=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};d1.default=NY;var _U=Ms&&Ms.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(h1,"__esModule",{value:!0});const FY=_U(OY),$Y=_U(d1);let BY=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=FY.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l;let u=null,c=null,d=null,f=r.status,p=r.statusText;if(r.ok){if(this.method!=="HEAD"){const v=await r.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=v:c=JSON.parse(v))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const g=await r.text();try{u=JSON.parse(g),Array.isArray(u)&&r.status===404&&(c=[],u=null,f=200,p="OK")}catch{r.status===404&&g===""?(f=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new $Y.default(u)}return{error:u,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}};h1.default=BY;var zY=Ms&&Ms.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c1,"__esModule",{value:!0});const UY=zY(h1);let VY=class extends UY.default{select(e){let t=!1;const i=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:s,referencedTable:r=s}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:s=i}={}){const r=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:s=!1,wal:r=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,i?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};c1.default=VY;var jY=Ms&&Ms.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vy,"__esModule",{value:!0});const HY=jY(c1);let WY=class extends HY.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const i=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${r}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}};Vy.default=WY;var GY=Ms&&Ms.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(u1,"__esModule",{value:!0});const Wp=GY(Vy);let qY=class{constructor(e,{headers:t={},schema:i,fetch:s}){this.url=e,this.headers=t,this.schema=i,this.fetch=s}select(e,{head:t=!1,count:i}={}){const s=t?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new Wp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:i=!0}={}){const s="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),i||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Wp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:s,defaultToNull:r=!0}={}){const o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wp.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Wp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Wp.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};u1.default=qY;var f1={},p1={};Object.defineProperty(p1,"__esModule",{value:!0});p1.version=void 0;p1.version="0.0.0-automated";Object.defineProperty(f1,"__esModule",{value:!0});f1.DEFAULT_HEADERS=void 0;const KY=p1;f1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${KY.version}`};var bU=Ms&&Ms.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(CR,"__esModule",{value:!0});const ZY=bU(u1),YY=bU(Vy),XY=f1;let QY=class SU{constructor(e,{headers:t={},schema:i,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},XY.DEFAULT_HEADERS),t),this.schemaName=i,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new ZY.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new SU(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:s=!1,count:r}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;i||s?(o=i?"HEAD":"GET",Object.entries(t).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=t);const u=Object.assign({},this.headers);return r&&(u.Prefer=`count=${r}`),new YY.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};CR.default=QY;var xp=Ms&&Ms.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bi,"__esModule",{value:!0});bi.PostgrestError=bi.PostgrestBuilder=bi.PostgrestTransformBuilder=bi.PostgrestFilterBuilder=bi.PostgrestQueryBuilder=bi.PostgrestClient=void 0;const AU=xp(CR);bi.PostgrestClient=AU.default;const xU=xp(u1);bi.PostgrestQueryBuilder=xU.default;const EU=xp(Vy);bi.PostgrestFilterBuilder=EU.default;const PU=xp(c1);bi.PostgrestTransformBuilder=PU.default;const CU=xp(h1);bi.PostgrestBuilder=CU.default;const TU=xp(d1);bi.PostgrestError=TU.default;var JY=bi.default={PostgrestClient:AU.default,PostgrestQueryBuilder:xU.default,PostgrestFilterBuilder:EU.default,PostgrestTransformBuilder:PU.default,PostgrestBuilder:CU.default,PostgrestError:TU.default};const{PostgrestClient:eX,PostgrestQueryBuilder:Vue,PostgrestFilterBuilder:jue,PostgrestTransformBuilder:Hue,PostgrestBuilder:Wue,PostgrestError:Gue}=JY,tX="2.11.2",nX={"X-Client-Info":`realtime-js/${tX}`},iX="1.0.0",kU=1e4,sX=1e3;var bd;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(bd||(bd={}));var Ri;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ri||(Ri={}));var rr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(rr||(rr={}));var xP;(function(n){n.websocket="websocket"})(xP||(xP={}));var bu;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(bu||(bu={}));class rX{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const s=t.getUint8(1),r=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+s));o=o+s;const l=i.decode(e.slice(o,o+r));o=o+r;const u=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class RU{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Qe||(Qe={}));const ND=(n,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((r,o)=>(r[o]=oX(o,n,e,s),r),{})},oX=(n,e,t,i)=>{const s=e.find(a=>a.name===n),r=s==null?void 0:s.type,o=t[n];return r&&!i.includes(r)?MU(r,o):EP(o)},MU=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return cX(e,t)}switch(n){case Qe.bool:return aX(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return lX(e);case Qe.json:case Qe.jsonb:return uX(e);case Qe.timestamp:return hX(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return EP(e);default:return EP(e)}},EP=n=>n,aX=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},lX=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},uX=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},cX=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let r;const o=n.slice(1,t);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>MU(e,a))}return n},hX=n=>typeof n=="string"?n.replace(" ","T"):n,IU=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};let BS=class{constructor(e,t,i={},s=kU){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var FD;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(FD||(FD={}));class Hg{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hg.syncState(this.state,s,r,o),this.pendingDiffs.forEach(l=>{this.state=Hg.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},s=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hg.syncDiff(this.state,s,r,o),a())}),this.onJoin((s,r,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:r,newPresences:o})}),this.onLeave((s,r,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const r=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(r,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=r[u];if(d){const f=c.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),m=c.filter(w=>p.indexOf(w.presence_ref)<0),g=d.filter(w=>f.indexOf(w.presence_ref)<0);m.length>0&&(a[u]=m),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(r,{joins:a,leaves:l},i,s)}static syncDiff(e,t,i,s){const{joins:r,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(r,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}i(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $D;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})($D||($D={}));var BD;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(BD||(BD={}));var bo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(bo||(bo={}));class TR{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new BS(this,rr.join,this.params,this.timeout),this.rejoinTimer=new RU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ri.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(s,r)=>{this._trigger(this._replyEventName(r),s)}),this.presence=new Hg(this),this.broadcastEndpointURL=IU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(bo.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(bo.CLOSED));const l={},u={broadcast:r,presence:o,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(bo.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,m=[];for(let g=0;g<p;g++){const w=f[g],{filter:{event:v,schema:y,table:_,filter:A}}=w,E=c&&c[g];if(E&&E.event===v&&E.schema===y&&E.table===_&&E.filter===A)m.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),e==null||e(bo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(bo.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(bo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ri.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const s=new BS(this,rr.leave,{},e);s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,i){const s=new AbortController,r=setTimeout(()=>s.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(r),o}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new BS(this,e,t,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=rr;if(i&&[a,l,u,c].indexOf(o)>=0&&i!==this._joinRef())return;let f=this._onMessage(o,t,i);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,g,w;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,i)):(r=this.bindings[o])===null||r===void 0||r.filter(p=>{var m,g,w,v,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const A=p.id,E=(m=p.filter)===null||m===void 0?void 0:m.event;return A&&((g=t.ids)===null||g===void 0?void 0:g.includes(A))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const A=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return A==="*"||A===((_=t==null?void 0:t.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:w,commit_timestamp:v,type:y,errors:_}=m;f=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:v,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(m))}p.callback(f,i)})}_isClosed(){return this.state===Ri.closed}_isJoined(){return this.state===Ri.joined}_isJoining(){return this.state===Ri.joining}_isLeaving(){return this.state===Ri.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),r={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(r):this.bindings[s]=[r],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var r;return!(((r=s.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&TR.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rr.close,{},e)}_onError(e){this._on(rr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ri.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ND(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ND(e.columns,e.old_record)),t}}const dX=()=>{},fX=typeof WebSocket<"u",pX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gX{constructor(e,t){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=nX,this.params={},this.timeout=kU,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dX,this.conn=null,this.sendBuffer=[],this.serializer=new rX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>np(async()=>{const{default:l}=await Promise.resolve().then(()=>Ap);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${xP.websocket}`,this.httpEndpoint=IU(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(i=t==null?void 0:t.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(r,o)=>o(JSON.stringify(r)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new RU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(fX){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new mX(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),np(async()=>{const{default:e}=await Promise.resolve().then(()=>zse);return{default:e}},void 0).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iX}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case bd.connecting:return bu.Connecting;case bd.open:return bu.Open;case bd.closing:return bu.Closing;default:return bu.Closed}}isConnected(){return this.connectionState()===bu.Open}channel(e,t={config:{}}){const i=new TR(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:s,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${i} (${r})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let i=null;try{i=JSON.parse(atob(t.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(rr.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(sX,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:s,payload:r,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${i} ${s} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(s,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(rr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([pX],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}}class mX{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bd.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class kR extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class vX extends kR{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class PP extends kR{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var yX=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const LU=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>np(async()=>{const{default:i}=await Promise.resolve().then(()=>Ap);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},wX=()=>yX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield np(()=>Promise.resolve().then(()=>Ap),void 0)).Response:Response}),CP=n=>{if(Array.isArray(n))return n.map(t=>CP(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[s]=CP(i)}),e};var mh=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const zS=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_X=(n,e,t)=>mh(void 0,void 0,void 0,function*(){const i=yield wX();n instanceof i&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new vX(zS(s),n.status||500))}).catch(s=>{e(new PP(zS(s),s))}):e(new PP(zS(n),n))}),bX=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),t))};function jy(n,e,t,i,s,r){return mh(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,bX(e,i,s,r)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>_X(l,a,i))})})}function eb(n,e,t,i){return mh(this,void 0,void 0,function*(){return jy(n,"GET",e,t,i)})}function Ta(n,e,t,i,s){return mh(this,void 0,void 0,function*(){return jy(n,"POST",e,i,s,t)})}function SX(n,e,t,i,s){return mh(this,void 0,void 0,function*(){return jy(n,"PUT",e,i,s,t)})}function AX(n,e,t,i){return mh(this,void 0,void 0,function*(){return jy(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function DU(n,e,t,i,s){return mh(this,void 0,void 0,function*(){return jy(n,"DELETE",e,i,s,t)})}var ci=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const xX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EX{constructor(e,t={},i,s){this.url=e,this.headers=t,this.bucketId=i,this.fetch=LU(s)}uploadOrUpdate(e,t,i,s){return ci(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},zD),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(r){if(rn(r))return{data:null,error:r};throw r}})}upload(e,t,i){return ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,s){return ci(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:zD.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl)):(l=i,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:r,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(rn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return ci(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const r=yield Ta(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new kR("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(i){if(rn(i))return{data:null,error:i};throw i}})}update(e,t,i){return ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ci(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}copy(e,t,i){return ci(this,void 0,void 0,function*(){try{return{data:{path:(yield Ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,i){return ci(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),r=yield Ta(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,i){return ci(this,void 0,void 0,function*(){try{const s=yield Ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}download(e,t){return ci(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield eb(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}info(e){return ci(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield eb(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:CP(i),error:null}}catch(i){if(rn(i))return{data:null,error:i};throw i}})}exists(e){return ci(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield AX(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(rn(i)&&i instanceof PP){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),s=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&s.push(r);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${u}`)}}}remove(e){return ci(this,void 0,void 0,function*(){try{return{data:yield DU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}list(e,t,i){return ci(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xX),t),{prefix:e||""});return{data:yield Ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const PX="2.7.1",CX={"X-Client-Info":`storage-js/${PX}`};var Th=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class TX{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},CX),t),this.fetch=LU(i)}listBuckets(){return Th(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(rn(e))return{data:null,error:e};throw e}})}getBucket(e){return Th(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Th(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(rn(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Th(this,void 0,void 0,function*(){try{return{data:yield SX(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(rn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Th(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Th(this,void 0,void 0,function*(){try{return{data:yield DU(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}}class kX extends TX{constructor(e,t={},i){super(e,t,i)}from(e){return new EX(this.url,this.headers,e,this.fetch)}}const RX="2.47.13";let Eg="";typeof Deno<"u"?Eg="deno":typeof document<"u"?Eg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eg="react-native":Eg="node";const MX={"X-Client-Info":`supabase-js-${Eg}/${RX}`},IX={headers:MX},LX={schema:"public"},DX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OX={};var NX=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const FX=n=>{let e;return n?e=n:typeof fetch>"u"?e=yU:e=fetch,(...t)=>e(...t)},$X=()=>typeof Headers>"u"?wU:Headers,BX=(n,e,t)=>{const i=FX(t),s=$X();return(r,o)=>NX(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),i(r,Object.assign(Object.assign({},o),{headers:u}))})};var zX=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function UX(n){return n.replace(/\/$/,"")}function VX(n,e){const{db:t,auth:i,realtime:s,global:r}=n,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),r),accessToken:()=>zX(this,void 0,void 0,function*(){return""})};return n.accessToken?c.accessToken=n.accessToken:delete c.accessToken,c}const OU="2.67.3",jX="http://localhost:9999",HX="supabase.auth.token",WX={"X-Client-Info":`gotrue-js/${OU}`},UD=10,TP="X-Supabase-Api-Version",NU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function GX(n){return Math.round(Date.now()/1e3)+n}function qX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const xr=()=>typeof window<"u"&&typeof document<"u",su={tested:!1,writable:!1},Wg=()=>{if(!xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(su.tested)return su.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),su.tested=!0,su.writable=!0}catch{su.tested=!0,su.writable=!1}return su.writable};function KX(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,r)=>{e[r]=s})}catch{}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const FU=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>np(async()=>{const{default:i}=await Promise.resolve().then(()=>Ap);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},ZX=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",$U=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},D0=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},O0=async(n,e)=>{await n.removeItem(e)};function YX(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",i,s,r,o,a,l,u,c=0;for(n=n.replace("-","+").replace("_","/");c<n.length;)o=e.indexOf(n.charAt(c++)),a=e.indexOf(n.charAt(c++)),l=e.indexOf(n.charAt(c++)),u=e.indexOf(n.charAt(c++)),i=o<<2|a>>4,s=(a&15)<<4|l>>2,r=(l&3)<<6|u,t=t+String.fromCharCode(i),l!=64&&s!=0&&(t=t+String.fromCharCode(s)),u!=64&&r!=0&&(t=t+String.fromCharCode(r));return t}class g1{constructor(){this.promise=new g1.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}g1.promiseConstructor=Promise;function VD(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=t[1];return JSON.parse(YX(i))}async function XX(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function QX(n,e){return new Promise((i,s)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await n(r);if(!e(r,null,o)){i(o);return}}catch(o){if(!e(r,o)){s(o);return}}})()})}function JX(n){return("0"+n.toString(16)).substr(-2)}function eQ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let r=0;r<56;r++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,JX).join("")}async function tQ(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(r=>String.fromCharCode(r)).join("")}function nQ(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iQ(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await tQ(n);return nQ(t)}async function kh(n,e,t=!1){const i=eQ();let s=i;t&&(s+="/PASSWORD_RECOVERY"),await $U(n,`${e}-code-verifier`,s);const r=await iQ(i);return[r,i===r?"plain":"s256"]}const sQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rQ(n){const e=n.headers.get(TP);if(!e||!e.match(sQ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class RR extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function Se(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class oQ extends RR{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function aQ(n){return Se(n)&&n.name==="AuthApiError"}class BU extends RR{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class vh extends RR{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class xa extends vh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lQ(n){return Se(n)&&n.name==="AuthSessionMissingError"}class US extends vh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class N0 extends vh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class F0 extends vh{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uQ(n){return Se(n)&&n.name==="AuthImplicitGrantRedirectError"}class jD extends vh{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kP extends vh{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function VS(n){return Se(n)&&n.name==="AuthRetryableFetchError"}class HD extends vh{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}var cQ=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const yu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),hQ=[502,503,504];async function WD(n){var e;if(!ZX(n))throw new kP(yu(n),0);if(hQ.includes(n.status))throw new kP(yu(n),n.status);let t;try{t=await n.json()}catch(r){throw new BU(yu(r),r)}let i;const s=rQ(n);if(s&&s.getTime()>=NU["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new HD(yu(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new xa}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new HD(yu(t),n.status,t.weak_password.reasons);throw new oQ(yu(t),n.status||500,i)}const dQ=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};async function Ie(n,e,t,i){var s;const r=Object.assign({},i==null?void 0:i.headers);r[TP]||(r[TP]=NU["2024-01-01"].name),i!=null&&i.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await fQ(n,e,t+a,{headers:r,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function fQ(n,e,t,i,s,r){const o=dQ(e,i,s,r);let a;try{a=await n(t,Object.assign({},o))}catch(l){throw console.error(l),new kP(yu(l),0)}if(a.ok||await WD(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await WD(l)}}function Ea(n){var e;let t=null;vQ(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=GX(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function GD(n){const e=Ea(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function La(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function pQ(n){return{data:n,error:null}}function gQ(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:r}=n,o=cQ(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function mQ(n){return n}function vQ(n){return n.access_token&&n.refresh_token&&n.expires_in}var yQ=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};class wQ{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=FU(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:La})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=yQ(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gQ,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Se(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:La})}catch(t){if(Se(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,s,r,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(r=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:""},xform:mQ});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Se(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:La})}catch(t){if(Se(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:La})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:La})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:t,error:i}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}}}const _Q={getItem:n=>Wg()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Wg()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Wg()&&globalThis.localStorage.removeItem(n)}};function qD(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function bQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rh={debug:!!(globalThis&&Wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class SQ extends zU{}async function AQ(n,e,t){Rh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Rh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Rh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{Rh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw Rh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new SQ(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Rh.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}bQ();const xQ={url:jX,storageKey:HX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Gp=30*1e3,KD=3;async function ZD(n,e,t){return await t()}class Am{constructor(e){var t,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Am.nextInstanceID,Am.nextInstanceID+=1,this.instanceID>0&&xr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xQ),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wQ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=FU(s.fetch),this.lock=s.lock||ZD,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xr()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=AQ:this.lock=ZD,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Wg()?this.storage=_Q:(this.memoryStorage={},this.storage=qD(this.memoryStorage)):(this.memoryStorage={},this.storage=qD(this.memoryStorage)),xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${OU}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=KX(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),xr()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:r}=await this._getSessionFromURL(t,i);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),uQ(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Se(t)?{error:t}:{error:new BU("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,s;try{const r=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ea}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,i,s;try{let r;if("email"in e){const{email:c,password:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await kh(this.storage,this.storageKey)),r=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ea})}else if("phone"in e){const{phone:c,password:d,options:f}=e;r=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ea})}else throw new N0("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:o,options:a}=e;t=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:GD})}else if("phone"in e){const{phone:r,password:o,options:a}=e;t=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:GD})}else throw new N0("You must provide either an email or phone number and a password");const{data:i,error:s}=t;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new US}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,s,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await D0(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t??"").split("/");try{const{data:r,error:o}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ea});if(await O0(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new US}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:s??null}),error:o})}catch(r){if(Se(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:i,token:s,access_token:r,nonce:o}=e,a=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ea}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new US}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,s,r,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await kh(this.storage,this.storageKey));const{error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new N0("You must provide either an email or phone number.")}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,i;try{let s,r;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,r=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:s,xform:Ea});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,i,s;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await kh(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:pQ})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new xa;const{error:s}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:r}=e,{error:o}=await Ie(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:s,options:r}=e,{data:o,error:a}=await Ie(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new N0("You must provide either an email or phone number and a type")}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await D0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:La}):await this._useSession(async t=>{var i,s,r;const{data:o,error:a}=t;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xa}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:La})})}catch(t){if(Se(t))return lQ(t)&&(await this._removeSession(),await O0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:s,error:r}=i;if(r)throw r;if(!s.session)throw new xa;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await kh(this.storage,this.storageKey));const{data:u,error:c}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:La});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return VD(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xa;const t=Date.now()/1e3;let i=t,s=!0,r=null;const o=VD(e.access_token);if(o.exp&&(i=o.exp,s=i<=t),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(Se(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new xa;const{session:s,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!xr())throw new F0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new F0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new jD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new F0("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jD("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!r||!a||!o||!u)throw new F0("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const p=f-c;p*1e3<=Gp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:g,error:w}=await this._getUser(r);if(w)throw w;const v={provider_token:i,provider_refresh_token:s,access_token:r,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(i){if(Se(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await D0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:s,error:r}=t;if(r)return{error:r};const o=(i=s.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(aQ(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await O0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=qX(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,s;try{const{data:{session:r},error:o}=t;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,t={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await kh(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:s}=await this._useSession(async r=>{var o,a,l,u,c;const{data:d,error:f}=r;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return xr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Se(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,s;const{data:r,error:o}=t;if(o)throw o;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await QX(async s=>(s>0&&await XX(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ea})),(s,r)=>{const o=200*Math.pow(2,s);return r&&VS(r)&&Date.now()+o-i<Gp})}catch(i){if(this._debug(t,"error",i),Se(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),xr()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=await D0(this.storage,this.storageKey);if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),r=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<s+UD;if(this._debug(t,`session has${r?"":" not"} expired with margin of ${UD}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),VS(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new g1;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new xa;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(s,"error",r),Se(r)){const o={session:null,error:r};return VS(r)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $U(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await O0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Gp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gp}ms, refresh threshold is ${KD} ticks`),s<=KD&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const s=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await kh(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);s.push(r.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:s,error:r}=t;return r?{data:null,error:r}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,s;const{data:r,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:r}=t;if(r)return{data:null,error:r};const{data:o,error:a}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(Se(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:r}=t;return r?{data:null,error:r}:await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Se(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],s=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:s,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:s},error:r}=e;if(r)return{data:null,error:r};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Am.nextInstanceID=0;const EQ=Am;class PQ extends EQ{constructor(e){super(e)}}var CQ=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class TQ{constructor(e,t,i){var s,r,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=UX(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:LX,realtime:OX,auth:Object.assign(Object.assign({},DX),{storageKey:l}),global:IX},c=VX(i??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=c.global.headers)!==null&&r!==void 0?r:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=BX(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new eX(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new RY(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kX(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return CQ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,storageKey:r,flowType:o,lock:a,debug:l},u,c){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PQ({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:r,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new gX(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kue=(n,e,t)=>new TQ(n,e,t),ku="generated",kQ="pointerdown",RQ="pointerup",RP="pointerleave",MQ="pointerout",rh="pointermove",IQ="touchstart",YD="touchend",LQ="touchmove",DQ="touchcancel",OQ="resize",NQ="visibilitychange",Ds="tsParticles - Error",Tl=100,XD=.5,Fn=1e3;var wn;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(wn||(wn={}));function UU(n){return typeof n=="boolean"}function Wl(n){return typeof n=="string"}function Gl(n){return typeof n=="number"}function ad(n){return typeof n=="object"&&n!==null}function ho(n){return Array.isArray(n)}function K(n){return n==null}const Tr={x:0,y:0,z:0},QD=2,FQ=1;class ji{constructor(e,t,i){if(this._updateFromAngle=(s,r)=>{this.x=Math.cos(s)*r,this.y=Math.sin(s)*r},!Gl(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:Tr.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??Tr.z;else throw new Error(`${Ds} Vector3d not initialized correctly`)}static get origin(){return ji.create(Tr.x,Tr.y,Tr.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return ji.create(e.x,e.y,e.z)}static create(e,t,i){return new ji(e,t,i)}add(e){return ji.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return ji.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return ji.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**QD+this.y**QD}mult(e){return ji.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(FQ/e)}rotate(e){return ji.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Tr.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:Tr.z}sub(e){return ji.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class un extends ji{constructor(e,t){super(e,t,Tr.z)}static get origin(){return un.create(Tr.x,Tr.y)}static clone(e){return un.create(e.x,e.y)}static create(e,t){return new un(e,t)}}let $Q=Math.random;const VU={nextFrame:n=>requestAnimationFrame(n),cancel:n=>cancelAnimationFrame(n)},BQ=2,zQ=Math.PI*BQ;function st(){return Os($Q(),0,1-Number.EPSILON)}function UQ(n){return VU.nextFrame(n)}function VQ(n){VU.cancel(n)}function Os(n,e,t){return Math.min(Math.max(n,e),t)}function jS(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function qi(n){const e=to(n),t=0;let i=m1(n);return e===i&&(i=t),st()*(e-i)+i}function le(n){return Gl(n)?n:qi(n)}function m1(n){return Gl(n)?n:n.min}function to(n){return Gl(n)?n:n.max}function ze(n,e){if(n===e||e===void 0&&Gl(n))return n;const t=m1(n),i=to(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:ze(t,i)}function ni(n,e){const t=n.x-e.x,i=n.y-e.y,s=2;return{dx:t,dy:i,distance:Math.sqrt(t**s+i**s)}}function Xi(n,e){return ni(n,e).distance}function Bl(n){return n*Math.PI/180}function jQ(n,e,t){if(Gl(n))return Bl(n);const i=0,s=.5,r=.25,o=s+r;switch(n){case wn.top:return-Math.PI*s;case wn.topRight:return-Math.PI*r;case wn.right:return i;case wn.bottomRight:return Math.PI*r;case wn.bottom:return Math.PI*s;case wn.bottomLeft:return Math.PI*o;case wn.left:return Math.PI;case wn.topLeft:return-Math.PI*o;case wn.inside:return Math.atan2(t.y-e.y,t.x-e.x);case wn.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return st()*zQ}}function HQ(n){const e=un.origin;return e.length=1,e.angle=n,e}function JD(n,e,t,i){return un.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function WQ(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??st()*n.size.width,y:((t=n.position)==null?void 0:t.y)??st()*n.size.height}}function jU(n){return n?n.endsWith("%")?parseFloat(n)/Tl:parseFloat(n):1}var Ru;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(Ru||(Ru={}));var Nt;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(Nt||(Nt={}));var oh;(function(n){n.none="none",n.max="max",n.min="min"})(oh||(oh={}));var Re;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(Re||(Re={}));var cp;(function(n){n.precise="precise",n.percent="percent"})(cp||(cp={}));var Sd;(function(n){n.max="max",n.min="min",n.random="random"})(Sd||(Sd={}));const GQ={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ah(){return GQ}function eO(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:s,rectOtherSide:r,velocity:o,factor:a}=n,l=.5,u=0;return i.min<r.min||i.min>r.max||i.max<r.min||i.max>r.max||(t.max>=s.min&&t.max<=(s.max+s.min)*l&&o>u||t.min<=s.max&&t.min>(s.max+s.min)*l&&o<u)&&(e.velocity=o*-a,e.bounced=!0),e}function qQ(n,e){const t=Ns(e,i=>n.matches(i));return ho(t)?t.some(i=>i):t}function lh(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function KQ(){return!lh()&&typeof matchMedia<"u"}function HU(n){if(KQ())return matchMedia(n)}function ZQ(n){if(!(lh()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function YQ(n){if(!(lh()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Lt(n,e){return n===e||ho(e)&&e.indexOf(n)>-1}async function tO(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function XQ(n){return Math.floor(st()*n.length)}function v1(n,e,t=!0){return n[e!==void 0&&t?e%n.length:XQ(n)]}function MR(n,e,t,i,s){return QQ(Hy(n,i??0),e,t,s)}function QQ(n,e,t,i){let s=!0;return(!i||i===Re.bottom)&&(s=n.top<e.height+t.x),s&&(!i||i===Re.left)&&(s=n.right>t.x),s&&(!i||i===Re.right)&&(s=n.left<e.width+t.y),s&&(!i||i===Re.top)&&(s=n.bottom>t.y),s}function Hy(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function zn(n,...e){for(const t of e){if(t==null)continue;if(!ad(t)){n=t;continue}const i=Array.isArray(t);i&&(ad(n)||!n||!Array.isArray(n))?n=[]:!i&&(ad(n)||!n||Array.isArray(n))&&(n={});for(const s in t){if(s==="__proto__")continue;const r=t,o=r[s],a=n;a[s]=ad(o)&&Array.isArray(o)?o.map(l=>zn(a[s],l)):zn(a[s],o)}}return n}function IR(n,e){return!!qU(e,t=>t.enable&&Lt(n,t.mode))}function LR(n,e,t){Ns(e,i=>{const s=i.mode;i.enable&&Lt(n,s)&&JQ(i,t)})}function JQ(n,e){const t=n.selectors;Ns(t,i=>{e(i,n)})}function WU(n,e){if(!(!e||!n))return qU(n,t=>qQ(e,t.selectors))}function MP(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:un.create(le(n.options.bounce.horizontal.value),le(n.options.bounce.vertical.value))}}function GU(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[s,r]=[n.position,e.position],{dx:o,dy:a}=ni(r,s);if(t*o+i*a<0)return;const u=-Math.atan2(a,o),c=n.mass,d=e.mass,f=n.velocity.rotate(u),p=e.velocity.rotate(u),m=JD(f,p,c,d),g=JD(p,f,c,d),w=m.rotate(-u),v=g.rotate(-u);n.velocity.x=w.x*n.factor.x,n.velocity.y=w.y*n.factor.y,e.velocity.x=v.x*e.factor.x,e.velocity.y=v.y*e.factor.y}function eJ(n,e){const t=n.getPosition(),i=n.getRadius(),s=Hy(t,i),r=n.options.bounce,o=eO({pSide:{min:s.left,max:s.right},pOtherSide:{min:s.top,max:s.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:le(r.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(n.velocity.x=o.velocity),o.position!==void 0&&(n.position.x=o.position));const a=eO({pSide:{min:s.top,max:s.bottom},pOtherSide:{min:s.left,max:s.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:le(r.vertical.value)});a.bounced&&(a.velocity!==void 0&&(n.velocity.y=a.velocity),a.position!==void 0&&(n.position.y=a.position))}function Ns(n,e){return ho(n)?n.map((i,s)=>e(i,s)):e(n,0)}function lr(n,e,t){return ho(n)?v1(n,e,t):n}function qU(n,e){return ho(n)?n.find((i,s)=>e(i,s)):e(n,0)?n:void 0}function KU(n,e){const t=n.value,i=n.animation,s={delayTime:le(i.delay)*Fn,enable:i.enable,value:le(n.value)*e,max:to(t)*e,min:m1(t)*e,loops:0,maxLoops:le(i.count),time:0},r=1;if(i.enable){switch(s.decay=r-le(i.decay),i.mode){case Ru.increase:s.status=Nt.increasing;break;case Ru.decrease:s.status=Nt.decreasing;break;case Ru.random:s.status=st()>=XD?Nt.increasing:Nt.decreasing;break}const o=i.mode===Ru.auto;switch(i.startValue){case Sd.min:s.value=s.min,o&&(s.status=Nt.increasing);break;case Sd.max:s.value=s.max,o&&(s.status=Nt.decreasing);break;case Sd.random:default:s.value=qi(s),o&&(s.status=st()>=XD?Nt.increasing:Nt.decreasing);break}}return s.initialValue=s.value,s}function tJ(n,e){if(!(n.mode===cp.percent)){const{mode:s,...r}=n;return r}return"x"in n?{x:n.x/Tl*e.width,y:n.y/Tl*e.height}:{width:n.width/Tl*e.width,height:n.height/Tl*e.height}}function ZU(n,e){return tJ(n,e)}function nJ(n,e,t,i,s){switch(e){case oh.max:t>=s&&n.destroy();break;case oh.min:t<=i&&n.destroy();break}}function DR(n,e,t,i,s){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const c=(e.velocity??0)*s.factor,d=e.min,f=e.max,p=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=s.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Nt.increasing:e.value>=f?(t?e.status=Nt.decreasing:e.value-=f,e.loops||(e.loops=0),e.loops++):e.value+=c;break;case Nt.decreasing:e.value<=d?(t?e.status=Nt.increasing:e.value+=f,e.loops||(e.loops=0),e.loops++):e.value-=c}e.velocity&&p!==1&&(e.velocity*=p),nJ(n,i,e.value,d,f),n.destroyed||(e.value=Os(e.value,d,f))}}function ke(n,e){if(n.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${n.version}. Plugins version: ${e}`)}var IP;(function(n){n.darken="darken",n.enlighten="enlighten"})(IP||(IP={}));const tb="random",r_="mid";function iJ(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function fr(n,e,t,i=!0){if(!e)return;const s=Wl(e)?{value:e}:e;if(Wl(s.value))return YU(n,s.value,t,i);if(ho(s.value))return fr(n,{value:v1(s.value,t,i)});for(const r of n.colorManagers.values()){const o=r.handleRangeColor(s);if(o)return o}}function YU(n,e,t,i=!0){if(!e)return;const s=Wl(e)?{value:e}:e;if(Wl(s.value))return s.value===tb?QU():sJ(n,s.value);if(ho(s.value))return YU(n,{value:v1(s.value,t,i)});for(const r of n.colorManagers.values()){const o=r.handleColor(s);if(o)return o}}function xm(n,e,t,i=!0){const s=fr(n,e,t,i);return s?XU(s):void 0}function XU(n){const c=n.r/255,d=n.g/255,f=n.b/255,p=Math.max(c,d,f),m=Math.min(c,d,f),g={h:0,l:(p+m)*.5,s:0};return p!==m&&(g.s=g.l<.5?(p-m)/(p+m):(p-m)/(2-p-m),g.h=c===p?(d-f)/(p-m):g.h=d===p?2+(f-c)/(p-m):2*2+(c-d)/(p-m)),g.l*=100,g.s*=100,g.h*=60,g.h<0&&(g.h+=360),g.h>=360&&(g.h-=360),g}function sJ(n,e){return iJ(n,e)}function hp(n){const o=(n.h%360+360)%360,a=Math.max(0,Math.min(100,n.s)),l=Math.max(0,Math.min(100,n.l)),u=o/360,c=a/100,d=l/100,f=255,p=3;if(a===0){const P=Math.round(d*f);return{r:P,g:P,b:P}}const m=.5,g=2,w=(P,M,D)=>{if(D<0&&D++,D>1&&D--,D*6<1)return P+(M-P)*6*D;if(D*g<1)return M;if(D*p<1*g){const X=g/p;return P+(M-P)*(X-D)*6}return P},v=1,y=d<m?d*(v+c):d+c-d*c,_=g*d-y,A=1,E=A/p,C=Math.min(f,f*w(_,y,u+E)),T=Math.min(f,f*w(_,y,u)),k=Math.min(f,f*w(_,y,u-E));return{r:Math.round(C),g:Math.round(T),b:Math.round(k)}}function rJ(n){const e=hp(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function QU(n){return{b:Math.floor(qi(ze(0,256))),g:Math.floor(qi(ze(0,256))),r:Math.floor(qi(ze(0,256)))}}function ua(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function Em(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function OR(n,e,t,i){let s=n,r=e;return s.r===void 0&&(s=hp(n)),r.r===void 0&&(r=hp(e)),{b:jS(s.b,r.b,t,i),g:jS(s.g,r.g,t,i),r:jS(s.r,r.r,t,i)}}function LP(n,e,t){if(t===tb)return QU();if(t===r_){const i=n.getFillColor()??n.getStrokeColor(),s=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&s&&e)return OR(i,s,n.getRadius(),e.getRadius());{const r=i??s;if(r)return hp(r)}}else return t}function JU(n,e,t,i){const s=Wl(e)?e:e.value;return s===tb?i?fr(n,{value:s}):t?tb:r_:s===r_?r_:fr(n,{value:s})}function nO(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function e9(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(HS(i.h,e.h,t),HS(i.s,e.s,t),HS(i.l,e.l,t)),i}function HS(n,e,t){n.enable=e.enable;const i=0,s=1,r=0,o=0;n.enable?(n.velocity=le(e.speed)/Tl*t,n.decay=s-le(e.decay),n.status=Nt.increasing,n.loops=r,n.maxLoops=le(e.count),n.time=o,n.delayTime=le(e.delay)*Fn,e.sync||(n.velocity*=st(),n.value*=st()),n.initialValue=n.value,n.offset=ze(e.offset)):n.velocity=i}function WS(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const c=n.offset?qi(n.offset):0,d=(n.velocity??0)*i.factor+c*3.6,f=n.decay??1,p=to(e),m=m1(e);!t||n.status===Nt.increasing?(n.value+=d,n.value>p&&(n.loops||(n.loops=0),n.loops++,t?n.status=Nt.decreasing:n.value-=p)):(n.value-=d,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=Nt.increasing)),n.velocity&&f!==1&&(n.velocity*=f),n.value=Os(n.value,m,p)}function t9(n,e){if(!n)return;const{h:t,s:i,l:s}=n,r={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&WS(t,r.h,!1,e),i&&WS(i,r.s,!0,e),s&&WS(s,r.l,!0,e)}const dp={x:0,y:0},$0={a:1,b:0,c:0,d:1};function Gg(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function oJ(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(dp.x,dp.y,e.width,e.height)}function aJ(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,dp.x,dp.y,e.width,e.height),n.globalAlpha=1)}function GS(n,e){n.clearRect(dp.x,dp.y,e.width,e.height)}function lJ(n){const{container:e,context:t,particle:i,delta:s,colorStyles:r,backgroundMask:o,composite:a,radius:l,opacity:u,shadow:c,transform:d}=n,f=i.getPosition(),p=0,m=i.rotation+(i.pathRotation?i.velocity.angle:p),g={sin:Math.sin(m),cos:Math.cos(m)},w=!!m,v=1,y={a:g.cos*(d.a??$0.a),b:w?g.sin*(d.b??v):d.b??$0.b,c:w?-g.sin*(d.c??v):d.c??$0.c,d:g.cos*(d.d??$0.d)};t.setTransform(y.a,y.b,y.c,y.d,f.x,f.y),o&&(t.globalCompositeOperation=a);const _=i.shadowColor;c.enable&&_&&(t.shadowBlur=c.blur,t.shadowColor=ua(_),t.shadowOffsetX=c.offset.x,t.shadowOffsetY=c.offset.y),r.fill&&(t.fillStyle=r.fill);const A=0,E=i.strokeWidth??A;t.lineWidth=E,r.stroke&&(t.strokeStyle=r.stroke);const C={container:e,context:t,particle:i,radius:l,opacity:u,delta:s,transformData:y,strokeWidth:E};cJ(C),hJ(C),uJ(C),t.globalCompositeOperation="source-over",t.resetTransform()}function uJ(n){const{container:e,context:t,particle:i,radius:s,opacity:r,delta:o,transformData:a}=n;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:t,particle:i,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function cJ(n){const{container:e,context:t,particle:i,radius:s,opacity:r,delta:o,strokeWidth:a,transformData:l}=n,u=0;if(!i.shape)return;const c=e.shapeDrawers.get(i.shape);c&&(t.beginPath(),c.draw({context:t,particle:i,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&t.closePath(),a>u&&t.stroke(),i.shapeFill&&t.fill())}function hJ(n){const{container:e,context:t,particle:i,radius:s,opacity:r,delta:o,transformData:a}=n;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l!=null&&l.afterDraw&&l.afterDraw({context:t,particle:i,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function dJ(n,e,t){e.draw&&e.draw(n,t)}function fJ(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function pJ(n,e,t){return{h:n.h,s:n.s,l:n.l+(e===IP.darken?-1:1)*t}}function gJ(n,e,t){const i=e[t],s=1;i!==void 0&&(n[t]=(n[t]??s)*i)}function iO(n,e,t=!1){if(!e)return;const i=n;if(!i)return;const s=i.style;if(s)for(const r in e){const o=e[r];s.setProperty(r,o,t?"important":"")}}class mJ{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=r=>{var o;for(const a of this._postDrawUpdaters)(o=a.afterDraw)==null||o.call(a,r)},this._applyPreDrawUpdaters=(r,o,a,l,u,c)=>{var d;for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:p,stroke:m}=f.getColorStyles(o,r,a,l);p&&(u.fill=p),m&&(u.stroke=m)}if(f.getTransformValues){const p=f.getTransformValues(o);for(const m in p)gJ(c,p,m)}(d=f.beforeDraw)==null||d.call(f,o)}},this._applyResizePlugins=()=>{var r;for(const o of this._resizePlugins)(r=o.resize)==null||r.call(o)},this._getPluginParticleColors=r=>{let o,a;for(const l of this._colorPlugins)if(!o&&l.particleFillColor&&(o=xm(this._engine,l.particleFillColor(r))),!a&&l.particleStrokeColor&&(a=xm(this._engine,l.particleStrokeColor(r))),o&&a)break;return[o,a]},this._initCover=async()=>{const r=this.container.actualOptions,o=r.backgroundMask.cover,a=o.color;if(a){const l=fr(this._engine,a);if(l){const u={...l,a:o.opacity};this._coverColorStyle=ua(u,u.a)}}else await new Promise((l,u)=>{if(!o.image)return;const c=document.createElement("img");c.addEventListener("load",()=>{this._coverImage={image:c,opacity:o.opacity},l()}),c.addEventListener("error",d=>{u(d.error)}),c.src=o.image})},this._initStyle=()=>{const r=this.element,o=this.container.actualOptions;if(r){this._fullScreen?(this._originalStyle=zn({},r.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const a in o.style){if(!a||!o.style)continue;const l=o.style[a];l&&r.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const r=this.container.actualOptions,o=r.particles.move.trail,a=o.fill;if(!o.enable)return;const l=1,u=l/o.length;if(a.color){const c=fr(this._engine,a.color);if(!c)return;this._trailFill={color:{...c},opacity:u}}else await new Promise((c,d)=>{if(!a.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._trailFill={image:f,opacity:u},c()}),f.addEventListener("error",p=>{d(p.error)}),f.src=a.image})},this._paintBase=r=>{this.draw(o=>oJ(o,this.size,r))},this._paintImage=(r,o)=>{this.draw(a=>aJ(a,this.size,r,o))},this._repairStyle=()=>{const r=this.element;r&&(this._safeMutationObserver(o=>o.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(o=>{!r||!(r instanceof Node)||o.observe(r,{attributes:!0})}))},this._resetOriginalStyle=()=>{const r=this.element,o=this._originalStyle;r&&o&&iO(r,o)},this._safeMutationObserver=r=>{this._mutationObserver&&r(this._mutationObserver)},this._setFullScreenStyle=()=>{const r=this.element;if(!r)return;const o=10,a=this.container.actualOptions.fullScreen.zIndex.toString(o);iO(r,{position:"fixed","z-index":a,zIndex:a,top:"0",left:"0",width:"100%",height:"100%"},!0)},this._engine=t,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,s=this._standardSize;this.size={height:s.height*i,width:s.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(ua(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{GS(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),o=e.getStrokeColor()??r;let[a,l]=this._getPluginParticleColors(e);a||(a=r),l||(l=o),!(!a&&!l)&&this.draw(u=>{var T;const c=this.container,d=c.actualOptions,f=e.options.zIndex,p=1,m=p-e.zIndexFactor,g=m**f.opacityRate,w=1,v=e.bubble.opacity??((T=e.opacity)==null?void 0:T.value)??w,y=e.strokeOpacity??v,_=v*g,A=y*g,E={},C={fill:a?Em(a,_):void 0};C.stroke=l?Em(l,A):C.fill,this._applyPreDrawUpdaters(u,e,i,_,C,E),lJ({container:c,context:u,particle:e,delta:t,colorStyles:C,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*m**f.sizeRate,opacity:_,shadow:e.options.shadow,transform:E}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(s=>fJ(s,e,t,i))}drawPlugin(e,t){this.draw(i=>dJ(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=YQ(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){ah().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const s=i.style;if(s){if(t.color){const r=fr(this._engine,t.color);s.backgroundColor=r?ua(r,t.opacity):""}else s.backgroundColor="";s.backgroundImage=t.image||"",s.backgroundPosition=t.position||"",s.backgroundRepeat=t.repeat||"",s.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&ku in e.dataset?e.dataset[ku]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=zn({},this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const i=this.container.retina.pixelRatio,s=this.size;e.height=s.height=t.height*i,e.width=s.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(r=>{!this.element||!(this.element instanceof Node)||r.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(GS(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},s=e.retina.pixelRatio,r={width:i.width*s,height:i.height*s};if(i.height===t.height&&i.width===t.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const o={...t};t.height=i.height,t.width=i.width;const a=this.size;return this.element.width=a.width=r.width,this.element.height=a.height=r.height,this.container.started&&e.particles.setResizeFactor({width:t.width/o.width,height:t.height/o.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>GS(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}var Ad;(function(n){n.canvas="canvas",n.parent="parent",n.window="window"})(Ad||(Ad={}));const sO=2;function cs(n,e,t,i,s){if(i){let r={passive:!0};UU(s)?r.capture=s:s!==void 0&&(r=s),n.addEventListener(e,t,r)}else{const r=s;n.removeEventListener(e,t,r)}}class vJ{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,s=i.actualOptions;if(this._canPush){const r=i.interactivity.mouse,o=r.position;if(!o)return;r.clickPosition={...o},r.clickTime=new Date().getTime();const a=s.interactivity.events.onClick;Ns(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,s=this.container,r=s.options,o=r.defaultThemes,a=i.matches?o.dark:o.light,l=r.themes.find(u=>u.name===a);l!=null&&l.default.auto&&s.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*Fn)},this._manageInteractivityListeners=(t,i)=>{const s=this._handlers,r=this.container,o=r.actualOptions,a=r.interactivity.element;if(!a)return;const l=a,u=r.canvas.element;u&&(u.style.pointerEvents=l===u?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(cs(a,rh,s.mouseMove,i),cs(a,IQ,s.touchStart,i),cs(a,LQ,s.touchMove,i),o.interactivity.events.onClick.enable?(cs(a,YD,s.touchEndClick,i),cs(a,RQ,s.mouseUp,i),cs(a,kQ,s.mouseDown,i)):cs(a,YD,s.touchEnd,i),cs(a,t,s.mouseLeave,i),cs(a,DQ,s.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,s=this.container,r=s.actualOptions,o=r.interactivity.detectsOn,a=s.canvas.element;let l=RP;o===Ad.window?(s.interactivity.element=window,l=MQ):o===Ad.parent&&a?s.interactivity.element=a.parentElement??a.parentNode:s.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&cs(document,NQ,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,s=HU("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){cs(s,"change",i.themeChange,t);return}s.addListener!==void 0&&(t?s.addListener(i.oldThemeChange):s.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){cs(window,OQ,i.resize,t);return}const o=s.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(a=>{a.find(u=>u.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,s=i.actualOptions,{mouse:r}=i.interactivity;r.inside=!0;let o=!1;const a=r.position;if(!(!a||!s.interactivity.events.onClick.enable)){for(const l of i.plugins.values())if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),r.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=RP,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,s=i.actualOptions,r=i.interactivity,o=i.canvas.element;if(!(r!=null&&r.element))return;r.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const u=t;if(r.element===window){if(o){const c=o.getBoundingClientRect();a={x:u.clientX-c.left,y:u.clientY-c.top}}}else if(s.interactivity.detectsOn===Ad.parent){const c=u.target,d=u.currentTarget;if(c&&d&&o){const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=o.getBoundingClientRect();a={x:u.offsetX+sO*f.left-(p.left+m.left),y:u.offsetY+sO*f.top-(p.top+m.top)}}else a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=t.type!=="touchmove",o){const u=t,c=1,d=u.touches[u.touches.length-c],f=o.getBoundingClientRect(),p=0;a={x:d.clientX-(f.left??p),y:d.clientY-(f.top??p)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),r.mouse.position=a,r.status=rh},this._touchEnd=t=>{const i=t,s=Array.from(i.changedTouches);for(const r of s)this._touches.delete(r.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,s=Array.from(i.changedTouches);for(const r of s)this._touches.delete(r.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,s=Array.from(i.changedTouches);for(const r of s)this._touches.set(r.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Xn;(function(n){n.configAdded="configAdded",n.containerInit="containerInit",n.particlesSetup="particlesSetup",n.containerStarted="containerStarted",n.containerStopped="containerStopped",n.containerDestroyed="containerDestroyed",n.containerPaused="containerPaused",n.containerPlay="containerPlay",n.containerBuilt="containerBuilt",n.particleAdded="particleAdded",n.particleDestroyed="particleDestroyed",n.particleRemoved="particleRemoved"})(Xn||(Xn={}));class Un{constructor(){this.value=""}static create(e,t){const i=new Un;return i.load(e),t!==void 0&&(Wl(t)||ho(t)?i.load({value:t}):i.load(t)),i}load(e){K(e)||K(e.value)||(this.value=e.value)}}class yJ{constructor(){this.color=new Un,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){K(e)||(e.color!==void 0&&(this.color=Un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class wJ{constructor(){this.opacity=1}load(e){K(e)||(e.color!==void 0&&(this.color=Un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class _J{constructor(){this.composite="destination-out",this.cover=new wJ,this.enable=!1}load(e){if(!K(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Wl(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class bJ{constructor(){this.enable=!0,this.zIndex=0}load(e){K(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class SJ{constructor(){this.enable=!1,this.mode=[]}load(e){K(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var fp;(function(n){n.circle="circle",n.rectangle="rectangle"})(fp||(fp={}));class rO{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=fp.circle}load(e){K(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class AJ{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){K(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class xJ{constructor(){this.enable=!1,this.mode=[],this.parallax=new AJ}load(e){K(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class EJ{constructor(){this.delay=.5,this.enable=!0}load(e){K(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class PJ{constructor(){this.onClick=new SJ,this.onDiv=new rO,this.onHover=new xJ,this.resize=new EJ}load(e){if(K(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=Ns(t,i=>{const s=new rO;return s.load(i),s})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class CJ{constructor(e,t){this._engine=e,this._container=t}load(e){if(K(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class n9{constructor(e,t){this.detectsOn=Ad.window,this.events=new PJ,this.modes=new CJ(e,t)}load(e){if(K(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}const oO=50;class TJ{load(e){K(e)||(e.position&&(this.position={x:e.position.x??oO,y:e.position.y??oO,mode:e.position.mode??cp.percent}),e.options&&(this.options=zn({},e.options)))}}var Mu;(function(n){n.screen="screen",n.canvas="canvas"})(Mu||(Mu={}));class kJ{constructor(){this.maxWidth=1/0,this.options={},this.mode=Mu.canvas}load(e){K(e)||(K(e.maxWidth)||(this.maxWidth=e.maxWidth),K(e.mode)||(e.mode===Mu.screen?this.mode=Mu.screen:this.mode=Mu.canvas),K(e.options)||(this.options=zn({},e.options)))}}var Da;(function(n){n.any="any",n.dark="dark",n.light="light"})(Da||(Da={}));class RJ{constructor(){this.auto=!1,this.mode=Da.any,this.value=!1}load(e){K(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class MJ{constructor(){this.name="",this.default=new RJ}load(e){K(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=zn({},e.options)))}}class NR{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){K(e)||(e.count!==void 0&&(this.count=ze(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ze(e.speed)),e.decay!==void 0&&(this.decay=ze(e.decay)),e.delay!==void 0&&(this.delay=ze(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class FR extends NR{constructor(){super(),this.mode=Ru.auto,this.startValue=Sd.random}load(e){super.load(e),!K(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class qS extends NR{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!K(e)&&e.offset!==void 0&&(this.offset=ze(e.offset))}}class IJ{constructor(){this.h=new qS,this.s=new qS,this.l=new qS}load(e){K(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Pm extends Un{constructor(){super(),this.animation=new IJ}static create(e,t){const i=new Pm;return i.load(e),t!==void 0&&(Wl(t)||ho(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),K(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var xd;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(xd||(xd={}));class LJ{constructor(){this.speed=2}load(e){K(e)||e.speed!==void 0&&(this.speed=e.speed)}}class DJ{constructor(){this.enable=!0,this.retries=0}load(e){K(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class yh{constructor(){this.value=0}load(e){K(e)||K(e.value)||(this.value=ze(e.value))}}class OJ extends yh{constructor(){super(),this.animation=new NR}load(e){if(super.load(e),K(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class i9 extends OJ{constructor(){super(),this.animation=new FR}load(e){super.load(e)}}class aO extends yh{constructor(){super(),this.value=1}}class s9{constructor(){this.horizontal=new aO,this.vertical=new aO}load(e){K(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class NJ{constructor(){this.absorb=new LJ,this.bounce=new s9,this.enable=!1,this.maxSpeed=50,this.mode=xd.bounce,this.overlap=new DJ}load(e){K(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ze(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class FJ{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(K(e))return;const t=e.options;if(t!==void 0)for(const i in t){const s=t[i];s&&(this.options[i]=zn(this.options[i]??{},s))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class $J{constructor(){this.offset=0,this.value=90}load(e){K(e)||(e.offset!==void 0&&(this.offset=ze(e.offset)),e.value!==void 0&&(this.value=ze(e.value)))}}class BJ{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!K(e)&&(e.distance!==void 0&&(this.distance=ze(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class zJ{constructor(){this.x=50,this.y=50,this.mode=cp.percent,this.radius=0}load(e){K(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class UJ{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){K(e)||(e.acceleration!==void 0&&(this.acceleration=ze(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ze(e.maxSpeed)))}}class VJ{constructor(){this.clamp=!0,this.delay=new yh,this.enable=!1,this.options={}}load(e){K(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=zn(this.options,e.options)))}}class jJ{load(e){K(e)||(e.color!==void 0&&(this.color=Un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class HJ{constructor(){this.enable=!1,this.length=10,this.fill=new jJ}load(e){K(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Bt;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})(Bt||(Bt={}));class WJ{constructor(){this.default=Bt.out}load(e){K(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class GJ{constructor(){this.acceleration=0,this.enable=!1}load(e){K(e)||(e.acceleration!==void 0&&(this.acceleration=ze(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=zn({},e.position)))}}class qJ{constructor(){this.angle=new $J,this.attract=new BJ,this.center=new zJ,this.decay=0,this.distance={},this.direction=wn.none,this.drift=0,this.enable=!1,this.gravity=new UJ,this.path=new VJ,this.outModes=new WJ,this.random=!1,this.size=!1,this.speed=2,this.spin=new GJ,this.straight=!1,this.trail=new HJ,this.vibrate=!1,this.warp=!1}load(e){if(K(e))return;this.angle.load(Gl(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ze(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Gl(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ze(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(ad(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ze(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class KJ extends FR{constructor(){super(),this.destroy=oh.none,this.speed=2}load(e){super.load(e),!K(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class ZJ extends i9{constructor(){super(),this.animation=new KJ,this.value=1}load(e){if(K(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class YJ{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(K(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var Cm;(function(n){n.delete="delete",n.wait="wait"})(Cm||(Cm={}));class XJ{constructor(){this.mode=Cm.delete,this.value=0}load(e){K(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class QJ{constructor(){this.density=new YJ,this.limit=new XJ,this.value=0}load(e){K(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class JJ{constructor(){this.blur=0,this.color=new Un,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){K(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class eee{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(K(e))return;const t=e.options;if(t!==void 0)for(const i in t){const s=t[i];s&&(this.options[i]=zn(this.options[i]??{},s))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class tee extends FR{constructor(){super(),this.destroy=oh.none,this.speed=5}load(e){super.load(e),!K(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class nee extends i9{constructor(){super(),this.animation=new tee,this.value=3}load(e){if(super.load(e),K(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class lO{constructor(){this.width=0}load(e){K(e)||(e.color!==void 0&&(this.color=Pm.create(this.color,e.color)),e.width!==void 0&&(this.width=ze(e.width)),e.opacity!==void 0&&(this.opacity=ze(e.opacity)))}}class iee extends yh{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!K(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class see{constructor(e,t){this._engine=e,this._container=t,this.bounce=new s9,this.collisions=new NJ,this.color=new Pm,this.color.value="#fff",this.effect=new FJ,this.groups={},this.move=new qJ,this.number=new QJ,this.opacity=new ZJ,this.reduceDuplicates=!1,this.shadow=new JJ,this.shape=new eee,this.size=new nee,this.stroke=new lO,this.zIndex=new iee}load(e){if(K(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const s=e.groups[i];s!==void 0&&(this.groups[i]=zn(this.groups[i]??{},s))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Pm.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=zn({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=Ns(t,i=>{const s=new lO;return s.load(i),s})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const r of i)r.loadOptions&&r.loadOptions(this,e);const s=this._engine.interactors.get(this._container);if(s)for(const r of s)r.loadParticlesOptions&&r.loadParticlesOptions(this,e)}}}function r9(n,...e){for(const t of e)n.load(t)}function o9(n,e,...t){const i=new see(n,e);return r9(i,...t),i}class ree{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(s=>s.default.value&&s.default.mode===i)??this.themes.find(s=>s.default.value&&s.default.mode===Da.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new yJ,this.backgroundMask=new _J,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new bJ,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new n9(e,t),this.manualParticles=[],this.particles=o9(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(K(e))return;e.preset!==void 0&&Ns(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=ze(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=ze(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const s=e.fullScreen;UU(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const u=new TJ;return u.load(l),u})),this.particles.load(e.particles),this.style=zn(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const r=this._engine.interactors.get(this._container);if(r)for(const l of r)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const u=new kJ;u.load(l),this.responsive.push(u)}if(this.responsive.sort((l,u)=>l.maxWidth-u.maxWidth),e.themes!==void 0)for(const l of e.themes){const u=this.themes.find(c=>c.name===l.name);if(u)u.load(l);else{const c=new MJ;c.load(l),this.themes.push(c)}}this.defaultThemes.dark=(o=this._findDefaultTheme(Da.dark))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme(Da.light))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const s=this.responsive.find(r=>r.mode===Mu.screen&&screen?r.maxWidth>screen.availWidth:r.maxWidth*t>e);return this.load(s==null?void 0:s.options),s==null?void 0:s.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=HU("(prefers-color-scheme: dark)"),i=t==null?void 0:t.matches,s=this._findDefaultTheme(i?Da.dark:Da.light);s&&this.load(s.options)}}}var pp;(function(n){n.external="external",n.particles="particles"})(pp||(pp={}));class oee{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){var t;for(const i of this._externalInteractors)(t=i.handleClickMode)==null||t.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case pp.external:this._externalInteractors.push(e);break;case pp.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var pr;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(pr||(pr={}));const uO=0,DP=2,B0=.5,aee=2,cO="random";function lee(n,e,t,i){const s=e.options[n];if(s)return zn({close:e.close,fill:e.fill},lr(s,t,i))}function uee(n,e,t,i){const s=e.options[n];if(s)return zn({close:e.close,fill:e.fill},lr(s,t,i))}function hO(n){if(!Lt(n.outMode,n.checkModes))return;const e=n.radius*DP;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class cee{constructor(e,t){this.container=t,this._calcPosition=(i,s,r,o=uO)=>{for(const m of i.plugins.values()){const g=m.particlePosition!==void 0?m.particlePosition(s,this):void 0;if(g)return ji.create(g.x,g.y,r)}const a=i.canvas.size,l=WQ({size:a,position:s}),u=ji.create(l.x,l.y,r),c=this.getRadius(),d=this.options.move.outModes,f=m=>{hO({outMode:m,checkModes:[Bt.bounce],coord:u.x,maxCoord:i.canvas.size.width,setCb:g=>u.x+=g,radius:c})},p=m=>{hO({outMode:m,checkModes:[Bt.bounce],coord:u.y,maxCoord:i.canvas.size.height,setCb:g=>u.y+=g,radius:c})};return f(d.left??d.default),f(d.right??d.default),p(d.top??d.default),p(d.bottom??d.default),this._checkOverlap(u,o)?this._calcPosition(i,void 0,r,o+1):u},this._calculateVelocity=()=>{const i=HQ(this.direction),s=i.copy(),r=this.options.move;if(r.direction===wn.inside||r.direction===wn.outside)return s;const o=Bl(le(r.angle.value)),a=Bl(le(r.angle.offset)),l={left:a-o*B0,right:a+o*B0};return r.straight||(s.angle+=qi(ze(l.left,l.right))),r.random&&typeof r.speed=="number"&&(s.length*=st()),s},this._checkOverlap=(i,s=uO)=>{const r=this.options.collisions,o=this.getRadius();if(!r.enable)return!1;const a=r.overlap;if(a.enable)return!1;const l=a.retries;if(l>=0&&s>l)throw new Error(`${Ds} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>Xi(i,c.position)<o+c.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const s=1,r=0,o=this.roll.horizontal&&this.roll.vertical?DP*s:s,a=this.roll.horizontal?Math.PI*B0:r;return Math.floor(((this.roll.angle??r)+a)/(Math.PI/o))%DP?this.backColor?this.backColor:this.roll.alter?pJ(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const s=this.container,r=le(this.options.zIndex.value),o=0;this.position=this._calcPosition(s,i,Os(r,o,s.zLayers)),this.initialPosition=this.position.copy();const a=s.canvas.size,l=0;switch(this.moveCenter={...ZU(this.options.move.center,a),radius:this.options.move.center.radius??l,mode:this.options.move.center.mode??cp.percent},this.direction=jQ(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case wn.inside:this.outType=pr.inside;break;case wn.outside:this.outType=pr.outside;break}this.offset=un.origin},this._engine=e}destroy(e){var r,o,a;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator,s=t.shapeDrawers.get(this.shape);(r=s==null?void 0:s.particleDestroy)==null||r.call(s,this);for(const l of t.plugins.values())(o=l.particleDestroyed)==null||o.call(l,this,e);for(const l of t.particles.updaters)(a=l.particleDestroyed)==null||a.call(l,this,e);i==null||i.reset(this),this._engine.dispatchEvent(Xn.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const s of t.plugins.values())i.drawParticlePlugin(s,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??nO(this.color))}getMass(){return this.getRadius()**aee*Math.PI*B0}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??nO(this.strokeColor))}init(e,t,i,s){var k,P,M,D,H,W;const r=this.container,o=this._engine;this.id=e,this.group=s,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=pr.normal,this.ignoresResizeRatio=!0;const a=r.retina.pixelRatio,l=r.actualOptions,u=o9(this._engine,r,l.particles),{reduceDuplicates:c}=u,d=u.effect.type,f=u.shape.type;this.effect=lr(d,this.id,c),this.shape=lr(f,this.id,c);const p=u.effect,m=u.shape;if(i){if((k=i.effect)!=null&&k.type){const F=i.effect.type,X=lr(F,this.id,c);X&&(this.effect=X,p.load(i.effect))}if((P=i.shape)!=null&&P.type){const F=i.shape.type,X=lr(F,this.id,c);X&&(this.shape=X,m.load(i.shape))}}if(this.effect===cO){const F=[...this.container.effectDrawers.keys()];this.effect=F[Math.floor(Math.random()*F.length)]}if(this.shape===cO){const F=[...this.container.shapeDrawers.keys()];this.shape=F[Math.floor(Math.random()*F.length)]}this.effectData=lee(this.effect,p,this.id,c),this.shapeData=uee(this.shape,m,this.id,c),u.load(i);const g=this.effectData;g&&u.load(g.particles);const w=this.shapeData;w&&u.load(w.particles);const v=new n9(o,r);v.load(r.actualOptions.interactivity),v.load(u.interactivity),this.interactivity=v,this.effectFill=(g==null?void 0:g.fill)??u.effect.fill,this.effectClose=(g==null?void 0:g.close)??u.effect.close,this.shapeFill=(w==null?void 0:w.fill)??u.shape.fill,this.shapeClose=(w==null?void 0:w.close)??u.shape.close,this.options=u;const y=this.options.move.path;this.pathDelay=le(y.delay.value)*Fn,y.generator&&(this.pathGenerator=this._engine.getPathGenerator(y.generator),this.pathGenerator&&r.addPath(y.generator,this.pathGenerator)&&this.pathGenerator.init(r)),r.retina.initParticle(this),this.size=KU(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy();const _=1;this.moveDecay=_-le(this.options.move.decay);const A=r.particles;A.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/r.zLayers,this.sides=24;let E=r.effectDrawers.get(this.effect);E||(E=this._engine.getEffectDrawer(this.effect),E&&r.effectDrawers.set(this.effect,E)),E!=null&&E.loadEffect&&E.loadEffect(this);let C=r.shapeDrawers.get(this.shape);C||(C=this._engine.getShapeDrawer(this.shape),C&&r.shapeDrawers.set(this.shape,C)),C!=null&&C.loadShape&&C.loadShape(this);const T=C==null?void 0:C.getSidesCount;T&&(this.sides=T(this)),this.spawning=!1,this.shadowColor=fr(this._engine,this.options.shadow.color);for(const F of A.updaters)F.init(this);for(const F of A.movers)(M=F.init)==null||M.call(F,this);(D=E==null?void 0:E.particleInit)==null||D.call(E,r,this),(H=C==null?void 0:C.particleInit)==null||H.call(C,r,this);for(const F of r.plugins.values())(W=F.particleCreated)==null||W.call(F,this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const t of this.container.particles.updaters)(e=t.reset)==null||e.call(t,this)}}class hee{constructor(e,t){this.position=e,this.particle=t}}var Ed;(function(n){n.circle="circle",n.rectangle="rectangle"})(Ed||(Ed={}));const qp=2;class a9{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class $n extends a9{constructor(e,t,i){super(e,t,Ed.circle),this.radius=i}contains(e){return Xi(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,s={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},r=this.radius;if(e instanceof $n||e.type===Ed.circle){const o=e,a=r+o.radius,l=Math.sqrt(s.x**qp+s.y**qp);return a>l}else if(e instanceof vr||e.type===Ed.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(s.x-a,qp)+Math.pow(s.y-l,qp)<=r**qp||s.x<=r+a&&s.y<=r+l||s.x<=a||s.y<=l}return!1}}class vr extends a9{constructor(e,t,i,s){super(e,t,Ed.rectangle),this.size={height:s,width:i}}contains(e){const t=this.size.width,i=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+t&&e.y>=s.y&&e.y<=s.y+i}intersects(e){if(e instanceof $n)return e.intersects(this);const t=this.size.width,i=this.size.height,s=this.position,r=e.position,o=e instanceof vr?e.size:{width:0,height:0},a=o.width,l=o.height;return r.x<s.x+t&&r.x+a>s.x&&r.y<s.y+i&&r.y+l>s.y}}const Kp=.5,dee=2,fee=4;class nb{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:s}=this.rectangle.position,{width:r,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<fee;l++){const u=l%dee;this._subs.push(new nb(new vr(i+r*Kp*u,s+o*Kp*(Math.round(l*Kp)-u),r*Kp,o*Kp),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const i=[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&Xi(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||i.push(s.particle);if(this._divided)for(const s of this._subs)i.push(...s.query(e,t));return i}queryCircle(e,t,i){return this.query(new $n(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new vr(e.x,e.y,t.width,t.height),i)}}const dO=4,pee=2,gee=1,fO=n=>{const{height:e,width:t}=n,i=-.25,s=1.5;return new vr(i*t,i*e,s*t,s*e)};class mee{constructor(e,t){this._addToPool=(...s)=>{this._pool.push(...s)},this._applyDensity=(s,r,o)=>{var m;const a=s.number;if(!((m=s.number.density)!=null&&m.enable)){o===void 0?this._limit=a.limit.value:a.limit&&this._groupLimits.set(o,a.limit.value);return}const l=this._initDensityFactor(a.density),u=a.value,c=0,d=a.limit.value>c?a.limit.value:u,f=Math.min(u,d)*l+r,p=Math.min(this.count,this.filter(g=>g.group===o).length);o===void 0?this._limit=a.limit.value*l:this._groupLimits.set(o,a.limit.value*l),p<f?this.push(Math.abs(f-p),void 0,s,o):p>f&&this.removeQuantity(p-f,o)},this._initDensityFactor=s=>{const r=this._container,o=1;if(!r.canvas.element||!s.enable)return o;const a=r.canvas.element,l=r.retina.pixelRatio;return a.width*a.height/(s.height*s.width*l**pee)},this._pushParticle=(s,r,o,a)=>{try{let l=this._pool.pop();l||(l=new cee(this._engine,this._container)),l.init(this._nextId,s,r,o);let u=!0;return a&&(u=a(l)),u?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(Xn.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){ah().warning(`${Ds} adding particle: ${l}`)}},this._removeParticle=(s,r,o)=>{const a=this._array[s];if(!a||a.group!==r)return!1;const l=this._zArray.indexOf(a),u=1;return this._array.splice(s,u),this._zArray.splice(l,u),a.destroy(o),this._engine.dispatchEvent(Xn.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new oee(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new nb(fO(i),dO),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?ZU(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,s){const r=this._container.actualOptions.particles.number.limit.mode,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(o>0)switch(r){case Cm.delete:{const d=a+1-o;d>0&&this.removeQuantity(d);break}case Cm.wait:if(a>=o)return;break}return this._pushParticle(e,t,i,s)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,i=t.canvas;i.clear(),this.update(e);for(const s of t.plugins.values())i.drawPlugin(s,e);for(const s of this._zArray)s.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var s,r;const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const o of e.plugins.values())if(i=((s=o.particlesInitialization)==null?void 0:s.call(o))??i,i)break;if(this.addManualParticles(),!i){const o=t.particles,a=o.groups;for(const l in a){const u=a[l];for(let c=this.count,d=0;d<((r=u.number)==null?void 0:r.value)&&c<o.number.value;c++,d++)this.addParticle(void 0,u,l)}for(let l=this.count;l<o.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,i,s){for(let r=0;r<e;r++)this.addParticle(t==null?void 0:t.position,i,s)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=gee,i,s){if(e<0||e>this.count)return;let o=0;for(let a=e;o<t&&a<this.count;a++)this._removeParticle(a,i,s)&&(a--,o++)}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups,i=0;for(const s in t)this._applyDensity(t[s],i,s);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var r,o;const t=this._container,i=new Set;this.quadTree=new nb(fO(t.canvas.size),dO);for(const a of t.pathGenerators.values())a.update();for(const a of t.plugins.values())(r=a.update)==null||r.call(a,e);const s=this._resizeFactor;for(const a of this._array){s&&!a.ignoresResizeRatio&&(a.position.x*=s.width,a.position.y*=s.height,a.initialPosition.x*=s.width,a.initialPosition.y*=s.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const l of this._container.plugins.values()){if(a.destroyed)break;(o=l.particleUpdate)==null||o.call(l,a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){i.add(a);continue}this.quadTree.insert(new hee(a.getPosition(),a))}if(i.size){const a=l=>!i.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const l of i)this._engine.dispatchEvent(Xn.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((u,c)=>c.position.z-u.position.z||u.id-c.id);const l=1;this._lastZIndex=a[a.length-l].position.z,this._needsSort=!1}}}const pO=1,gO=1;class vee{constructor(e){this.container=e,this.pixelRatio=pO,this.reduceFactor=gO}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||lh()?pO:window.devicePixelRatio,this.reduceFactor=gO;const i=this.pixelRatio,s=e.canvas;if(s.element){const a=s.element;s.size.width=a.offsetWidth*i,s.size.height=a.offsetHeight*i}const r=t.particles,o=r.move;this.maxSpeed=le(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=le(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,s=t.move,r=s.distance,o=e.retina;o.moveDrift=le(s.drift)*i,o.moveSpeed=le(s.speed)*i,o.sizeAnimationSpeed=le(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=r.horizontal!==void 0?r.horizontal*i:void 0,a.vertical=r.vertical!==void 0?r.vertical*i:void 0,o.maxSpeed=le(s.gravity.maxSpeed)*i}}function At(n){return n&&!n.destroyed}const KS=60;function yee(n,e=KS,t=!1){return{value:n,factor:t?KS/e:KS*n/Fn}}function Mh(n,e,...t){const i=new ree(n,e);return r9(i,...t),i}class wee{constructor(e,t,i){this._intersectionManager=s=>{if(!(!At(this)||!this.actualOptions.pauseOnOutsideViewport))for(const r of s)r.target===this.interactivity.element&&(r.isIntersecting?this.play():this.pause())},this._nextFrame=s=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&s<this._lastFrameTime+Fn/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=s);const r=yee(s-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(r.value),this._lastFrameTime=s,r.value>Fn){this.draw(!1);return}if(this.particles.draw(r),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(r){ah().error(`${Ds} in animation loop`,r)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new vee(this),this.canvas=new mJ(this,this._engine),this.particles=new mee(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=Mh(this._engine,this),this.actualOptions=Mh(this._engine,this),this._eventListeners=new vJ(this),this._intersectionObserver=ZQ(s=>this._intersectionManager(s)),this._engine.dispatchEvent(Xn.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&At(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!At(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,f,p)=>{if(!At(this))return;const m=this.retina.pixelRatio,g={x:f.x*m,y:f.y*m},w=this.particles.quadTree.queryCircle(g,p*m);e(d,w)},s=d=>{if(!At(this))return;const f=d,p={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};i(d,p,1)},r=()=>{At(this)&&(u=!0,c=!1)},o=()=>{At(this)&&(c=!0)},a=d=>{if(At(this)){if(u&&!c){const f=d,p=1;let m=f.touches[f.touches.length-p];if(!m&&(m=f.changedTouches[f.changedTouches.length-p],!m))return;const g=this.canvas.element,w=g?g.getBoundingClientRect():void 0,v=0,y={x:m.clientX-(w?w.left:v),y:m.clientY-(w?w.top:v)};i(d,y,Math.max(m.radiusX,m.radiusY))}u=!1,c=!1}},l=()=>{At(this)&&(u=!1,c=!1)};let u=!1,c=!1;this._clickHandlers.set("click",s),this._clickHandlers.set("touchstart",r),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(const[d,f]of this._clickHandlers)t.addEventListener(d,f)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!At(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(At(this)){for(const[t,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(t,i);this._clickHandlers.clear()}}destroy(e=!0){var t,i;if(At(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const s of this.effectDrawers.values())(t=s.destroy)==null||t.call(s,this);for(const s of this.shapeDrawers.values())(i=s.destroy)==null||i.call(s,this);for(const s of this.effectDrawers.keys())this.effectDrawers.delete(s);for(const s of this.shapeDrawers.keys())this.shapeDrawers.delete(s);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const s=this._engine.items,r=s.findIndex(a=>a===this);r>=0&&s.splice(r,1)}this._engine.dispatchEvent(Xn.containerDestroyed,{container:this})}}draw(e){if(!At(this))return;let t=e;const i=s=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(s)};this._drawAnimationFrame=UQ(s=>i(s))}async export(e,t={}){for(const i of this.plugins.values()){if(!i.export)continue;const s=await i.export(e,t);if(s.supported)return s.blob}ah().error(`${Ds} - Export plugin with type ${e} not found`)}handleClickMode(e){var t;if(At(this)){this.particles.handleClickMode(e);for(const i of this.plugins.values())(t=i.handleClickMode)==null||t.call(i,e)}}async init(){var d,f,p,m;if(!At(this))return;const e=this._engine.getSupportedEffects();for(const g of e){const w=this._engine.getEffectDrawer(g);w&&this.effectDrawers.set(g,w)}const t=this._engine.getSupportedShapes();for(const g of t){const w=this._engine.getShapeDrawer(g);w&&this.shapeDrawers.set(g,w)}await this.particles.initPlugins(),this._options=Mh(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Mh(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[g,w]of i)this.plugins.set(g,w);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:s,duration:r,delay:o,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=s,this._duration=le(r)*Fn,this._delay=le(o)*Fn,this._lifeTime=0;const u=120,c=0;this.fpsLimit=a>c?a:u,this._smooth=l;for(const g of this.effectDrawers.values())await((d=g.init)==null?void 0:d.call(g,this));for(const g of this.shapeDrawers.values())await((f=g.init)==null?void 0:f.call(g,this));for(const g of this.plugins.values())await((p=g.init)==null?void 0:p.call(g));this._engine.dispatchEvent(Xn.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const g of this.plugins.values())(m=g.particlesSetup)==null||m.call(g);this._engine.dispatchEvent(Xn.particlesSetup,{container:this})}async loadTheme(e){At(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(At(this)&&(this._drawAnimationFrame!==void 0&&(VQ(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const t of this.plugins.values())(e=t.pause)==null||e.call(t);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Xn.containerPaused,{container:this})}}play(e){if(!At(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(Xn.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(At(this))return this.stop(),this.start()}async reset(e){if(At(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=Mh(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Mh(this._engine,this,this._options),this.refresh()}async start(){!At(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const s of this.plugins.values())await((i=s.start)==null?void 0:i.call(s));this._engine.dispatchEvent(Xn.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){var e;if(!(!At(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const t of this.plugins.values())(e=t.stop)==null||e.call(t);for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent(Xn.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class _ee{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i==null||i.forEach(s=>s(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const s=i.length,r=i.indexOf(t);if(r<0)return;const a=1;s===a?this._listeners.delete(e):i.splice(r,a)}}async function ZS(n,e,t,i=!1){let s=e.get(n);return(!s||i)&&(s=await Promise.all([...t.values()].map(r=>r(n))),e.set(n,s)),s}async function bee(n){const e=lr(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?await t.json():(ah().error(`${Ds} ${t.status} while retrieving config file`),n.fallback)}const l9="true",mO="false",YS="canvas",See=n=>{let e;if(n instanceof HTMLCanvasElement||n.tagName.toLowerCase()===YS)e=n,e.dataset[ku]||(e.dataset[ku]=mO);else{const i=n.getElementsByTagName(YS);i.length?(e=i[0],e.dataset[ku]=mO):(e=document.createElement(YS),e.dataset[ku]=l9,n.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},Aee=(n,e)=>{let t=e??document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.dataset[ku]=l9,document.body.append(t),t)};class xee{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new _ee,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.7.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(Xn.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(i))}async addEffect(e,t,i=!0){Ns(e,s=>{this.getEffectDrawer(s)||this.effectDrawers.set(s,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,s=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(s)}async addShape(e,t=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(t)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,await i.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return ZS(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return ZS(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return ZS(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}async load(e){var m;const i=e.id??((m=e.element)==null?void 0:m.id)??`tsparticles${Math.floor(st()*1e4)}`,{index:s,url:r}=e,o=r?await bee({fallback:e.options,url:r,index:s}):e.options,a=lr(o,s),{items:l}=this,u=l.findIndex(g=>g.id.description===i),c=0,d=new wee(this,i,a);if(u>=c){const g=this.item(u),w=1,v=0,y=g?w:v;g&&!g.destroyed&&g.destroy(!1),l.splice(u,y,d)}else l.push(d);const f=Aee(i,e.element),p=See(f);return d.canvas.loadCanvas(p),await d.start(),d}loadOptions(e,t){this.plugins.forEach(i=>{var s;return(s=i.loadOptions)==null?void 0:s.call(i,e,t)})}loadParticlesOptions(e,t,...i){const s=this.updaters.get(e);s&&s.forEach(r=>{var o;return(o=r.loadOptions)==null?void 0:o.call(r,t,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${Ds} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}}function Eee(){const n=new xee;return n.init(),n}class fo{constructor(e){this.type=pp.external,this.container=e}}class $R{constructor(e){this.type=pp.particles,this.container=e}}var Es;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Es||(Es={}));var vO;(function(n){n.linear="linear",n.radial="radial",n.random="random"})(vO||(vO={}));var Yc;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(Yc||(Yc={}));const BR=Eee();lh()||(window.tsParticles=BR);const Zue=n=>{const e=n.id??"tsparticles";return L.useEffect(()=>{let t;return BR.load({id:e,url:n.url,options:n.options}).then(i=>{var s;t=i,(s=n.particlesLoaded)==null||s.call(n,i)}),()=>{t==null||t.destroy()}},[e,n,n.url,n.options]),d_.jsx("div",{id:e,className:n.className})};async function Yue(n){await n(BR)}const OP=.5,Iu=0,ur=1,yO=60,wO=0,Pee=.01;function Cee(n){const e=n.initialPosition,{dx:t,dy:i}=ni(e,n.position),s=Math.abs(t),r=Math.abs(i),{maxDistance:o}=n.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const u=(a&&s>=a)??!1,c=(l&&r>=l)??!1;if((u||c)&&!n.misplaced)n.misplaced=!!a&&s>a||!!l&&r>l,a&&(n.velocity.x=n.velocity.y*OP-n.velocity.x),l&&(n.velocity.y=n.velocity.x*OP-n.velocity.y);else if((!a||s<a)&&(!l||r<l)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,f=n.velocity;a&&(d.x<e.x&&f.x<Iu||d.x>e.x&&f.x>Iu)&&(f.x*=-st()),l&&(d.y<e.y&&f.y<Iu||d.y>e.y&&f.y>Iu)&&(f.y*=-st())}}function Tee(n,e,t,i,s,r){Ree(n,r);const o=n.gravity,a=o!=null&&o.enable&&o.inverse?-ur:ur;s&&t&&(n.velocity.x+=s*r.factor/(yO*t)),o!=null&&o.enable&&t&&(n.velocity.y+=a*(o.acceleration*r.factor)/(yO*t));const l=n.moveDecay;n.velocity.multTo(l);const u=n.velocity.mult(t);o!=null&&o.enable&&i>Iu&&(!o.inverse&&u.y>=Iu&&u.y>=i||o.inverse&&u.y<=Iu&&u.y<=-i)&&(u.y=a*i,t&&(n.velocity.y=u.y/t));const c=n.options.zIndex,d=(ur-n.zIndexFactor)**c.velocityRate;u.multTo(d);const{position:f}=n;f.addTo(u),e.vibrate&&(f.x+=Math.sin(f.x*Math.cos(f.y)),f.y+=Math.cos(f.y*Math.sin(f.x)))}function kee(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction===Es.clockwise?Math.cos:Math.sin,y:n.spin.direction===Es.clockwise?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const s=Math.max(t.canvas.size.width,t.canvas.size.height),r=s*OP;n.spin.radius>r?(n.spin.radius=r,n.spin.acceleration*=-ur):n.spin.radius<wO&&(n.spin.radius=wO,n.spin.acceleration*=-ur),n.spin.angle+=e*Pee*(ur-n.spin.radius/s)}function Ree(n,e){var o;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const r=(o=n.pathGenerator)==null?void 0:o.generate(n,e);r&&n.velocity.addTo(r),i.clamp&&(n.velocity.x=Os(n.velocity.x,-ur,ur),n.velocity.y=Os(n.velocity.y,-ur,ur)),n.lastPathTime-=n.pathDelay}function Mee(n){return n.slow.inRange?n.slow.factor:ur}function Iee(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const s=i.position??{x:50,y:50},r=.01,o={x:s.x*r*e.canvas.size.width,y:s.y*r*e.canvas.size.height},a=n.getPosition(),l=Xi(a,o),u=le(i.acceleration);n.retina.spinAcceleration=u*e.retina.pixelRatio;const c=0;n.spin={center:o,direction:n.velocity.x>=c?Es.clockwise:Es.counterClockwise,angle:n.velocity.angle,radius:l,acceleration:n.retina.spinAcceleration}}const Lee=2,Dee=1,Oee=1;class Nee{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:le(i.acceleration),inverse:i.inverse},Iee(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var g,w;const i=e.options,s=i.move;if(!s.enable)return;const r=e.container,o=r.retina.pixelRatio;(g=e.retina).moveSpeed??(g.moveSpeed=le(s.speed)*o),(w=e.retina).moveDrift??(w.moveDrift=le(e.options.move.drift)*o);const a=Mee(e),l=e.retina.moveSpeed*r.retina.reduceFactor,u=e.retina.moveDrift,c=to(i.size.value)*o,d=s.size?e.getRadius()/c:Dee,f=t.factor||Oee,p=l*d*a*f/Lee,m=e.retina.maxSpeed??r.retina.maxSpeed;s.spin.enable?kee(e,p):Tee(e,s,p,m,u,t),Cee(e)}}async function Fee(n,e=!0){ke(n,"3.7.1"),await n.addMover("base",()=>Promise.resolve(new Nee),e)}const $ee=2,Bee=Math.PI*$ee,zee=0,_O={x:0,y:0};function Uee(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:zee,max:Bee});const s=t.circleRange;e.arc(_O.x,_O.y,i,s.min,s.max,!1)}const Vee=12,jee=360,bO=0;class Hee{constructor(){this.validTypes=["circle"]}draw(e){Uee(e)}getSidesCount(){return Vee}particleInit(e,t){const i=t.shapeData,s=(i==null?void 0:i.angle)??{max:jee,min:bO};t.circleRange=ad(s)?{min:Bl(s.min),max:Bl(s.max)}:{min:bO,max:Bl(s)}}}async function Wee(n,e=!0){ke(n,"3.7.1"),await n.addShape(new Hee,e)}class Gee{constructor(e,t){this._container=e,this._engine=t}init(e){const t=xm(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=e9(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:s}=e.options.color.animation,{color:r}=e;return!e.destroyed&&!e.spawning&&((r==null?void 0:r.h.value)!==void 0&&t.enable||(r==null?void 0:r.s.value)!==void 0&&i.enable||(r==null?void 0:r.l.value)!==void 0&&s.enable)}update(e,t){t9(e.color,t)}}async function qee(n,e=!0){ke(n,"3.7.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new Gee(t,n)),e)}var Su;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(Su||(Su={}));const Kee=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,Zee=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,z0=16,Yee=1,Xee=255;class Qee{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const t=e.replace(Kee,(s,r,o,a,l)=>r+r+o+o+a+a+(l!==void 0?l+l:"")),i=Zee.exec(t);return i?{a:i[Su.a]!==void 0?parseInt(i[Su.a],z0)/Xee:Yee,b:parseInt(i[Su.b],z0),g:parseInt(i[Su.g],z0),r:parseInt(i[Su.r],z0)}:void 0}}async function Jee(n,e=!0){ke(n,"3.7.1"),await n.addColorManager(new Qee,e)}var ld;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(ld||(ld={}));class ete{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return hp(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return hp({h:le(i.h),l:le(i.l),s:le(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),s=4,r=1,o=10;return i?rJ({a:i.length>s?jU(i[ld.a]):r,h:parseInt(i[ld.h],o),l:parseInt(i[ld.l],o),s:parseInt(i[ld.s],o)}):void 0}}async function tte(n,e=!0){ke(n,"3.7.1"),await n.addColorManager(new ete,e)}class nte{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=KU(t,i);const s=t.animation;s.enable&&(e.opacity.velocity=le(s.speed)/Tl*this.container.retina.reduceFactor,s.sync||(e.opacity.velocity*=st()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||DR(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function ite(n,e=!0){ke(n,"3.7.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new nte(t)),e)}const ib=0,Pd=0;function ste(n){if(n.outMode!==Bt.bounce&&n.outMode!==Bt.split||n.direction!==Re.left&&n.direction!==Re.right)return;n.bounds.right<Pd&&n.direction===Re.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===Re.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===Re.right&&n.bounds.right>=n.canvasSize.width&&e>ib||n.direction===Re.left&&n.bounds.left<=Pd&&e<ib){const s=le(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-s,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===Re.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=Pd&&n.direction===Re.left&&(n.particle.position.x=i),n.outMode===Bt.split&&n.particle.destroy()}function rte(n){if(n.outMode!==Bt.bounce&&n.outMode!==Bt.split||n.direction!==Re.bottom&&n.direction!==Re.top)return;n.bounds.bottom<Pd&&n.direction===Re.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===Re.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===Re.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>ib||n.direction===Re.top&&n.bounds.top<=Pd&&e<ib){const s=le(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-s,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===Re.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=Pd&&n.direction===Re.top&&(n.particle.position.y=i),n.outMode===Bt.split&&n.particle.destroy()}class ote{constructor(e){this.container=e,this.modes=[Bt.bounce,Bt.split]}update(e,t,i,s){if(!this.modes.includes(s))return;const r=this.container;let o=!1;for(const f of r.plugins.values())if(f.particleBounce!==void 0&&(o=f.particleBounce(e,i,t)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,u=e.getRadius(),c=Hy(a,u),d=r.canvas.size;ste({particle:e,outMode:s,direction:t,bounds:c,canvasSize:d,offset:l,size:u}),rte({particle:e,outMode:s,direction:t,bounds:c,canvasSize:d,offset:l,size:u})}}const U0=0;class ate{constructor(e){this.container=e,this.modes=[Bt.destroy]}update(e,t,i,s){if(!this.modes.includes(s))return;const r=this.container;switch(e.outType){case pr.normal:case pr.outside:if(MR(e.position,r.canvas.size,un.origin,e.getRadius(),t))return;break;case pr.inside:{const{dx:o,dy:a}=ni(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<U0&&o>e.moveCenter.radius||u<U0&&a>e.moveCenter.radius||l>=U0&&o<-e.moveCenter.radius||u>=U0&&a<-e.moveCenter.radius)return;break}}r.particles.remove(e,e.group,!0)}}const V0=0;class lte{constructor(e){this.container=e,this.modes=[Bt.none]}update(e,t,i,s){if(!this.modes.includes(s)||((e.options.move.distance.horizontal&&(t===Re.left||t===Re.right))??(e.options.move.distance.vertical&&(t===Re.top||t===Re.bottom))))return;const r=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(r.enable){const u=e.position;(!r.inverse&&u.y>a.height+l&&t===Re.bottom||r.inverse&&u.y<-l&&t===Re.top)&&o.particles.remove(e)}else{if(e.velocity.y>V0&&e.position.y<=a.height+l||e.velocity.y<V0&&e.position.y>=-l||e.velocity.x>V0&&e.position.x<=a.width+l||e.velocity.x<V0&&e.position.x>=-l)return;MR(e.position,o.canvas.size,un.origin,l,t)||o.particles.remove(e)}}}const j0=0,H0=0;class ute{constructor(e){this.container=e,this.modes=[Bt.out]}update(e,t,i,s){if(!this.modes.includes(s))return;const r=this.container;switch(e.outType){case pr.inside:{const{x:o,y:a}=e.velocity,l=un.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(un.create(e.moveCenter));const{dx:u,dy:c}=ni(e.position,l);if(o<=j0&&u>=H0||a<=j0&&c>=H0||o>=j0&&u<=H0||a>=j0&&c<=H0)return;e.position.x=Math.floor(qi({min:0,max:r.canvas.size.width})),e.position.y=Math.floor(qi({min:0,max:r.canvas.size.height}));const{dx:d,dy:f}=ni(e.position,e.moveCenter);e.direction=Math.atan2(-f,-d),e.velocity.angle=e.direction;break}default:{if(MR(e.position,r.canvas.size,un.origin,e.getRadius(),t))return;switch(e.outType){case pr.outside:{e.position.x=Math.floor(qi({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(qi({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=ni(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case pr.normal:{const o=e.options.move.warp,a=r.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),c=Hy(e.position,u);t===Re.right&&c.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=st()*a.height,e.initialPosition.y=e.position.y)):t===Re.left&&c.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=st()*a.height,e.initialPosition.y=e.position.y)),t===Re.bottom&&c.top>a.height+e.offset.y?(o||(e.position.x=st()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t===Re.top&&c.bottom<-e.offset.y&&(o||(e.position.x=st()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const cte=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class hte{constructor(e){this._addUpdaterIfMissing=(t,i,s)=>{const r=t.options.move.outModes;!this.updaters.has(i)&&cte(r,i)&&this.updaters.set(i,s(this.container))},this._updateOutMode=(t,i,s,r)=>{for(const o of this.updaters.values())o.update(t,r,i,s)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Bt.bounce,t=>new ote(t)),this._addUpdaterIfMissing(e,Bt.out,t=>new ute(t)),this._addUpdaterIfMissing(e,Bt.destroy,t=>new ate(t)),this._addUpdaterIfMissing(e,Bt.none,t=>new lte(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,Re.bottom),this._updateOutMode(e,t,i.left??i.default,Re.left),this._updateOutMode(e,t,i.right??i.default,Re.right),this._updateOutMode(e,t,i.top??i.default,Re.top)}}async function dte(n,e=!0){ke(n,"3.7.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new hte(t)),e)}var ud;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(ud||(ud={}));class fte{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:le(i.r),g:le(i.g),b:le(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),s=10;return i?{a:i.length>4?jU(i[ud.a]):1,b:parseInt(i[ud.b],s),g:parseInt(i[ud.g],s),r:parseInt(i[ud.r],s)}:void 0}}async function pte(n,e=!0){ke(n,"3.7.1"),await n.addColorManager(new fte,e)}const ru=0;class gte{init(e){const t=e.container,i=e.options.size,s=i.animation;s.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/Tl*t.retina.reduceFactor,s.sync||(e.size.velocity*=st()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??ru)<=ru||(e.size.maxLoops??ru)>ru&&(e.size.loops??ru)<(e.size.maxLoops??ru))}reset(e){e.size.loops=ru}update(e,t){this.isEnabled(e)&&DR(e,e.size,!0,e.options.size.animation.destroy,t)}}async function mte(n,e=!0){ke(n,"3.7.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new gte),e)}async function vte(n,e=!0){ke(n,"3.7.1"),await Jee(n,!1),await tte(n,!1),await pte(n,!1),await Fee(n,!1),await Wee(n,!1),await qee(n,!1),await ite(n,!1),await dte(n,!1),await mte(n,!1),await n.refresh(e)}async function yte(n,e=!0){ke(n,"3.7.1"),await n.addEasing(Yc.easeInQuad,t=>t**2,!1),await n.addEasing(Yc.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(Yc.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function wte(n,e){const{context:t,opacity:i}=n,s=.5,r=t.globalAlpha;if(!e)return;const o=e.width,a=o*s;t.globalAlpha=i,t.drawImage(e,-a,-a,o,o),t.globalAlpha=r}const XS='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',SO=0;class _te{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(t==null||t.close()),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&wte(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(o=>Lt(o,t.particles.shape.type)))return;const s=[tO(XS)],r=i.map(o=>t.particles.shape.options[o]).find(o=>!!o);r&&Ns(r,o=>{o.font&&s.push(tO(o.font))}),await Promise.all(s)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const s=t.shapeData;if(!(s!=null&&s.value))return;const r=lr(s.value,t.randomIndexData);if(!r)return;const o=typeof r=="string"?{font:s.font??XS,padding:s.padding??SO,value:r}:{font:XS,padding:SO,...s,...r},a=o.font,l=o.value,u=`${l}_${a}`;if(this._emojiShapeDict.has(u)){t.emojiDataKey=u;return}const c=o.padding*2,d=to(t.size.value),f=d+c,p=f*2;let m;if(typeof OffscreenCanvas<"u"){const g=new OffscreenCanvas(p,p),w=g.getContext("2d");if(!w)return;w.font=`400 ${d*2}px ${a}`,w.textBaseline="middle",w.textAlign="center",w.fillText(l,f,f),m=g.transferToImageBitmap()}else{const g=document.createElement("canvas");g.width=p,g.height=p;const w=g.getContext("2d");if(!w)return;w.font=`400 ${d*2}px ${a}`,w.textBaseline="middle",w.textAlign="center",w.fillText(l,f,f),m=g}this._emojiShapeDict.set(u,m),t.emojiDataKey=u}}async function bte(n,e=!0){ke(n,"3.7.1"),await n.addShape(new _te,e)}const Ste=1,Ate=1,u9=0;function c9(n,e,t,i,s,r){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(s,r);for(const l of a){const{dx:u,dy:c,distance:d}=ni(l.position,t),f=o.speed*o.factor,p=Os(n.getEasing(o.easing)(Ate-d/i)*f,Ste,o.maxSpeed),m=un.create(d?u/d*p:f,d?c/d*p:f);l.position.subFrom(m)}}function xte(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const s=e.interactivity.mouse.clickPosition,r=e.retina.attractModeDistance;if(!r||r<u9||!s)return;c9(n,e,s,r,new $n(s.x,s.y,r),o=>t(o))}else i.clicking===!1&&(i.particles=[])}function Ete(n,e,t){const i=e.interactivity.mouse.position,s=e.retina.attractModeDistance;!s||s<u9||!i||c9(n,e,i,s,new $n(i.x,i.y,s),r=>t(r))}class Pte{constructor(){this.distance=200,this.duration=.4,this.easing=Yc.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){K(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Zp="attract";let Cte=class extends fo{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,r=s.interactivity.modes.attract;if(!(!r||i!==Zp)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},r.duration*Fn)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===rh,s=t.interactivity.events,{enable:r,mode:o}=s.onHover,{enable:a,mode:l}=s.onClick;i&&r&&Lt(Zp,o)?Ete(this._engine,this.container,u=>this.isEnabled(u)):a&&Lt(Zp,l)&&xte(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!s.position||!r.onHover.enable)&&(!s.clickPosition||!r.onClick.enable))return!1;const o=r.onHover.mode,a=r.onClick.mode;return Lt(Zp,o)||Lt(Zp,a)}loadModeOptions(e,...t){e.attract||(e.attract=new Pte);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function Tte(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new Cte(n,t)),e)}const kte=2,o_=.5,Rte=Math.PI*o_,AO=2,h9=10,Mte=0;function d9(n,e,t,i,s){const r=n.particles.quadTree.query(i,s);for(const o of r)i instanceof $n?GU(MP(o),{position:e,radius:t,mass:t**kte*Rte,velocity:un.origin,factor:un.origin}):i instanceof vr&&eJ(o,Hy(e,t))}function Ite(n,e,t,i){const s=document.querySelectorAll(e);s.length&&s.forEach(r=>{const o=r,a=n.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*o_)*a,y:(o.offsetTop+o.offsetHeight*o_)*a},u=o.offsetWidth*o_*a,c=h9*a,d=t.type===fp.circle?new $n(l.x,l.y,u+c):new vr(o.offsetLeft*a-c,o.offsetTop*a-c,o.offsetWidth*a+c*AO,o.offsetHeight*a+c*AO);i(l,u,d)})}function Lte(n,e,t,i){LR(t,e,(s,r)=>Ite(n,s,r,(o,a,l)=>d9(n,o,a,l,i)))}function Dte(n,e){const t=n.retina.pixelRatio,i=h9*t,s=n.interactivity.mouse.position,r=n.retina.bounceModeDistance;!r||r<Mte||!s||d9(n,s,r,new $n(s.x,s.y,r+i),e)}class Ote{constructor(){this.distance=200}load(e){K(e)||e.distance!==void 0&&(this.distance=e.distance)}}const W0="bounce";class Nte extends fo{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,s=e.interactivity.status===rh,r=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;s&&r&&Lt(W0,o)?Dte(this.container,l=>this.isEnabled(l)):Lte(this.container,a,W0,l=>this.isEnabled(l))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,o=r.onDiv;return!!s.position&&r.onHover.enable&&Lt(W0,r.onHover.mode)||IR(W0,o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new Ote);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function Fte(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new Nte(t)),e)}class f9{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!K(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=ho(this.color)?void 0:this.color;this.color=Ns(e.color,i=>Un.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class $te extends f9{constructor(){super(),this.selectors=[]}load(e){super.load(e),!K(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class Bte extends f9{load(e){super.load(e),!K(e)&&(this.divs=Ns(e.divs,t=>{const i=new $te;return i.load(t),i}))}}var Pr;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(Pr||(Pr={}));function xO(n,e,t,i){if(e>=t){const s=n+(e-t)*i;return Os(s,n,e)}else if(e<t){const s=n-(t-e)*i;return Os(s,e,n)}}const ou="bubble",QS=0,zte=0,Ute=2,EO=1,PO=1,Vte=0,jte=0,JS=.5,eA=1;class Hte extends fo{constructor(e,t){super(e),this._clickBubble=()=>{var c;const i=this.container,s=i.actualOptions,r=i.interactivity.mouse.clickPosition,o=s.interactivity.modes.bubble;if(!o||!r)return;i.bubble||(i.bubble={});const a=i.retina.bubbleModeDistance;if(!a||a<QS)return;const l=i.particles.quadTree.queryCircle(r,a,d=>this.isEnabled(d)),{bubble:u}=i;for(const d of l){if(!u.clicking)continue;d.bubble.inRange=!u.durationEnd;const f=d.getPosition(),p=Xi(f,r),m=(new Date().getTime()-(i.interactivity.mouse.clickTime??zte))/Fn;m>o.duration&&(u.durationEnd=!0),m>o.duration*Ute&&(u.clicking=!1,u.durationEnd=!1);const g={bubbleObj:{optValue:i.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:to(d.options.size.value)*i.retina.pixelRatio,value:d.size.value},type:Pr.size};this._process(d,p,m,g);const w={bubbleObj:{optValue:o.opacity,value:d.bubble.opacity},particlesObj:{optValue:to(d.options.opacity.value),value:((c=d.opacity)==null?void 0:c.value)??EO},type:Pr.opacity};this._process(d,p,m,w),!u.durationEnd&&p<=a?this._hoverBubbleColor(d,p):delete d.bubble.color}},this._hoverBubble=()=>{const i=this.container,s=i.interactivity.mouse.position,r=i.retina.bubbleModeDistance;if(!r||r<QS||!s)return;const o=i.particles.quadTree.queryCircle(s,r,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const l=a.getPosition(),u=Xi(l,s),c=PO-u/r;u<=r?c>=jte&&i.interactivity.status===rh&&(this._hoverBubbleSize(a,c),this._hoverBubbleOpacity(a,c),this._hoverBubbleColor(a,c)):this.reset(a),i.interactivity.status===RP&&this.reset(a)}},this._hoverBubbleColor=(i,s,r)=>{const o=this.container.actualOptions,a=r??o.interactivity.modes.bubble;if(a){if(!i.bubble.finalColor){const l=a.color;if(!l)return;const u=lr(l);i.bubble.finalColor=xm(this._engine,u)}if(i.bubble.finalColor)if(a.mix){i.bubble.color=void 0;const l=i.getFillColor();i.bubble.color=l?XU(OR(l,i.bubble.finalColor,PO-s,s)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,s,r)=>{var f,p;const o=this.container,a=o.actualOptions,l=(r==null?void 0:r.opacity)??((f=a.interactivity.modes.bubble)==null?void 0:f.opacity);if(!l)return;const u=i.options.opacity.value,c=((p=i.opacity)==null?void 0:p.value)??EO,d=xO(c,l,to(u),s);d!==void 0&&(i.bubble.opacity=d)},this._hoverBubbleSize=(i,s,r)=>{const o=this.container,a=r!=null&&r.size?r.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const l=to(i.options.size.value)*o.retina.pixelRatio,u=i.size.value,c=xO(u,a,l,s);c!==void 0&&(i.bubble.radius=c)},this._process=(i,s,r,o)=>{const a=this.container,l=o.bubbleObj.optValue,u=a.actualOptions,c=u.interactivity.modes.bubble;if(!c||l===void 0)return;const d=c.duration,f=a.retina.bubbleModeDistance,p=o.particlesObj.optValue,m=o.bubbleObj.value,g=o.particlesObj.value??Vte,w=o.type;if(!(!f||f<QS||l===p))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)m&&(w===Pr.size&&delete i.bubble.radius,w===Pr.opacity&&delete i.bubble.opacity);else if(s<=f){if((m??g)!==l){const y=g-r*(g-l)/d;w===Pr.size&&(i.bubble.radius=y),w===Pr.opacity&&(i.bubble.opacity=y)}}else w===Pr.size&&delete i.bubble.radius,w===Pr.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,s,r)=>{const o=this.container,a=document.querySelectorAll(s),l=o.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(u=>{const c=u,d=o.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth*JS)*d,y:(c.offsetTop+c.offsetHeight*JS)*d},p=c.offsetWidth*JS*d,m=r.type===fp.circle?new $n(f.x,f.y,p):new vr(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),g=o.particles.quadTree.query(m,w=>this.isEnabled(w));for(const w of g){if(!m.contains(w.getPosition()))continue;w.bubble.inRange=!0;const v=l.divs,y=WU(v,c);(!w.bubble.div||w.bubble.div!==c)&&(this.clear(w,i,!0),w.bubble.div=c),this._hoverBubbleSize(w,eA,y),this._hoverBubbleOpacity(w,eA,y),this._hoverBubbleColor(w,eA,y)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===ou&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,s=i.onHover,r=i.onClick,o=s.enable,a=s.mode,l=r.enable,u=r.mode,c=i.onDiv;o&&Lt(ou,a)?this._hoverBubble():l&&Lt(ou,u)?this._clickBubble():LR(ou,c,(d,f)=>this._singleSelectorHover(e,d,f))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=r,u=IR(ou,a);return u||l.enable&&s.position||o.enable&&s.clickPosition?Lt(ou,l.mode)||Lt(ou,o.mode)||u:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new Bte);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function Wte(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new Hte(t,n)),e)}class Gte{constructor(){this.opacity=.5}load(e){K(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class qte{constructor(){this.distance=80,this.links=new Gte,this.radius=60}load(e){K(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const CO=0,TO=1,Kte=0;function Zte(n,e,t,i){const s=Math.floor(t.getRadius()/e.getRadius()),r=e.getFillColor(),o=t.getFillColor();if(!r||!o)return;const a=e.getPosition(),l=t.getPosition(),u=OR(r,o,e.getRadius(),t.getRadius()),c=n.createLinearGradient(a.x,a.y,l.x,l.y);return c.addColorStop(CO,Em(r,i)),c.addColorStop(Os(s,CO,TO),ua(u,i)),c.addColorStop(TO,Em(o,i)),c}function Yte(n,e,t,i,s){Gg(n,i,s),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function Xte(n,e,t,i){const s=n.actualOptions,r=s.interactivity.modes.connect;if(r)return Zte(e,t,i,r.links.opacity)}function Qte(n,e,t){n.canvas.draw(i=>{const s=Xte(n,i,e,t);if(!s)return;const r=e.getPosition(),o=t.getPosition();Yte(i,e.retina.linksWidth??Kte,s,r,o)})}const Jte="connect",kO=0;class ene extends fo{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:s,connectModeRadius:r}=e.retina;if(!s||s<kO||!r||r<kO||!i)return;const o=Math.abs(r),a=e.particles.quadTree.queryCircle(i,o,l=>this.isEnabled(l));a.forEach((l,u)=>{const c=l.getPosition(),d=1;for(const f of a.slice(u+d)){const p=f.getPosition(),m=Math.abs(s),g=Math.abs(c.x-p.x),w=Math.abs(c.y-p.y);g<m&&w<m&&Qte(e,l,f)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return s.onHover.enable&&i.position?Lt(Jte,s.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new qte);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function tne(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new ene(t)),e)}class nne{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){K(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Un.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class ine{constructor(){this.distance=100,this.links=new nne}load(e){K(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const sne=0;function rne(n,e,t,i,s,r){Gg(n,t,i),n.strokeStyle=ua(s,r),n.lineWidth=e,n.stroke()}function one(n,e,t,i,s){n.canvas.draw(r=>{const o=e.getPosition();rne(r,e.retina.linksWidth??sne,o,s,t,i)})}const ane="grab",lne=0,une=0;class cne extends fo{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==rh)return;const s=e.interactivity.mouse.position;if(!s)return;const r=e.retina.grabModeDistance;if(!r||r<lne)return;const o=e.particles.quadTree.queryCircle(s,r,l=>this.isEnabled(l));for(const l of o){const u=l.getPosition(),c=Xi(u,s);if(c>r)continue;const d=i.modes.grab.links,f=d.opacity,p=f-c*f/r;if(p<=une)continue;const m=d.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&m){const w=i.modes.grab.links;e.particles.grabLineColor=JU(this._engine,m,w.blink,w.consent)}const g=LP(l,void 0,e.particles.grabLineColor);g&&one(e,l,g,p,s)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&Lt(ane,s.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new ine);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function hne(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new cne(t,n)),e)}const dne="pause";class fne extends fo{constructor(e){super(e),this.handleClickMode=t=>{if(t!==dne)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function pne(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new fne(t)),e)}class gne{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(K(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=ze(t))}}const mne="push",vne=0;class yne extends fo{constructor(e){super(e),this.handleClickMode=t=>{if(t!==mne)return;const i=this.container,s=i.actualOptions,r=s.interactivity.modes.push;if(!r)return;const o=le(r.quantity);if(o<=vne)return;const a=v1([void 0,...r.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new gne);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function wne(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new yne(t)),e)}class _ne{constructor(){this.quantity=2}load(e){if(K(e))return;const t=e.quantity;t!==void 0&&(this.quantity=ze(t))}}const bne="remove";class Sne extends fo{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,s=i.actualOptions;if(!s.interactivity.modes.remove||t!==bne)return;const r=le(s.interactivity.modes.remove.quantity);i.particles.removeQuantity(r)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new _ne);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function Ane(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new Sne(t)),e)}class p9{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Yc.easeOutQuad}load(e){K(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class xne extends p9{constructor(){super(),this.selectors=[]}load(e){super.load(e),!K(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class Ene extends p9{load(e){super.load(e),!K(e)&&(this.divs=Ns(e.divs,t=>{const i=new xne;return i.load(t),i}))}}const au="repulse",Pne=0,Cne=6,Tne=3,kne=2,Rne=0,Mne=0,Ine=1,tA=.5;class Lne extends fo{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,s=i.actualOptions.interactivity.modes.repulse;if(!s)return;const r=i.repulse??{particles:[]};if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const o=i.retina.repulseModeDistance;if(!o||o<Pne)return;const a=Math.pow(o/Cne,Tne),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const u=new $n(l.x,l.y,a),c=i.particles.quadTree.query(u,d=>this.isEnabled(d));for(const d of c){const{dx:f,dy:p,distance:m}=ni(l,d.position),g=m**kne,w=s.speed,v=-a*w/g;if(g<=a){r.particles.push(d);const y=un.create(f,p);y.length=v,d.velocity.setTo(y)}}}else if(r.clicking===!1){for(const o of r.particles)o.velocity.setTo(o.initialVelocity);r.particles=[]}},this._hoverRepulse=()=>{const i=this.container,s=i.interactivity.mouse.position,r=i.retina.repulseModeDistance;!r||r<Rne||!s||this._processRepulse(s,r,new $n(s.x,s.y,r))},this._processRepulse=(i,s,r,o)=>{const a=this.container,l=a.particles.quadTree.query(r,w=>this.isEnabled(w)),u=a.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:c,speed:d,factor:f,maxSpeed:p}=u,m=this._engine.getEasing(c),g=((o==null?void 0:o.speed)??d)*f;for(const w of l){const{dx:v,dy:y,distance:_}=ni(w.position,i),A=Os(m(Ine-_/s)*g,Mne,p),E=un.create(_?v/_*A:g,_?y/_*A:g);w.position.addTo(E)}},this._singleSelectorRepulse=(i,s)=>{const r=this.container,o=r.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const u=l,c=r.retina.pixelRatio,d={x:(u.offsetLeft+u.offsetWidth*tA)*c,y:(u.offsetTop+u.offsetHeight*tA)*c},f=u.offsetWidth*tA*c,p=s.type===fp.circle?new $n(d.x,d.y,f):new vr(u.offsetLeft*c,u.offsetTop*c,u.offsetWidth*c,u.offsetHeight*c),m=o.divs,g=WU(m,u);this._processRepulse(d,f,p,g)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,r=s.interactivity.modes.repulse;if(!r||i!==au)return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const a of t.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},r.duration*Fn)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===rh,s=t.interactivity.events,r=s.onHover,o=r.enable,a=r.mode,l=s.onClick,u=l.enable,c=l.mode,d=s.onDiv;i&&o&&Lt(au,a)?this._hoverRepulse():u&&Lt(au,c)?this._clickRepulse():LR(au,d,(f,p)=>this._singleSelectorRepulse(f,p))}isEnabled(e){const t=this.container,i=t.actualOptions,s=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,o=r.onDiv,a=r.onHover,l=r.onClick,u=IR(au,o);if(!(u||a.enable&&s.position||l.enable&&s.clickPosition))return!1;const c=a.mode,d=l.mode;return Lt(au,c)||Lt(au,d)||u}loadModeOptions(e,...t){e.repulse||(e.repulse=new Ene);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function Dne(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new Lne(n,t)),e)}class One{constructor(){this.factor=3,this.radius=200}load(e){K(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const Nne="slow",Fne=0;class $ne extends fo{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&Lt(Nne,s.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new One);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,s=t.interactivity.mouse.position,r=t.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!r||r<Fne||!s)return;const a=e.getPosition(),l=Xi(s,a),u=l/r,c=o.factor,{slow:d}=e;l>r||(d.inRange=!0,d.factor=u/c)}}async function Bne(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new $ne(t)),e)}const zne=0,Une=1,Vne=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function jne(n,e,t){const{svgData:i}=n;if(!i)return"";const s=Em(e,t);if(i.includes("fill"))return i.replace(Vne,()=>s);const r=i.indexOf(">");return`${i.substring(zne,r)} fill="${s}"${i.substring(r)}`}async function y1(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,ah().error(`${Ds} loading image: ${n.source}`),e()}),t.src=n.source})}async function Hne(n){if(n.type!=="svg"){await y1(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(ah().error(`${Ds} Image not found`),n.error=!0),n.loading=!1}function Wne(n,e,t,i){var o;const s=jne(n,t,((o=i.opacity)==null?void 0:o.value)??Une),r={color:t,gif:e.gif,data:{...n,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([s],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,c=u.createObjectURL(l),d=new Image;d.addEventListener("load",()=>{r.loaded=!0,r.element=d,a(r),u.revokeObjectURL(c)});const f=async()=>{u.revokeObjectURL(c);const p={...n,error:!1,loading:!0};await y1(p),r.loaded=!0,r.element=p.element,a(r)};d.addEventListener("error",()=>void f()),d.src=c})}const nA=[0,4,2,1],RO=[8,8,4,2];class Gne{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,s)=>i+String.fromCharCode(s),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,s=0;do{t=this.data[this.pos++];for(let r=t;--r>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==s);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,s=1;for(let o=0;e!==i;o+=e+s,e=this.data[this.pos+o])t+=e;const r=new Uint8Array(t);e=this.data[this.pos++];for(let o=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;r[o++]=this.data[this.pos++]);return r}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var js;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(js||(js={}));var ia;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})(ia||(ia={}));const hi={x:0,y:0},qne=0,MO=.5,Kne=0,IO=0,NP=0;function g9(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function Zne(n,e,t,i){switch(n.nextByte()){case ia.GraphicsControlExtension:{const s=e.frames[t(!1)];n.pos++;const r=n.nextByte();s.GCreserved=(r&224)>>>5,s.disposalMethod=(r&28)>>>2,s.userInputDelayFlag=(r&2)===2;const o=(r&1)===1;s.delayTime=n.nextTwoBytes()*10;const a=n.nextByte();o&&i(a),n.pos++;break}case ia.ApplicationExtension:{n.pos++;const s={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(s);break}case ia.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case ia.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function Yne(n,e,t,i,s,r){const o=e.frames[i(!0)];o.left=n.nextTwoBytes(),o.top=n.nextTwoBytes(),o.width=n.nextTwoBytes(),o.height=n.nextTwoBytes();const a=n.nextByte(),l=(a&128)===128,u=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const c=1<<(a&7)+1;l&&(o.localColorTable=g9(n,c));const d=v=>{const{r:y,g:_,b:A}=(l?o.localColorTable:e.globalColorTable)[v];return v!==s(null)?{r:y,g:_,b:A,a:255}:{r:y,g:_,b:A,a:t?~~((y+_+A)/3):0}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(v){if(v instanceof DOMException&&v.name==="IndexSizeError")return null;throw v}})();if(f==null)throw new EvalError("GIF frame size is to large");const p=n.nextByte(),m=n.readSubBlocksBin(),g=1<<p,w=(v,y)=>{const _=v>>>3,A=v&7;return(m[_]+(m[_+1]<<8)+(m[_+2]<<16)&(1<<y)-1<<A)>>>A};if(u){for(let v=0,y=p+1,_=0,A=[[0]],E=0;E<4;E++)if(nA[E]<o.height){let C=0,T=0,k=!1;for(;!k;){const P=v;if(v=w(_,y),_+=y+1,v===g){y=p+1,A.length=g+2;for(let M=0;M<A.length;M++)A[M]=M<g?[M]:[]}else{v>=A.length?A.push(A[P].concat(A[P][0])):P!==g&&A.push(A[P].concat(A[v][0]));for(const M of A[v]){const{r:D,g:H,b:W,a:F}=d(M);f.data.set([D,H,W,F],nA[E]*o.width+RO[E]*T+C%(o.width*4)),C+=4}A.length===1<<y&&y<12&&y++}C===o.width*4*(T+1)&&(T++,nA[E]+RO[E]*T>=o.height&&(k=!0))}}o.image=f,o.bitmap=await createImageBitmap(f)}else{let v=0,y=p+1,_=0,A=-4,E=!1;const C=[[0]];for(;!E;){const T=v;if(v=w(_,y),_+=y,v===g){y=p+1,C.length=g+2;for(let k=0;k<C.length;k++)C[k]=k<g?[k]:[]}else{if(v===g+1){E=!0;break}v>=C.length?C.push(C[T].concat(C[T][0])):T!==g&&C.push(C[T].concat(C[v][0]));for(const k of C[v]){const{r:P,g:M,b:D,a:H}=d(k);f.data.set([P,M,D,H],A+=4)}C.length>=1<<y&&y<12&&y++}}o.image=f,o.bitmap=await createImageBitmap(f)}}async function Xne(n,e,t,i,s,r){switch(n.nextByte()){case ia.EndOfFile:return!0;case ia.Image:await Yne(n,e,t,i,s);break;case ia.Extension:Zne(n,e,i,s);break;default:throw new EvalError("undefined block found")}return!1}function Qne(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function Jne(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const s=await i.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new Gne(new Uint8ClampedArray(s));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");r.width=o.nextTwoBytes(),r.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;r.colorRes=(a&112)>>>4,r.sortFlag=(a&8)===8;const u=1<<(a&7)+1,c=o.nextByte();r.pixelAspectRatio=o.nextByte(),r.pixelAspectRatio!==0&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),l&&(r.globalColorTable=g9(o,u));const d=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(A){if(A instanceof DOMException&&A.name==="IndexSizeError")return null;throw A}})();if(d==null)throw new Error("GIF frame size is to large");const{r:f,g:p,b:m}=r.globalColorTable[c];d.data.set(l?[f,p,m,255]:[0,0,0,0]);for(let A=4;A<d.data.length;A*=2)d.data.copyWithin(A,0,A);r.backgroundImage=d;let g=-1,w=!0,v=-1;const y=A=>(A&&(w=!0),g),_=A=>(A!=null&&(v=A),v);try{do w&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:js.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,v=-1,w=!1);while(!await Xne(o,r,t,y,_,e));r.frames.length--;for(const A of r.frames){if(A.userInputDelayFlag&&A.delayTime===0){r.totalTime=1/0;break}r.totalTime+=A.delayTime}return r}catch(A){throw A instanceof EvalError?new Error(`error while parsing frame ${g} "${A.message}"`):A}}function eie(n){const{context:e,radius:t,particle:i,delta:s}=n,r=i.image;if(!(r!=null&&r.gifData)||!r.gif)return;const o=new OffscreenCanvas(r.gifData.width,r.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(hi.x,hi.y,o.width,o.height),i.gifLoopCount===void 0&&(i.gifLoopCount=r.gifLoopCount??NP);let l=i.gifFrame??qne;const u={x:-r.gifData.width*MO,y:-r.gifData.height*MO},c=r.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=Kne),!!c.bitmap){switch(e.scale(t/r.gifData.width,t/r.gifData.height),c.disposalMethod){case js.UndefinedA:case js.UndefinedB:case js.UndefinedC:case js.UndefinedD:case js.Replace:a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y),a.clearRect(hi.x,hi.y,o.width,o.height);break;case js.Combine:a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y);break;case js.RestoreBackground:a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y),a.clearRect(hi.x,hi.y,o.width,o.height),r.gifData.globalColorTable.length?a.putImageData(r.gifData.backgroundImage,u.x,u.y):a.putImageData(r.gifData.frames[IO].image,u.x+c.left,u.y+c.top);break;case js.RestorePrevious:{const d=a.getImageData(hi.x,hi.y,o.width,o.height);a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y),a.clearRect(hi.x,hi.y,o.width,o.height),a.putImageData(d,hi.x,hi.y)}break}if(i.gifTime+=s.value,i.gifTime>c.delayTime){if(i.gifTime-=c.delayTime,++l>=r.gifData.frames.length){if(--i.gifLoopCount<=NP)return;l=IO,a.clearRect(hi.x,hi.y,o.width,o.height)}i.gifFrame=l}e.scale(r.gifData.width/t,r.gifData.height/t)}}async function tie(n){if(n.type!=="gif"){await y1(n);return}n.loading=!0;try{n.gifData=await Jne(n.source),n.gifLoopCount=Qne(n.gifData)??NP,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const nie=2,iie=1,sie=12,rie=1;class oie{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${Ds} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:s,opacity:r}=e,o=s.image,a=o==null?void 0:o.element;if(o){if(t.globalAlpha=r,o.gif&&o.gifData)eie(e);else if(a){const l=o.ratio,u={x:-i,y:-i},c=i*nie;t.drawImage(a,u.x,u.y,c,c/l)}t.globalAlpha=iie}}getSidesCount(){return sie}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(s=>s.name===t.name||s.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,s=t.shapeData;if(!s)return;const r=t.getFillColor(),o=i.find(l=>l.name===s.name||l.source===s.src);if(!o)return;const a=s.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;o.svgData&&r?l=await Wne(o,s,r,t):l={color:r,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:s.width&&s.height?s.width/s.height:o.ratio??rie,replaceColor:a,source:s.src},l.ratio||(l.ratio=1);const u=s.fill??t.shapeFill,c=s.close??t.shapeClose,d={image:l,fill:u,close:c};t.image=d.image,t.shapeFill=d.fill,t.shapeClose=d.close})()}}class aie{constructor(){this.src="",this.gif=!1}load(e){K(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class lie{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!(t!=null&&t.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const s of t.preload){const r=i.find(o=>o.name===s.name||o.src===s.src);if(r)r.load(s);else{const o=new aie;o.load(s),i.push(o)}}}needsPlugin(){return!0}}const uie=3;function cie(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Ds} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-uie),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=tie:i=e.replaceColor?Hne:y1,await i(t)}catch{throw new Error(`${Ds} ${e.name??e.src} not found`)}})}async function hie(n,e=!0){ke(n,"3.7.1"),cie(n);const t=new lie(n);await n.addPlugin(t,e),await n.addShape(new oie(n),e)}class die extends yh{constructor(){super(),this.sync=!1}load(e){K(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class fie extends yh{constructor(){super(),this.sync=!1}load(e){K(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class pie{constructor(){this.count=0,this.delay=new die,this.duration=new fie}load(e){K(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Ih=0,gie=-1,LO=0,DO=0;function mie(n,e,t){if(!n.life)return;const i=n.life;let s=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)s=!0,n.spawning=!1,i.delayTime=Ih,i.time=Ih;else return;if(i.duration===gie||n.spawning||(s?i.time=Ih:i.time+=e.value,i.time<i.duration))return;if(i.time=Ih,n.life.count>LO&&n.life.count--,n.life.count===LO){n.destroy();return}const r=ze(DO,t.width),o=ze(DO,t.width);n.position.x=qi(r),n.position.y=qi(o),n.spawning=!0,i.delayTime=Ih,i.time=Ih,n.reset();const a=n.options.life;a&&(i.delay=le(a.delay.value)*Fn,i.duration=le(a.duration.value)*Fn)}const lu=0,OO=1,NO=-1;class vie{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,s=i.life;s&&(e.life={delay:t.retina.reduceFactor?le(s.delay.value)*(s.delay.sync?OO:st())/t.retina.reduceFactor*Fn:lu,delayTime:lu,duration:t.retina.reduceFactor?le(s.duration.value)*(s.duration.sync?OO:st())/t.retina.reduceFactor*Fn:lu,time:lu,count:s.count},e.life.duration<=lu&&(e.life.duration=NO),e.life.count<=lu&&(e.life.count=NO),e.life&&(e.spawning=e.life.delay>lu))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new pie);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){!this.isEnabled(e)||!e.life||mie(e,t,this.container.canvas.size)}}async function yie(n,e=!0){ke(n,"3.7.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new vie(t)),e)}function wie(n){const{context:e,particle:t,radius:i}=n,s=t.shapeData,r=0;e.moveTo(-i,r),e.lineTo(i,r),e.lineCap=(s==null?void 0:s.cap)??"butt"}const _ie=1;class bie{constructor(){this.validTypes=["line"]}draw(e){wie(e)}getSidesCount(){return _ie}}async function Sie(n,e=!0){ke(n,"3.7.1"),await n.addShape(new bie,e)}const FO=.5;class Aie{init(){}isEnabled(e){return!lh()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,s=i.interactivity.events.onHover.parallax;if(lh()||!s.enable)return;const r=s.force,o=t.interactivity.mouse.position;if(!o)return;const a=t.canvas.size,l={x:a.width*FO,y:a.height*FO},u=s.smooth,c=e.getRadius()/r,d={x:(o.x-l.x)*c,y:(o.y-l.y)*c},{offset:f}=e;f.x+=(d.x-f.x)/u,f.y+=(d.y-f.y)/u}}async function xie(n,e=!0){ke(n,"3.7.1"),await n.addMover("parallax",()=>Promise.resolve(new Aie),e)}const $O=1e3,Eie=1;class Pie extends $R{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=le(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,s=e.getPosition(),r=t.particles.quadTree.queryCircle(s,i);for(const o of r){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:u}=ni(s,a),c=e.options.move.attract.rotate,d=l/(c.x*$O),f=u/(c.y*$O),p=o.size.value/e.size.value,m=Eie/p;e.velocity.x-=d*p,e.velocity.y-=f*p,o.velocity.x+=d*m,o.velocity.y+=f*m}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Cie(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new Pie(t)),e)}const Tie=.5,kie=10,Rie=0;function BO(n,e,t,i,s,r){const o=Os(n.options.collisions.absorb.speed*s.factor/kie,Rie,i);n.size.value+=o*Tie,t.size.value-=o,i<=r&&(t.size.value=0,t.destroy())}function Mie(n,e,t,i){const s=n.getRadius(),r=e.getRadius();s===void 0&&r!==void 0?n.destroy():s!==void 0&&r===void 0?e.destroy():s!==void 0&&r!==void 0&&(s>=r?BO(n,s,e,r,t,i):BO(e,r,n,s,t,i))}const zO=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=le(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function m9(n,e){GU(MP(n),MP(e)),zO(n),zO(e)}function Iie(n,e){!n.unbreakable&&!e.unbreakable&&m9(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function Lie(n,e,t,i){switch(n.options.collisions.mode){case xd.absorb:{Mie(n,e,t,i);break}case xd.bounce:{m9(n,e);break}case xd.destroy:{Iie(n,e);break}}}const Die=2;class Oie extends $R{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,s=e.getPosition(),r=e.getRadius(),o=i.particles.quadTree.queryCircle(s,r*Die);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),u=a.getRadius();if(Math.abs(Math.round(s.z)-Math.round(l.z))>r+u)continue;const c=Xi(s,l),d=r+u;c>d||Lie(e,a,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function Nie(n,e=!0){ke(n,"3.7.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new Oie(t)),e)}const iA=2;class Fie extends $n{constructor(e,t,i,s){super(e,t,i),this.canvasSize=s,this.canvasSize={...s}}contains(e){const{width:t,height:i}=this.canvasSize,{x:s,y:r}=e;return super.contains(e)||super.contains({x:s-t,y:r})||super.contains({x:s-t,y:r-i})||super.contains({x:s,y:r-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,s={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const r=new $n(s.x,s.y,i.radius*iA);return super.intersects(r)}else if(t.size!==void 0){const r=new vr(s.x,s.y,t.size.width*iA,t.size.height*iA);return super.intersects(r)}return!1}}class $ie{constructor(){this.blur=5,this.color=new Un,this.color.value="#000",this.enable=!1}load(e){K(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class Bie{constructor(){this.enable=!1,this.frequency=1}load(e){K(e)||(e.color!==void 0&&(this.color=Un.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class zie{constructor(){this.blink=!1,this.color=new Un,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new $ie,this.triangles=new Bie,this.width=1,this.warp=!1}load(e){K(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Un.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const UO=2,Uie=1,G0={x:0,y:0},Vie=0;function jie(n,e,t,i,s){const{dx:r,dy:o,distance:a}=ni(n,e);if(!s||a<=t)return a;const l={x:Math.abs(r),y:Math.abs(o)},u={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(u.x**UO+u.y**UO)}class Hie extends $R{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const s=this._linkContainer,r=i.options.links;let o=r.id===void 0?s.particles.linksColor:s.particles.linksColors.get(r.id);if(o)return;const a=r.color;o=JU(this._engine,a,r.blink,r.consent),r.id===void 0?s.particles.linksColor=o:s.particles.linksColors.set(r.id,o)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,s=i.canvas.size;if(t.x<G0.x||t.y<G0.y||t.x>s.width||t.y>s.height)return;const r=e.options.links,o=r.opacity,a=e.retina.linksDistance??Vie,l=r.warp;let u;l?u=new Fie(t.x,t.y,a,s):u=new $n(t.x,t.y,a);const c=i.particles.quadTree.query(u);for(const d of c){const f=d.options.links;if(e===d||!(f!=null&&f.enable)||r.id!==f.id||d.spawning||d.destroyed||!d.links||e.links.some(w=>w.destination===d)||d.links.some(w=>w.destination===e))continue;const p=d.getPosition();if(p.x<G0.x||p.y<G0.y||p.x>s.width||p.y>s.height)continue;const m=jie(t,p,a,s,l&&f.warp);if(m>a)continue;const g=(Uie-m/a)*o;this._setColor(e),e.links.push({destination:d,opacity:g})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new zie);for(const i of t)e.links.load(i==null?void 0:i.links)}reset(){}}async function Wie(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new Hie(t,n)),e)}function Gie(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function qie(n){let e=!1;const{begin:t,end:i,engine:s,maxDistance:r,context:o,canvasSize:a,width:l,backgroundMask:u,colorLine:c,opacity:d,links:f}=n;if(Xi(t,i)<=r)Gg(o,t,i),e=!0;else if(f.warp){let m,g;const w={x:i.x-a.width,y:i.y},v=ni(t,w);if(v.distance<=r){const y=t.y-v.dy/v.dx*t.x;m={x:0,y},g={x:a.width,y}}else{const y={x:i.x,y:i.y-a.height},_=ni(t,y);if(_.distance<=r){const E=-(t.y-_.dy/_.dx*t.x)/(_.dy/_.dx);m={x:E,y:0},g={x:E,y:a.height}}else{const A={x:i.x-a.width,y:i.y-a.height},E=ni(t,A);if(E.distance<=r){const C=t.y-E.dy/E.dx*t.x;m={x:-C/(E.dy/E.dx),y:C},g={x:m.x+a.width,y:m.y+a.height}}}}m&&g&&(Gg(o,t,m),Gg(o,i,g),e=!0)}if(!e)return;o.lineWidth=l,u.enable&&(o.globalCompositeOperation=u.composite),o.strokeStyle=ua(c,d);const{shadow:p}=f;if(p.enable){const m=fr(s,p.color);m&&(o.shadowBlur=p.blur,o.shadowColor=ua(m))}o.stroke()}function Kie(n){const{context:e,pos1:t,pos2:i,pos3:s,backgroundMask:r,colorTriangle:o,opacityTriangle:a}=n;Gie(e,t,i,s),r.enable&&(e.globalCompositeOperation=r.composite),e.fillStyle=ua(o,a),e.fill()}function Zie(n){return n.sort((e,t)=>e-t),n.join("_")}function VO(n,e){const t=Zie(n.map(s=>s.id));let i=e.get(t);return i===void 0&&(i=st(),e.set(t,i)),i}const jO=0,sA=0,HO=0,Yie=.5,Xie=1;class Qie{constructor(e,t){this._drawLinkLine=(i,s)=>{const r=i.options.links;if(!(r!=null&&r.enable))return;const o=this._container,a=o.actualOptions,l=s.destination,u=i.getPosition(),c=l.getPosition();let d=s.opacity;o.canvas.draw(f=>{var y;let p;const m=(y=i.options.twinkle)==null?void 0:y.lines;if(m!=null&&m.enable){const _=m.frequency,A=fr(this._engine,m.color);st()<_&&A&&(p=A,d=le(m.opacity))}if(!p){const _=r.id!==void 0?o.particles.linksColors.get(r.id):o.particles.linksColor;p=LP(i,l,_)}if(!p)return;const g=i.retina.linksWidth??sA,w=i.retina.linksDistance??HO,{backgroundMask:v}=a;qie({context:f,width:g,begin:u,end:c,engine:this._engine,maxDistance:w,canvasSize:o.canvas.size,links:r,backgroundMask:v,colorLine:p,opacity:d})})},this._drawLinkTriangle=(i,s,r)=>{const o=i.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const l=this._container,u=l.actualOptions,c=s.destination,d=r.destination,f=a.opacity??(s.opacity+r.opacity)*Yie;f<=jO||l.canvas.draw(p=>{const m=i.getPosition(),g=c.getPosition(),w=d.getPosition(),v=i.retina.linksDistance??HO;if(Xi(m,g)>v||Xi(w,g)>v||Xi(w,m)>v)return;let y=fr(this._engine,a.color);if(!y){const _=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;y=LP(i,c,_)}y&&Kie({context:p,pos1:m,pos2:g,pos3:w,backgroundMask:u.backgroundMask,colorTriangle:y,opacityTriangle:f})})},this._drawTriangles=(i,s,r,o)=>{var u,c,d;const a=r.destination;if(!((u=i.links)!=null&&u.triangles.enable&&((c=a.options.links)!=null&&c.triangles.enable)))return;const l=(d=a.links)==null?void 0:d.filter(f=>{const p=this._getLinkFrequency(a,f.destination);return a.options.links&&p<=a.options.links.frequency&&o.findIndex(g=>g.destination===f.destination)>=0});if(l!=null&&l.length)for(const f of l){const p=f.destination;this._getTriangleFrequency(s,a,p)>i.links.triangles.frequency||this._drawLinkTriangle(s,r,f)}},this._getLinkFrequency=(i,s)=>VO([i,s],this._freqs.links),this._getTriangleFrequency=(i,s,r)=>VO([i,s,r],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:s}=t;if(!(i!=null&&i.length))return;const r=i.filter(o=>s.links&&(s.links.frequency>=Xie||this._getLinkFrequency(t,o.destination)<=s.links.frequency));for(const o of r)this._drawTriangles(s,t,o,r),o.opacity>jO&&(t.retina.linksWidth??sA)>sA&&this._drawLinkLine(t,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:s,width:r}=e.options.links;i.linksDistance=s*t,i.linksWidth=r*t}particleDestroyed(e){e.links=[]}}class Jie{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new Qie(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function ese(n,e=!0){const t=new Jie(n);await n.addPlugin(t,e)}async function tse(n,e=!0){ke(n,"3.7.1"),await Wie(n,e),await ese(n,e)}const nse=180,q0={x:0,y:0},ise=2;function sse(n,e,t){const{context:i}=n,s=t.count.numerator*t.count.denominator,r=t.count.numerator/t.count.denominator,o=nse*(r-ise)/r,a=Math.PI-Bl(o);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(q0.x,q0.y);for(let l=0;l<s;l++)i.lineTo(t.length,q0.y),i.translate(t.length,q0.y),i.rotate(a)}}const rse=5;class v9{draw(e){const{particle:t,radius:i}=e,s=this.getCenter(t,i),r=this.getSidesData(t,i);sse(e,s,r)}getSidesCount(e){const t=e.shapeData;return Math.round(le((t==null?void 0:t.sides)??rse))}}const WO=3.5,GO=2.66,ose=3;class ase extends v9{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/WO),y:-t/(GO/WO)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*GO/(i/ose)}}}const lse=1.66,use=3,cse=2;class hse extends v9{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/lse}}getSidesCount(){return use}getSidesData(e,t){const i=t*cse;return{count:{denominator:2,numerator:3},length:i}}}async function dse(n,e=!0){ke(n,"3.7.1"),await n.addShape(new ase,e)}async function fse(n,e=!0){ke(n,"3.7.1"),await n.addShape(new hse,e)}async function pse(n,e=!0){ke(n,"3.7.1"),await dse(n,e),await fse(n,e)}class gse{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){K(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ze(e.speed)),e.decay!==void 0&&(this.decay=ze(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class mse extends yh{constructor(){super(),this.animation=new gse,this.direction=Es.clockwise,this.path=!1,this.value=0}load(e){K(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const y9=2,vse=Math.PI*y9,yse=1,wse=360;class _se{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Bl(le(t.value)),min:0,max:vse},e.pathRotation=t.path;let i=t.direction;switch(i===Es.random&&(i=Math.floor(st()*y9)>0?Es.counterClockwise:Es.clockwise),i){case Es.counterClockwise:case"counterClockwise":e.rotate.status=Nt.decreasing;break;case Es.clockwise:e.rotate.status=Nt.increasing;break}const s=t.animation;s.enable&&(e.rotate.decay=yse-le(s.decay),e.rotate.velocity=le(s.speed)/wse*this.container.retina.reduceFactor,s.sync||(e.rotate.velocity*=st())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new mse);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(DR(e,e.rotate,!1,oh.none,t),e.rotation=e.rotate.value))}}async function bse(n,e=!0){ke(n,"3.7.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new _se(t)),e)}const Sse=2,Ase=Math.sqrt(Sse),xse=2;function Ese(n){const{context:e,radius:t}=n,i=t/Ase,s=i*xse;e.rect(-i,-i,s,s)}const Pse=4;class Cse{constructor(){this.validTypes=["edge","square"]}draw(e){Ese(e)}getSidesCount(){return Pse}}async function Tse(n,e=!0){ke(n,"3.7.1"),await n.addShape(new Cse,e)}const kse=2,Lh={x:0,y:0};function Rse(n){const{context:e,particle:t,radius:i}=n,s=t.sides,r=t.starInset??kse;e.moveTo(Lh.x,Lh.y-i);for(let o=0;o<s;o++)e.rotate(Math.PI/s),e.lineTo(Lh.x,Lh.y-i*r),e.rotate(Math.PI/s),e.lineTo(Lh.x,Lh.y-i)}const Mse=2,Ise=5;class Lse{constructor(){this.validTypes=["star"]}draw(e){Rse(e)}getSidesCount(e){const t=e.shapeData;return Math.round(le((t==null?void 0:t.sides)??Ise))}particleInit(e,t){const i=t.shapeData;t.starInset=le((i==null?void 0:i.inset)??Mse)}}async function Dse(n,e=!0){ke(n,"3.7.1"),await n.addShape(new Lse,e)}const Ose=1;class Nse{constructor(e,t){this._container=e,this._engine=t}init(e){var o;const t=this._container,i=e.options,s=lr(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=le(s.width)*t.retina.pixelRatio,e.strokeOpacity=le(s.opacity??Ose),e.strokeAnimation=(o=s.color)==null?void 0:o.animation;const r=xm(this._engine,s.color)??e.getFillColor();r&&(e.strokeColor=e9(r,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&t9(e.strokeColor,t)}}async function Fse(n,e=!0){ke(n,"3.7.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new Nse(t,n)),e)}async function Que(n,e=!0){ke(n,"3.7.1"),await xie(n,!1),await Tte(n,!1),await Fte(n,!1),await Wte(n,!1),await tne(n,!1),await hne(n,!1),await pne(n,!1),await wne(n,!1),await Ane(n,!1),await Dne(n,!1),await Bne(n,!1),await Cie(n,!1),await Nie(n,!1),await tse(n,!1),await yte(n,!1),await bte(n,!1),await hie(n,!1),await Sie(n,!1),await pse(n,!1),await Tse(n,!1),await Dse(n,!1),await yie(n,!1),await bse(n,!1),await Fse(n,!1),await vte(n,e)}var $se=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const Bse=xy($se),zse=Object.freeze(Object.defineProperty({__proto__:null,default:Bse},Symbol.toStringTag,{value:"Module"}));function qO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function KO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(t),!0).forEach(function(i){w9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function a_(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a_=function(e){return typeof e}:a_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(n)}function w9(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Use(n,e){return Vse(n)||jse(n,e)||Hse(n,e)||Wse()}function Vse(n){if(Array.isArray(n))return n}function jse(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var i=[],s=!0,r=!1,o,a;try{for(t=t.call(n);!(s=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&t.return!=null&&t.return()}finally{if(r)throw a}}return i}}function Hse(n,e){if(n){if(typeof n=="string")return ZO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZO(n,e)}}function ZO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Wse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gse=function(e){var t=pe.useRef(e);return pe.useEffect(function(){t.current=e},[e]),t.current},sb=function(e){return e!==null&&a_(e)==="object"},YO="[object Object]",qse=function n(e,t){if(!sb(e)||!sb(t))return e===t;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var r=Object.prototype.toString.call(e)===YO,o=Object.prototype.toString.call(t)===YO;if(r!==o)return!1;if(!r&&!i)return e===t;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(var u={},c=0;c<a.length;c+=1)u[a[c]]=!0;for(var d=0;d<l.length;d+=1)u[l[d]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var p=e,m=t,g=function(v){return n(p[v],m[v])};return f.every(g)},Kse=function(e,t,i){return sb(e)?Object.keys(e).reduce(function(s,r){var o=!sb(t)||!qse(e[r],t[r]);return i.includes(r)?(o&&console.warn("Unsupported prop change: options.".concat(r," is not a mutable property.")),s):o?KO(KO({},s||{}),{},w9({},r,e[r])):s},null):null},_9=pe.createContext(null);_9.displayName="ElementsContext";var Zse=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},b9=pe.createContext(null);b9.displayName="CartElementContext";var Yse=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};Le.any,Le.object;var XO=function(e){var t=pe.useContext(_9);return Zse(t,e)},QO=function(e){var t=pe.useContext(b9);return Yse(t,e)};Le.func.isRequired;var jn=function(e,t,i){var s=!!i,r=pe.useRef(i);pe.useEffect(function(){r.current=i},[i]),pe.useEffect(function(){if(!s||!e)return function(){};var o=function(){r.current&&r.current.apply(r,arguments)};return e.on(t,o),function(){e.off(t,o)}},[s,t,e,r])},Xse=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Vt=function(e,t){var i="".concat(Xse(e),"Element"),s=function(l){var u=l.id,c=l.className,d=l.options,f=d===void 0?{}:d,p=l.onBlur,m=l.onFocus,g=l.onReady,w=l.onChange,v=l.onEscape,y=l.onClick,_=l.onLoadError,A=l.onLoaderStart,E=l.onNetworksChange,C=l.onCheckout,T=l.onLineItemClick,k=l.onConfirm,P=l.onCancel,M=l.onShippingAddressChange,D=l.onShippingRateChange,H=XO("mounts <".concat(i,">")),W=H.elements,F=pe.useState(null),X=Use(F,2),Y=X[0],G=X[1],N=pe.useRef(null),Q=pe.useRef(null),J=QO("mounts <".concat(i,">")),he=J.setCart,ue=J.setCartState;jn(Y,"blur",p),jn(Y,"focus",m),jn(Y,"escape",v),jn(Y,"click",y),jn(Y,"loaderror",_),jn(Y,"loaderstart",A),jn(Y,"networkschange",E),jn(Y,"lineitemclick",T),jn(Y,"confirm",k),jn(Y,"cancel",P),jn(Y,"shippingaddresschange",M),jn(Y,"shippingratechange",D);var ge;e==="cart"?ge=function(Vn){ue(Vn),g&&g(Vn)}:g&&(e==="payButton"?ge=g:ge=function(){g(Y)}),jn(Y,"ready",ge);var $e=e==="cart"?function(oe){ue(oe),w&&w(oe)}:w;jn(Y,"change",$e);var Xe=e==="cart"?function(oe){ue(oe),C&&C(oe)}:C;jn(Y,"checkout",Xe),pe.useLayoutEffect(function(){if(N.current===null&&W&&Q.current!==null){var oe=W.create(e,f);e==="cart"&&he&&he(oe),N.current=oe,G(oe),oe.mount(Q.current)}},[W,f,he]);var Pe=Gse(f);return pe.useEffect(function(){if(N.current){var oe=Kse(f,Pe,["paymentRequest"]);oe&&N.current.update(oe)}},[f,Pe]),pe.useLayoutEffect(function(){return function(){N.current&&(N.current.destroy(),N.current=null)}},[]),pe.createElement("div",{id:u,className:c,ref:Q})},r=function(l){XO("mounts <".concat(i,">")),QO("mounts <".concat(i,">"));var u=l.id,c=l.className;return pe.createElement("div",{id:u,className:c})},o=t?r:s;return o.propTypes={id:Le.string,className:Le.string,onChange:Le.func,onBlur:Le.func,onFocus:Le.func,onReady:Le.func,onEscape:Le.func,onClick:Le.func,onLoadError:Le.func,onLoaderStart:Le.func,onNetworksChange:Le.func,onCheckout:Le.func,onLineItemClick:Le.func,onConfirm:Le.func,onCancel:Le.func,onShippingAddressChange:Le.func,onShippingRateChange:Le.func,options:Le.object},o.displayName=i,o.__elementType=e,o},jt=typeof window>"u";Vt("auBankAccount",jt);var Qse=Vt("card",jt);Vt("cardNumber",jt);Vt("cardExpiry",jt);Vt("cardCvc",jt);Vt("fpxBank",jt);Vt("iban",jt);Vt("idealBank",jt);Vt("p24Bank",jt);Vt("epsBank",jt);Vt("payment",jt);Vt("payButton",jt);Vt("paymentRequestButton",jt);Vt("linkAuthentication",jt);Vt("address",jt);Vt("shippingAddress",jt);Vt("cart",jt);Vt("paymentMethodMessaging",jt);Vt("affirmMessage",jt);Vt("afterpayClearpayMessage",jt);var zR=Object.defineProperty,Jse=Object.getOwnPropertyDescriptor,ere=Object.getOwnPropertyNames,tre=Object.prototype.hasOwnProperty,nre=(n,e)=>{for(var t in e)zR(n,t,{get:e[t],enumerable:!0})},ire=(n,e,t,i)=>{if(typeof e=="object"||typeof e=="function")for(let s of ere(e))!tre.call(n,s)&&s!==t&&zR(n,s,{get:()=>e[s],enumerable:!(i=Jse(e,s))||i.enumerable});return n},sre=n=>ire(zR({},"__esModule",{value:!0}),n),JO=(n,e,t)=>new Promise((i,s)=>{var r=l=>{try{a(t.next(l))}catch(u){s(u)}},o=l=>{try{a(t.throw(l))}catch(u){s(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(n,e)).next())}),S9={};nre(S9,{SubmissionError:()=>wu,appendExtraData:()=>l_,createClient:()=>A9,getDefaultClient:()=>Ere,isSubmissionError:()=>pre});var FP=sre(S9),kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rre=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function ore(n){n=String(n);for(var e,t,i,s,r="",o=0,a=n.length%3;o<n.length;){if((t=n.charCodeAt(o++))>255||(i=n.charCodeAt(o++))>255||(s=n.charCodeAt(o++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");e=t<<16|i<<8|s,r+=kl.charAt(e>>18&63)+kl.charAt(e>>12&63)+kl.charAt(e>>6&63)+kl.charAt(e&63)}return a?r.slice(0,a-3)+"===".substring(a):r}function are(n){if(n=String(n).replace(/[\t\n\f\r ]+/g,""),!rre.test(n))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");n+="==".slice(2-(n.length&3));for(var e,t="",i,s,r=0;r<n.length;)e=kl.indexOf(n.charAt(r++))<<18|kl.indexOf(n.charAt(r++))<<12|(i=kl.indexOf(n.charAt(r++)))<<6|(s=kl.indexOf(n.charAt(r++))),t+=i===64?String.fromCharCode(e>>16&255):s===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,e&255);return t}var lre=()=>navigator.webdriver||!!document.documentElement.getAttribute(are("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,ure=class{constructor(){this.loadedAt=Date.now(),this.webdriver=lre()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},cre=class{constructor(e){this.kind="success",this.next=e.next}};function hre(n){return"next"in n&&typeof n.next=="string"}var dre=class{constructor(e,t){this.paymentIntentClientSecret=e,this.resubmitKey=t,this.kind="stripePluginPending"}};function fre(n){if("stripe"in n&&"resubmitKey"in n&&typeof n.resubmitKey=="string"){let{stripe:e}=n;return typeof e=="object"&&e!=null&&"paymentIntentClientSecret"in e&&typeof e.paymentIntentClientSecret=="string"}return!1}function pre(n){return n.kind==="error"}var wu=class{constructor(...e){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var t;for(let i of e){if(!i.field){this.formErrors.push({code:i.code&&gre(i.code)?i.code:"UNSPECIFIED",message:i.message});continue}let s=(t=this.fieldErrors.get(i.field))!=null?t:[];s.push({code:i.code&&vre(i.code)?i.code:"UNSPECIFIED",message:i.message}),this.fieldErrors.set(i.field,s)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(e){var t;return(t=this.fieldErrors.get(e))!=null?t:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function gre(n){return n in mre}var mre={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function vre(n){return n in yre}var yre={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function wre(n){return"errors"in n&&Array.isArray(n.errors)&&n.errors.every(e=>typeof e.message=="string")||"error"in n&&typeof n.error=="string"}var _re="3.0.1",bre=n=>ore(JSON.stringify(n)),Sre=n=>{let e=`@formspree/core@${_re}`;return n?`${n} ${e}`:e};function l_(n,e,t){n instanceof FormData?n.append(e,t):n[e]=t}function Are(n){return n!==null&&typeof n=="object"}var xre=class{constructor(e={}){this.project=e.project,this.stripe=e.stripe,typeof window<"u"&&(this.session=new ure)}submitForm(e,t){return JO(this,arguments,function*(i,s,r={}){let o=r.endpoint||"https://formspree.io",a=this.project?`${o}/p/${this.project}/f/${i}`:`${o}/f/${i}`,l={Accept:"application/json","Formspree-Client":Sre(r.clientName)};this.session&&(l["Formspree-Session-Data"]=bre(this.session.data())),s instanceof FormData||(l["Content-Type"]="application/json");function u(d){return JO(this,null,function*(){try{let f=yield(yield fetch(a,{method:"POST",mode:"cors",body:d instanceof FormData?d:JSON.stringify(d),headers:l})).json();if(Are(f)){if(wre(f))return Array.isArray(f.errors)?new wu(...f.errors):new wu({message:f.error});if(fre(f))return new dre(f.stripe.paymentIntentClientSecret,f.resubmitKey);if(hre(f))return new cre({next:f.next})}return new wu({message:"Unexpected response format"})}catch(f){let p=f instanceof Error?f.message:`Unknown error while posting to Formspree: ${JSON.stringify(f)}`;return new wu({message:p})}})}if(this.stripe&&r.createPaymentMethod){let d=yield r.createPaymentMethod();if(d.error)return new wu({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});l_(s,"paymentMethod",d.paymentMethod.id);let f=yield u(s);if(f.kind==="error")return f;if(f.kind==="stripePluginPending"){let p=yield this.stripe.handleCardAction(f.paymentIntentClientSecret);if(p.error)return new wu({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});s instanceof FormData?s.delete("paymentMethod"):delete s.paymentMethod,l_(s,"paymentIntent",p.paymentIntent.id),l_(s,"resubmitKey",f.resubmitKey);let m=yield u(s);return e2(m),m}return f}let c=yield u(s);return e2(c),c})}};function e2(n){let{kind:e}=n;if(e!=="success"&&e!=="error")throw new Error(`Unexpected submission result (kind: ${e})`)}var A9=n=>new xre(n),Ere=()=>(rA||(rA=A9()),rA),rA,x9={};Object.defineProperty(x9,"__esModule",{value:!0});function u_(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u_=function(e){return typeof e}:u_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(n)}var E9="https://js.stripe.com/v3",Pre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,t2="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Cre=function(){for(var e=document.querySelectorAll('script[src^="'.concat(E9,'"]')),t=0;t<e.length;t++){var i=e[t];if(Pre.test(i.src))return i}return null},Tre=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(E9).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(i),i},kre=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})},K0=null,Rre=function(e){return K0!==null||(K0=new Promise(function(t,i){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(t2),window.Stripe){t(window.Stripe);return}try{var s=Cre();s&&e?console.warn(t2):s||(s=Tre(e)),s.addEventListener("load",function(){window.Stripe?t(window.Stripe):i(new Error("Stripe.js not available"))}),s.addEventListener("error",function(){i(new Error("Failed to load Stripe.js"))})}catch(r){i(r);return}})),K0},Mre=function(e,t,i){if(e===null)return null;var s=e.apply(void 0,t);return kre(s,i),s},n2=function(e){var t=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(e),`
`);if(e===null||u_(e)!=="object")throw new Error(t);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(t)},c_,$P=!1,P9=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];$P=!0;var s=Date.now();return Rre(c_).then(function(r){return Mre(r,t,s)})};P9.setLoadParameters=function(n){if($P&&c_){var e=n2(n),t=Object.keys(e),i=t.reduce(function(s,r){var o;return s&&n[r]===((o=c_)===null||o===void 0?void 0:o[r])},!0);if(i)return}if($P)throw new Error("You cannot change load parameters after calling loadStripe");c_=n2(n)};x9.loadStripe=P9;function sce(n){let{prefix:e,field:t,errors:i,...s}=n;if(i==null)return null;let r=t?i.getFieldErrors(t):i.getFormErrors();return r.length===0?null:pe.createElement("div",{...s},e?`${e} `:null,r.map(o=>o.message).join(", "))}var Ire=pe.createContext(null);function Lre(){return L.useContext(Ire)??{client:FP.getDefaultClient()}}var Dre="2.5.1",Ore=`@formspree/react@${Dre}`;function Nre(n,e={}){let t=Lre(),{client:i=t.client,extraData:s,onError:r,onSuccess:o,origin:a}=e,{stripe:l}=i,u=L.useMemo(()=>l==null?void 0:l.elements().getElement(Qse),[l]);return async function(c){let d=Fre(c)?$re(c):c;if(typeof s=="object")for(let[p,m]of Object.entries(s)){let g;typeof m=="function"?g=await m():g=m,g!==void 0&&FP.appendExtraData(d,p,g)}let f=await i.submitForm(n,d,{endpoint:a,clientName:Ore,createPaymentMethod:l&&u?()=>l.createPaymentMethod({type:"card",card:u,billing_details:Bre(d)}):void 0});FP.isSubmissionError(f)?r==null||r(f):o==null||o(f)}}function Fre(n){return"preventDefault"in n&&typeof n.preventDefault=="function"}function $re(n){n.preventDefault();let e=n.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function Bre(n){let e={address:zre(n)};for(let t of["name","email","phone"]){let i=n instanceof FormData?n.get(t):n[t];i&&typeof i=="string"&&(e[t]=i)}return e}function zre(n){let e={};for(let[t,i]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let s=n instanceof FormData?n.get(t):n[t];s&&typeof s=="string"&&(e[i]=s)}return e}function rce(n,e={}){let[t,i]=L.useState(null),[s,r]=L.useState(null),[o,a]=L.useState(!1),[l,u]=L.useState(!1),c=Nre(n,{client:e.client,extraData:e.data,onError(d){i(d),a(!1),u(!1)},onSuccess(d){i(null),r(d),a(!1),u(!0)},origin:e.endpoint});return[{errors:t,result:s,submitting:o,succeeded:l},async function(d){a(!0),await c(d)},function(){i(null),r(null),a(!1),u(!1)}]}const Tm=n=>typeof n=="number"&&!isNaN(n),Xc=n=>typeof n=="string",Ki=n=>typeof n=="function",h_=n=>Xc(n)||Ki(n)?n:null,BP=n=>L.isValidElement(n)||Xc(n)||Ki(n)||Tm(n);function Ure(n,e,t){t===void 0&&(t=300);const{scrollHeight:i,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function w1(n){let{enter:e,exit:t,appendPosition:i=!1,collapse:s=!0,collapseDuration:r=300}=n;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f,playToast:p}=o;const m=i?`${e}--${l}`:e,g=i?`${t}--${l}`:t,w=L.useRef(0);return L.useLayoutEffect(()=>{const v=d.current,y=m.split(" "),_=A=>{A.target===d.current&&(p(),v.removeEventListener("animationend",_),v.removeEventListener("animationcancel",_),w.current===0&&A.type!=="animationcancel"&&v.classList.remove(...y))};v.classList.add(...y),v.addEventListener("animationend",_),v.addEventListener("animationcancel",_)},[]),L.useEffect(()=>{const v=d.current,y=()=>{v.removeEventListener("animationend",y),s?Ure(v,c,r):c()};f||(u?y():(w.current=1,v.className+=` ${g}`,v.addEventListener("animationend",y)))},[f]),pe.createElement(pe.Fragment,null,a)}}function i2(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const Jn=new Map;let km=[];const zP=new Set,Vre=n=>zP.forEach(e=>e(n)),C9=()=>Jn.size>0;function T9(n,e){var t;if(e)return!((t=Jn.get(e))==null||!t.isToastActive(n));let i=!1;return Jn.forEach(s=>{s.isToastActive(n)&&(i=!0)}),i}function k9(n,e){BP(n)&&(C9()||km.push({content:n,options:e}),Jn.forEach(t=>{t.buildToast(n,e)}))}function s2(n,e){Jn.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function jre(n){const{subscribe:e,getSnapshot:t,setProps:i}=L.useRef(function(r){const o=r.containerId||1;return{subscribe(a){const l=function(c,d,f){let p=1,m=0,g=[],w=[],v=[],y=d;const _=new Map,A=new Set,E=()=>{v=Array.from(_.values()),A.forEach(k=>k())},C=k=>{w=k==null?[]:w.filter(P=>P!==k),E()},T=k=>{const{toastId:P,onOpen:M,updateId:D,children:H}=k.props,W=D==null;k.staleId&&_.delete(k.staleId),_.set(P,k),w=[...w,k.props.toastId].filter(F=>F!==k.staleId),E(),f(i2(k,W?"added":"updated")),W&&Ki(M)&&M(L.isValidElement(H)&&H.props)};return{id:c,props:y,observe:k=>(A.add(k),()=>A.delete(k)),toggle:(k,P)=>{_.forEach(M=>{P!=null&&P!==M.props.toastId||Ki(M.toggle)&&M.toggle(k)})},removeToast:C,toasts:_,clearQueue:()=>{m-=g.length,g=[]},buildToast:(k,P)=>{if((ue=>{let{containerId:ge,toastId:$e,updateId:Xe}=ue;const Pe=ge?ge!==c:c!==1,oe=_.has($e)&&Xe==null;return Pe||oe})(P))return;const{toastId:M,updateId:D,data:H,staleId:W,delay:F}=P,X=()=>{C(M)},Y=D==null;Y&&m++;const G={...y,style:y.toastStyle,key:p++,...Object.fromEntries(Object.entries(P).filter(ue=>{let[ge,$e]=ue;return $e!=null})),toastId:M,updateId:D,data:H,closeToast:X,isIn:!1,className:h_(P.className||y.toastClassName),bodyClassName:h_(P.bodyClassName||y.bodyClassName),progressClassName:h_(P.progressClassName||y.progressClassName),autoClose:!P.isLoading&&(N=P.autoClose,Q=y.autoClose,N===!1||Tm(N)&&N>0?N:Q),deleteToast(){const ue=_.get(M),{onClose:ge,children:$e}=ue.props;Ki(ge)&&ge(L.isValidElement($e)&&$e.props),f(i2(ue,"removed")),_.delete(M),m--,m<0&&(m=0),g.length>0?T(g.shift()):E()}};var N,Q;G.closeButton=y.closeButton,P.closeButton===!1||BP(P.closeButton)?G.closeButton=P.closeButton:P.closeButton===!0&&(G.closeButton=!BP(y.closeButton)||y.closeButton);let J=k;L.isValidElement(k)&&!Xc(k.type)?J=L.cloneElement(k,{closeToast:X,toastProps:G,data:H}):Ki(k)&&(J=k({closeToast:X,toastProps:G,data:H}));const he={content:J,props:G,staleId:W};y.limit&&y.limit>0&&m>y.limit&&Y?g.push(he):Tm(F)?setTimeout(()=>{T(he)},F):T(he)},setProps(k){y=k},setToggle:(k,P)=>{_.get(k).toggle=P},isToastActive:k=>w.some(P=>P===k),getSnapshot:()=>v}}(o,r,Vre);Jn.set(o,l);const u=l.observe(a);return km.forEach(c=>k9(c.content,c.options)),km=[],()=>{u(),Jn.delete(o)}},setProps(a){var l;(l=Jn.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Jn.get(o))==null?void 0:a.getSnapshot()}}}(n)).current;i(n);const s=L.useSyncExternalStore(e,t,t);return{getToastToRender:function(r){if(!s)return[];const o=new Map;return n.newestOnTop&&s.reverse(),s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>r(a[0],a[1]))},isToastActive:T9,count:s==null?void 0:s.length}}function Hre(n){const[e,t]=L.useState(!1),[i,s]=L.useState(!1),r=L.useRef(null),o=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=n;var f,p;function m(){t(!0)}function g(){t(!1)}function w(_){const A=r.current;o.canDrag&&A&&(o.didMove=!0,e&&g(),o.delta=n.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),A.style.transform=`translate3d(${n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,A.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",v);const _=r.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),n.closeToast(),void n.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(p=Jn.get((f={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||p.setToggle(f.id,f.fn),L.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}},[n.pauseOnFocusLoss]);const y={onPointerDown:function(_){if(n.draggable===!0||n.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",v);const A=r.current;o.canCloseOnClick=!0,o.canDrag=!0,A.style.transition="none",n.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=A.offsetWidth*(n.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=A.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(_){const{top:A,bottom:E,left:C,right:T}=r.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&n.pauseOnHover&&_.clientX>=C&&_.clientX<=T&&_.clientY>=A&&_.clientY<=E?g():m()}};return a&&l&&(y.onMouseEnter=g,n.stacked||(y.onMouseLeave=m)),d&&(y.onClick=_=>{c&&c(_),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:e,preventExitTransition:i,toastRef:r,eventHandlers:y}}function Wre(n){let{delay:e,isRunning:t,closeToast:i,type:s="default",hide:r,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:f}=n;const p=r||l&&u===0,m={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(m.transform=`scaleX(${u})`);const g=Cl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":c}),w=Ki(o)?o({rtl:c,type:s,defaultClassName:g}):Cl(g,o),v={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&i()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${s}`}),pe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:w,style:m,...v}))}let Gre=1;const R9=()=>""+Gre++;function qre(n){return n&&(Xc(n.toastId)||Tm(n.toastId))?n.toastId:R9()}function qg(n,e){return k9(n,e),e.toastId}function rb(n,e){return{...e,type:e&&e.type||n,toastId:qre(e)}}function Z0(n){return(e,t)=>qg(e,rb(n,t))}function nt(n,e){return qg(n,rb("default",e))}nt.loading=(n,e)=>qg(n,rb("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),nt.promise=function(n,e,t){let i,{pending:s,error:r,success:o}=e;s&&(i=Xc(s)?nt.loading(s,t):nt.loading(s.render,{...t,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,f)=>{if(d==null)return void nt.dismiss(i);const p={type:c,...a,...t,data:f},m=Xc(d)?{render:d}:d;return i?nt.update(i,{...p,...m}):nt(m.render,{...p,...m}),f},u=Ki(n)?n():n;return u.then(c=>l("success",o,c)).catch(c=>l("error",r,c)),u},nt.success=Z0("success"),nt.info=Z0("info"),nt.error=Z0("error"),nt.warning=Z0("warning"),nt.warn=nt.warning,nt.dark=(n,e)=>qg(n,rb("default",{theme:"dark",...e})),nt.dismiss=function(n){(function(e){var t;if(C9()){if(e==null||Xc(t=e)||Tm(t))Jn.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=Jn.get(e.containerId);i?i.removeToast(e.id):Jn.forEach(s=>{s.removeToast(e.id)})}}else km=km.filter(i=>e!=null&&i.options.toastId!==e)})(n)},nt.clearWaitingQueue=function(n){n===void 0&&(n={}),Jn.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},nt.isActive=T9,nt.update=function(n,e){e===void 0&&(e={});const t=((i,s)=>{var r;let{containerId:o}=s;return(r=Jn.get(o||1))==null?void 0:r.toasts.get(i)})(n,e);if(t){const{props:i,content:s}=t,r={delay:100,...i,...e,toastId:e.toastId||n,updateId:R9()};r.toastId!==n&&(r.staleId=n);const o=r.render||s;delete r.render,qg(o,r)}},nt.done=n=>{nt.update(n,{progress:1})},nt.onChange=function(n){return zP.add(n),()=>{zP.delete(n)}},nt.play=n=>s2(!0,n),nt.pause=n=>s2(!1,n);const Kre=typeof window<"u"?L.useLayoutEffect:L.useEffect,Y0=n=>{let{theme:e,type:t,isLoading:i,...s}=n;return pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s})},oA={info:function(n){return pe.createElement(Y0,{...n},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return pe.createElement(Y0,{...n},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return pe.createElement(Y0,{...n},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return pe.createElement(Y0,{...n},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return pe.createElement("div",{className:"Toastify__spinner"})}},Zre=n=>{const{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:s,playToast:r}=Hre(n),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:f,transition:p,position:m,className:g,style:w,bodyClassName:v,bodyStyle:y,progressClassName:_,progressStyle:A,updateId:E,role:C,progress:T,rtl:k,toastId:P,deleteToast:M,isIn:D,isLoading:H,closeOnClick:W,theme:F}=n,X=Cl("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":W}),Y=Ki(g)?g({rtl:k,position:m,type:c,defaultClassName:X}):Cl(X,g),G=function(he){let{theme:ue,type:ge,isLoading:$e,icon:Xe}=he,Pe=null;const oe={theme:ue,type:ge};return Xe===!1||(Ki(Xe)?Pe=Xe({...oe,isLoading:$e}):L.isValidElement(Xe)?Pe=L.cloneElement(Xe,oe):$e?Pe=oA.spinner():(Vn=>Vn in oA)(ge)&&(Pe=oA[ge](oe))),Pe}(n),N=!!T||!l,Q={closeToast:f,type:c,theme:F};let J=null;return o===!1||(J=Ki(o)?o(Q):L.isValidElement(o)?L.cloneElement(o,Q):function(he){let{closeToast:ue,theme:ge,ariaLabel:$e="close"}=he;return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ge}`,type:"button",onClick:Xe=>{Xe.stopPropagation(),ue(Xe)},"aria-label":$e},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Q)),pe.createElement(p,{isIn:D,done:M,position:m,preventExitTransition:t,nodeRef:i,playToast:r},pe.createElement("div",{id:P,onClick:u,"data-in":D,className:Y,...s,style:w,ref:i},pe.createElement("div",{...D&&{role:C},className:Ki(v)?v({type:c}):Cl("Toastify__toast-body",v),style:y},G!=null&&pe.createElement("div",{className:Cl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},G),pe.createElement("div",null,a)),J,pe.createElement(Wre,{...E&&!N?{key:`pb-${E}`}:{},rtl:k,theme:F,delay:l,isRunning:e,isIn:D,closeToast:f,hide:d,type:c,style:A,className:_,controlledProgress:N,progress:T||0})))},_1=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},Yre=w1(_1("bounce",!0));w1(_1("slide",!0));w1(_1("zoom"));w1(_1("flip"));const Xre={position:"top-right",transition:Yre,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function oce(n){let e={...Xre,...n};const t=n.stacked,[i,s]=L.useState(!0),r=L.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=jre(e),{className:u,style:c,rtl:d,containerId:f}=e;function p(g){const w=Cl("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":d});return Ki(u)?u({position:g,rtl:d,defaultClassName:w}):Cl(w,h_(u))}function m(){t&&(s(!0),nt.play())}return Kre(()=>{if(t){var g;const w=r.current.querySelectorAll('[data-in="true"]'),v=12,y=(g=e.position)==null?void 0:g.includes("top");let _=0,A=0;Array.from(w).reverse().forEach((E,C)=>{const T=E;T.classList.add("Toastify__toast--stacked"),C>0&&(T.dataset.collapsed=`${i}`),T.dataset.pos||(T.dataset.pos=y?"top":"bot");const k=_*(i?.2:1)+(i?0:v*C);T.style.setProperty("--y",`${y?k:-1*k}px`),T.style.setProperty("--g",`${v}`),T.style.setProperty("--s",""+(1-(i?A:0))),_+=T.offsetHeight,A+=.025})}},[i,l,t]),pe.createElement("div",{ref:r,className:"Toastify",id:f,onMouseEnter:()=>{t&&(s(!1),nt.pause())},onMouseLeave:m},o((g,w)=>{const v=w.length?{...c}:{...c,pointerEvents:"none"};return pe.createElement("div",{className:p(g),style:v,key:`container-${g}`},w.map(y=>{let{content:_,props:A}=y;return pe.createElement(Zre,{...A,stacked:t,collapseAll:m,isIn:a(A.toastId,A.containerId),style:A.style,key:`toast-${A.key}`},_)}))}))}var Qre=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function UP(){return UP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UP.apply(this,arguments)}function Jre(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function X0(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eoe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,VP(n,e)}function VP(n,e){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},VP(n,e)}var b1=function(n){eoe(e,n);function e(){var i;return i=n.call(this)||this,i.handleExpired=i.handleExpired.bind(X0(i)),i.handleErrored=i.handleErrored.bind(X0(i)),i.handleChange=i.handleChange.bind(X0(i)),i.handleRecaptchaRef=i.handleRecaptchaRef.bind(X0(i)),i}var t=e.prototype;return t.getCaptchaFunction=function(s){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[s]:this.props.grecaptcha[s]:null},t.getValue=function(){var s=this.getCaptchaFunction("getResponse");return s&&this._widgetId!==void 0?s(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var s=this.getCaptchaFunction("execute");if(s&&this._widgetId!==void 0)return s(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var s=this;return new Promise(function(r,o){s.executionResolve=r,s.executionReject=o,s.execute()})},t.reset=function(){var s=this.getCaptchaFunction("reset");s&&this._widgetId!==void 0&&s(this._widgetId)},t.forceReset=function(){var s=this.getCaptchaFunction("reset");s&&s()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(s){this.props.onChange&&this.props.onChange(s),this.executionResolve&&(this.executionResolve(s),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var s=this.getCaptchaFunction("render");if(s&&this._widgetId===void 0){var r=document.createElement("div");this._widgetId=s(r,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(r)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(s){this.captcha=s},t.render=function(){var s=this.props;s.sitekey,s.onChange,s.theme,s.type,s.tabindex,s.onExpired,s.onErrored,s.size,s.stoken,s.grecaptcha,s.badge,s.hl,s.isolated;var r=Jre(s,Qre);return L.createElement("div",UP({},r,{ref:this.handleRecaptchaRef}))},e}(L.Component);b1.displayName="ReCAPTCHA";b1.propTypes={sitekey:Le.string.isRequired,onChange:Le.func,grecaptcha:Le.object,theme:Le.oneOf(["dark","light"]),type:Le.oneOf(["image","audio"]),tabindex:Le.number,onExpired:Le.func,onErrored:Le.func,size:Le.oneOf(["compact","normal","invisible"]),stoken:Le.string,hl:Le.string,badge:Le.oneOf(["bottomright","bottomleft","inline"]),isolated:Le.bool};b1.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var M9={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cn=typeof Symbol=="function"&&Symbol.for,UR=cn?Symbol.for("react.element"):60103,VR=cn?Symbol.for("react.portal"):60106,S1=cn?Symbol.for("react.fragment"):60107,A1=cn?Symbol.for("react.strict_mode"):60108,x1=cn?Symbol.for("react.profiler"):60114,E1=cn?Symbol.for("react.provider"):60109,P1=cn?Symbol.for("react.context"):60110,jR=cn?Symbol.for("react.async_mode"):60111,C1=cn?Symbol.for("react.concurrent_mode"):60111,T1=cn?Symbol.for("react.forward_ref"):60112,k1=cn?Symbol.for("react.suspense"):60113,toe=cn?Symbol.for("react.suspense_list"):60120,R1=cn?Symbol.for("react.memo"):60115,M1=cn?Symbol.for("react.lazy"):60116,noe=cn?Symbol.for("react.block"):60121,ioe=cn?Symbol.for("react.fundamental"):60117,soe=cn?Symbol.for("react.responder"):60118,roe=cn?Symbol.for("react.scope"):60119;function ss(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case UR:switch(n=n.type,n){case jR:case C1:case S1:case x1:case A1:case k1:return n;default:switch(n=n&&n.$$typeof,n){case P1:case T1:case M1:case R1:case E1:return n;default:return e}}case VR:return e}}}function I9(n){return ss(n)===C1}Ge.AsyncMode=jR;Ge.ConcurrentMode=C1;Ge.ContextConsumer=P1;Ge.ContextProvider=E1;Ge.Element=UR;Ge.ForwardRef=T1;Ge.Fragment=S1;Ge.Lazy=M1;Ge.Memo=R1;Ge.Portal=VR;Ge.Profiler=x1;Ge.StrictMode=A1;Ge.Suspense=k1;Ge.isAsyncMode=function(n){return I9(n)||ss(n)===jR};Ge.isConcurrentMode=I9;Ge.isContextConsumer=function(n){return ss(n)===P1};Ge.isContextProvider=function(n){return ss(n)===E1};Ge.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===UR};Ge.isForwardRef=function(n){return ss(n)===T1};Ge.isFragment=function(n){return ss(n)===S1};Ge.isLazy=function(n){return ss(n)===M1};Ge.isMemo=function(n){return ss(n)===R1};Ge.isPortal=function(n){return ss(n)===VR};Ge.isProfiler=function(n){return ss(n)===x1};Ge.isStrictMode=function(n){return ss(n)===A1};Ge.isSuspense=function(n){return ss(n)===k1};Ge.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===S1||n===C1||n===x1||n===A1||n===k1||n===toe||typeof n=="object"&&n!==null&&(n.$$typeof===M1||n.$$typeof===R1||n.$$typeof===E1||n.$$typeof===P1||n.$$typeof===T1||n.$$typeof===ioe||n.$$typeof===soe||n.$$typeof===roe||n.$$typeof===noe)};Ge.typeOf=ss;M9.exports=Ge;var ooe=M9.exports,HR=ooe,aoe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},loe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uoe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WR={};WR[HR.ForwardRef]=uoe;WR[HR.Memo]=L9;function r2(n){return HR.isMemo(n)?L9:WR[n.$$typeof]||aoe}var coe=Object.defineProperty,hoe=Object.getOwnPropertyNames,o2=Object.getOwnPropertySymbols,doe=Object.getOwnPropertyDescriptor,foe=Object.getPrototypeOf,a2=Object.prototype;function D9(n,e,t){if(typeof e!="string"){if(a2){var i=foe(e);i&&i!==a2&&D9(n,i,t)}var s=hoe(e);o2&&(s=s.concat(o2(e)));for(var r=r2(n),o=r2(e),a=0;a<s.length;++a){var l=s[a];if(!loe[l]&&!(t&&t[l])&&!(o&&o[l])&&!(r&&r[l])){var u=doe(e,l);try{coe(n,l,u)}catch{}}}}return n}var poe=D9;const goe=xy(poe);function jP(){return jP=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jP.apply(this,arguments)}function moe(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function voe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Bs={},yoe=0;function woe(n,e){return e=e||{},function(i){var s=i.displayName||i.name||"Component",r=function(a){voe(l,a);function l(c,d){var f;return f=a.call(this,c,d)||this,f.state={},f.__scriptURL="",f}var u=l.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+yoe++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof n=="function"?n():n,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(d){var f=this;this.setState(d,function(){return f.props.asyncScriptOnLoad&&f.props.asyncScriptOnLoad(f.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var d=Bs[this.__scriptURL];if(!d||!d.loaded)throw new Error("Script is not loaded.");for(var f in d.observers)d.observers[f](d);delete window[e.callbackName]},u.componentDidMount=function(){var d=this,f=this.setupScriptURL(),p=this.asyncScriptLoaderGetScriptLoaderID(),m=e,g=m.globalName,w=m.callbackName,v=m.scriptId;if(g&&typeof window[g]<"u"&&(Bs[f]={loaded:!0,observers:{}}),Bs[f]){var y=Bs[f];if(y&&(y.loaded||y.errored)){this.asyncScriptLoaderHandleLoad(y);return}y.observers[p]=function(T){return d.asyncScriptLoaderHandleLoad(T)};return}var _={};_[p]=function(T){return d.asyncScriptLoaderHandleLoad(T)},Bs[f]={loaded:!1,observers:_};var A=document.createElement("script");A.src=f,A.async=!0;for(var E in e.attributes)A.setAttribute(E,e.attributes[E]);v&&(A.id=v);var C=function(k){if(Bs[f]){var P=Bs[f],M=P.observers;for(var D in M)k(M[D])&&delete M[D]}};w&&typeof window<"u"&&(window[w]=function(){return d.asyncScriptLoaderTriggerOnScriptLoaded()}),A.onload=function(){var T=Bs[f];T&&(T.loaded=!0,C(function(k){return w?!1:(k(T),!0)}))},A.onerror=function(){var T=Bs[f];T&&(T.errored=!0,C(function(k){return k(T),!0}))},document.body.appendChild(A)},u.componentWillUnmount=function(){var d=this.__scriptURL;if(e.removeOnUnmount===!0)for(var f=document.getElementsByTagName("script"),p=0;p<f.length;p+=1)f[p].src.indexOf(d)>-1&&f[p].parentNode&&f[p].parentNode.removeChild(f[p]);var m=Bs[d];m&&(delete m.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Bs[d])},u.render=function(){var d=e.globalName,f=this.props;f.asyncScriptOnLoad;var p=f.forwardedRef,m=moe(f,["asyncScriptOnLoad","forwardedRef"]);return d&&typeof window<"u"&&(m[d]=typeof window[d]<"u"?window[d]:void 0),m.ref=p,L.createElement(i,m)},l}(L.Component),o=L.forwardRef(function(a,l){return L.createElement(r,jP({},a,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+s+")",o.propTypes={asyncScriptOnLoad:Le.func},goe(o,i)}}var HP="onloadcallback",_oe="grecaptcha";function WP(){return typeof window<"u"&&window.recaptchaOptions||{}}function boe(){var n=WP(),e=n.useRecaptchaNet?"recaptcha.net":"www.google.com";return n.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+HP+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+HP+"&render=explicit"}const ace=woe(boe,{callbackName:HP,globalName:_oe,attributes:WP().nonce?{nonce:WP().nonce}:{}})(b1);var GP={exports:{}},qP={exports:{}},KP={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function t(s){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t(s)}function i(s){var r=typeof s=="string"||s instanceof String;if(!r){var o=t(s);throw s===null?o="null":o==="object"&&(o=s.constructor.name),new TypeError("Expected a string but received a ".concat(o))}}n.exports=e.default,n.exports.default=e.default})(KP,KP.exports);var j=KP.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r){return(0,t.default)(r),r=Date.parse(r),isNaN(r)?null:new Date(r)}n.exports=e.default,n.exports.default=e.default})(qP,qP.exports);var GR=qP.exports,ZP={exports:{}},Ep={},ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.farsiLocales=ut.englishLocales=ut.dotDecimal=ut.decimal=ut.commaDecimal=ut.bengaliLocales=ut.arabicLocales=ut.alphanumeric=ut.alpha=void 0;var Pi=ut.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ]+$/i,"bg-BG":/^[-]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"el-GR":/^[-]+$/i,"es-ES":/^[A-Z]+$/i,"fa-IR":/^[]+$/i,"fi-FI":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"it-IT":/^[A-Z]+$/i,"ja-JP":/^[----]+$/i,"nb-NO":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"nn-NO":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"kk-KZ":/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z]+$/i,"sk-SK":/^[A-Z]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"sv-SE":/^[A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,"vi-VN":/^[A-Z]+$/i,"ko-KR":/^[---]*$/,"ku-IQ":/^[]+$/i,ar:/^[]+$/,he:/^[-]+$/,fa:/^['']+$/i,bn:/^['']+$/,eo:/^[ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},Ci=ut.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ]+$/i,"bg-BG":/^[0-9-]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"el-GR":/^[0-9-]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fi-FI":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"it-IT":/^[0-9A-Z]+$/i,"ja-JP":/^[0-9-----]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nb-NO":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"nn-NO":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"kk-KZ":/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z]+$/i,"sk-SK":/^[0-9A-Z]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"sv-SE":/^[0-9A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,"ko-KR":/^[0-9---]*$/,"ku-IQ":/^[0-9]+$/i,"vi-VN":/^[0-9A-Z]+$/i,ar:/^[0-9]+$/,he:/^[0-9-]+$/,fa:/^['0-9']+$/i,bn:/^['']+$/,eo:/^[0-9ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},ri=ut.decimal={"en-US":".",ar:""},l2=ut.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"];for(var Q0,aA=0;aA<l2.length;aA++)Q0="en-".concat(l2[aA]),Pi[Q0]=Pi["en-US"],Ci[Q0]=Ci["en-US"],ri[Q0]=ri["en-US"];var u2=ut.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];for(var J0,lA=0;lA<u2.length;lA++)J0="ar-".concat(u2[lA]),Pi[J0]=Pi.ar,Ci[J0]=Ci.ar,ri[J0]=ri.ar;var c2=ut.farsiLocales=["IR","AF"];for(var uA,cA=0;cA<c2.length;cA++)uA="fa-".concat(c2[cA]),Ci[uA]=Ci.fa,ri[uA]=ri.ar;var h2=ut.bengaliLocales=["BD","IN"];for(var ew,hA=0;hA<h2.length;hA++)ew="bn-".concat(h2[hA]),Pi[ew]=Pi.bn,Ci[ew]=Ci.bn,ri[ew]=ri["en-US"];var d2=ut.dotDecimal=["ar-EG","ar-LB","ar-LY"],f2=ut.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"];for(var dA=0;dA<d2.length;dA++)ri[d2[dA]]=ri["en-US"];for(var fA=0;fA<f2.length;fA++)ri[f2[fA]]=",";Pi["fr-CA"]=Pi["fr-FR"];Ci["fr-CA"]=Ci["fr-FR"];Pi["pt-BR"]=Pi["pt-PT"];Ci["pt-BR"]=Ci["pt-PT"];ri["pt-BR"]=ri["pt-PT"];Pi["pl-Pl"]=Pi["pl-PL"];Ci["pl-Pl"]=Ci["pl-PL"];ri["pl-Pl"]=ri["pl-PL"];Pi["fa-AF"]=Pi.fa;Object.defineProperty(Ep,"__esModule",{value:!0});Ep.default=xoe;Ep.locales=void 0;var Soe=Aoe(j),O9=ut;function Aoe(n){return n&&n.__esModule?n:{default:n}}function xoe(n,e){(0,Soe.default)(n),e=e||{};var t=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(e.locale?O9.decimal[e.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(n===""||n==="."||n===","||n==="-"||n==="+")return!1;var i=parseFloat(n.replace(",","."));return t.test(n)&&(!e.hasOwnProperty("min")||i>=e.min)&&(!e.hasOwnProperty("max")||i<=e.max)&&(!e.hasOwnProperty("lt")||i<e.lt)&&(!e.hasOwnProperty("gt")||i>e.gt)}Ep.locales=Object.keys(O9.decimal);(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(Ep);function i(r){return r.__esModule?r:{default:r}}function s(r){return(0,t.default)(r)?parseFloat(r):NaN}n.exports=e.default,n.exports.default=e.default})(ZP,ZP.exports);var N9=ZP.exports,YP={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){return(0,t.default)(r),parseInt(r,o||10)}n.exports=e.default,n.exports.default=e.default})(YP,YP.exports);var Eoe=YP.exports,XP={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){return(0,t.default)(r),o?r==="1"||/^true$/i.test(r):r!=="0"&&!/^false$/i.test(r)&&r!==""}n.exports=e.default,n.exports.default=e.default})(XP,XP.exports);var Poe=XP.exports,QP={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){return(0,t.default)(r),r===o}n.exports=e.default,n.exports.default=e.default})(QP,QP.exports);var Coe=QP.exports,JP={exports:{}},eC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function t(s){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t(s)}function i(s){return t(s)==="object"&&s!==null?typeof s.toString=="function"?s=s.toString():s="[object Object]":(s===null||typeof s>"u"||isNaN(s)&&!s.length)&&(s=""),String(s)}n.exports=e.default,n.exports.default=e.default})(eC,eC.exports);var F9=eC.exports,tC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;for(var r in s)typeof i[r]>"u"&&(i[r]=s[r]);return i}n.exports=e.default,n.exports.default=e.default})(tC,tC.exports);var li=tC.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(j),i=r(F9),s=r(li);function r(l){return l&&l.__esModule?l:{default:l}}var o={ignoreCase:!1,minOccurrences:1};function a(l,u,c){return(0,t.default)(l),c=(0,s.default)(c,o),c.ignoreCase?l.toLowerCase().split((0,i.default)(u).toLowerCase()).length>c.minOccurrences:l.split((0,i.default)(u)).length>c.minOccurrences}n.exports=e.default,n.exports.default=e.default})(JP,JP.exports);var Toe=JP.exports,nC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o,a){return(0,t.default)(r),Object.prototype.toString.call(o)!=="[object RegExp]"&&(o=new RegExp(o,a)),!!r.match(o)}n.exports=e.default,n.exports.default=e.default})(nC,nC.exports);var koe=nC.exports,iC={exports:{}},sC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}function s(o){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},s(o)}function r(o,a){(0,t.default)(o);var l,u;s(a)==="object"?(l=a.min||0,u=a.max):(l=arguments[1],u=arguments[2]);var c=encodeURI(o).split(/%..|./).length-1;return c>=l&&(typeof u>"u"||c<=u)}n.exports=e.default,n.exports.default=e.default})(sC,sC.exports);var $9=sC.exports,rC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(j),i=s(li);function s(a){return a&&a.__esModule?a:{default:a}}var r={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function o(a,l){(0,t.default)(a),l=(0,i.default)(l,r),l.allow_trailing_dot&&a[a.length-1]==="."&&(a=a.substring(0,a.length-1)),l.allow_wildcard===!0&&a.indexOf("*.")===0&&(a=a.substring(2));var u=a.split("."),c=u[u.length-1];return l.require_tld&&(u.length<2||!l.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(c)||/\s/.test(c))||!l.allow_numeric_tld&&/^\d+$/.test(c)?!1:u.every(function(d){return!(d.length>63&&!l.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(d)||/[\uff01-\uff5e]/.test(d)||/^-|-$/.test(d)||!l.allow_underscores&&/_/.test(d))})}n.exports=e.default,n.exports.default=e.default})(rC,rC.exports);var qR=rC.exports,oC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=i(j);function i(c){return c&&c.__esModule?c:{default:c}}var s="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",r="(".concat(s,"[.]){3}").concat(s),o=new RegExp("^".concat(r,"$")),a="(?:[0-9a-fA-F]{1,4})",l=new RegExp("^("+"(?:".concat(a,":){7}(?:").concat(a,"|:)|")+"(?:".concat(a,":){6}(?:").concat(r,"|:").concat(a,"|:)|")+"(?:".concat(a,":){5}(?::").concat(r,"|(:").concat(a,"){1,2}|:)|")+"(?:".concat(a,":){4}(?:(:").concat(a,"){0,1}:").concat(r,"|(:").concat(a,"){1,3}|:)|")+"(?:".concat(a,":){3}(?:(:").concat(a,"){0,2}:").concat(r,"|(:").concat(a,"){1,4}|:)|")+"(?:".concat(a,":){2}(?:(:").concat(a,"){0,3}:").concat(r,"|(:").concat(a,"){1,5}|:)|")+"(?:".concat(a,":){1}(?:(:").concat(a,"){0,4}:").concat(r,"|(:").concat(a,"){1,6}|:)|")+"(?::((?::".concat(a,"){0,5}:").concat(r,"|(?::").concat(a,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,t.default)(c),d=String(d),d?d==="4"?o.test(c):d==="6"?l.test(c):!1:u(c,4)||u(c,6)}n.exports=e.default,n.exports.default=e.default})(oC,oC.exports);var I1=oC.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var t=a(j),i=a($9),s=a(qR),r=a(I1),o=a(li);function a(y){return y&&y.__esModule?y:{default:y}}var l={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,c=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,f=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,g=254;function w(y){var _=y.replace(/^"(.+)"$/,"$1");if(!_.trim())return!1;var A=/[\.";<>]/.test(_);if(A){if(_===y)return!1;var E=_.split('"').length===_.split('\\"').length;if(!E)return!1}return!0}function v(y,_){if((0,t.default)(y),_=(0,o.default)(_,l),_.require_display_name||_.allow_display_name){var A=y.match(u);if(A){var E=A[1];if(y=y.replace(E,"").replace(/(^<|>$)/g,""),E.endsWith(" ")&&(E=E.slice(0,-1)),!w(E))return!1}else if(_.require_display_name)return!1}if(!_.ignore_max_length&&y.length>g)return!1;var C=y.split("@"),T=C.pop(),k=T.toLowerCase();if(_.host_blacklist.includes(k)||_.host_whitelist.length>0&&!_.host_whitelist.includes(k))return!1;var P=C.join("@");if(_.domain_specific_validation&&(k==="gmail.com"||k==="googlemail.com")){P=P.toLowerCase();var M=P.split("+")[0];if(!(0,i.default)(M.replace(/\./g,""),{min:6,max:30}))return!1;for(var D=M.split("."),H=0;H<D.length;H++)if(!d.test(D[H]))return!1}if(_.ignore_max_length===!1&&(!(0,i.default)(P,{max:64})||!(0,i.default)(T,{max:254})))return!1;if(!(0,s.default)(T,{require_tld:_.require_tld,ignore_max_length:_.ignore_max_length,allow_underscores:_.allow_underscores})){if(!_.allow_ip_domain)return!1;if(!(0,r.default)(T)){if(!T.startsWith("[")||!T.endsWith("]"))return!1;var W=T.slice(1,-1);if(W.length===0||!(0,r.default)(W))return!1}}if(P[0]==='"')return P=P.slice(1,P.length-1),_.allow_utf8_local_part?m.test(P):f.test(P);for(var F=_.allow_utf8_local_part?p:c,X=P.split("."),Y=0;Y<X.length;Y++)if(!F.test(X[Y]))return!1;return!(_.blacklisted_chars&&P.search(new RegExp("[".concat(_.blacklisted_chars,"]+"),"g"))!==-1)}n.exports=e.default,n.exports.default=e.default})(iC,iC.exports);var B9=iC.exports,aC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var t=o(j),i=o(qR),s=o(I1),r=o(li);function o(y){return y&&y.__esModule?y:{default:y}}function a(y,_){return f(y)||d(y,_)||u(y,_)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(y,_){if(y){if(typeof y=="string")return c(y,_);var A=Object.prototype.toString.call(y).slice(8,-1);if(A==="Object"&&y.constructor&&(A=y.constructor.name),A==="Map"||A==="Set")return Array.from(y);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return c(y,_)}}function c(y,_){(_==null||_>y.length)&&(_=y.length);for(var A=0,E=new Array(_);A<_;A++)E[A]=y[A];return E}function d(y,_){var A=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(A!=null){var E,C,T,k,P=[],M=!0,D=!1;try{if(T=(A=A.call(y)).next,_!==0)for(;!(M=(E=T.call(A)).done)&&(P.push(E.value),P.length!==_);M=!0);}catch(H){D=!0,C=H}finally{try{if(!M&&A.return!=null&&(k=A.return(),Object(k)!==k))return}finally{if(D)throw C}}return P}}function f(y){if(Array.isArray(y))return y}var p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},m=/^\[([^\]]+)\](?::([0-9]+))?$/;function g(y){return Object.prototype.toString.call(y)==="[object RegExp]"}function w(y,_){for(var A=0;A<_.length;A++){var E=_[A];if(y===E||g(E)&&E.test(y))return!0}return!1}function v(y,_){if((0,t.default)(y),!y||/[\s<>]/.test(y)||y.indexOf("mailto:")===0||(_=(0,r.default)(_,p),_.validate_length&&y.length>=2083)||!_.allow_fragments&&y.includes("#")||!_.allow_query_components&&(y.includes("?")||y.includes("&")))return!1;var A,E,C,T,k,P,M,D;if(M=y.split("#"),y=M.shift(),M=y.split("?"),y=M.shift(),M=y.split("://"),M.length>1){if(A=M.shift().toLowerCase(),_.require_valid_protocol&&_.protocols.indexOf(A)===-1)return!1}else{if(_.require_protocol)return!1;if(y.slice(0,2)==="//"){if(!_.allow_protocol_relative_urls)return!1;M[0]=y.slice(2)}}if(y=M.join("://"),y==="")return!1;if(M=y.split("/"),y=M.shift(),y===""&&!_.require_host)return!0;if(M=y.split("@"),M.length>1){if(_.disallow_auth||M[0]===""||(E=M.shift(),E.indexOf(":")>=0&&E.split(":").length>2))return!1;var H=E.split(":"),W=a(H,2),F=W[0],X=W[1];if(F===""&&X==="")return!1}T=M.join("@"),P=null,D=null;var Y=T.match(m);if(Y?(C="",D=Y[1],P=Y[2]||null):(M=T.split(":"),C=M.shift(),M.length&&(P=M.join(":"))),P!==null&&P.length>0){if(k=parseInt(P,10),!/^[0-9]+$/.test(P)||k<=0||k>65535)return!1}else if(_.require_port)return!1;return _.host_whitelist?w(C,_.host_whitelist):C===""&&!_.require_host?!0:!(!(0,s.default)(C)&&!(0,i.default)(C,_)&&(!D||!(0,s.default)(D,6))||(C=C||D,_.host_blacklist&&w(C,_.host_blacklist)))}n.exports=e.default,n.exports.default=e.default})(aC,aC.exports);var Roe=aC.exports,lC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=i(j);function i(d){return d&&d.__esModule?d:{default:d}}var s=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,r=/^([0-9a-fA-F]){12}$/,o=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,a=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,l=/^([0-9a-fA-F]){16}$/,u=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function c(d,f){return(0,t.default)(d),f!=null&&f.eui&&(f.eui=String(f.eui)),f!=null&&f.no_colons||f!=null&&f.no_separators?f.eui==="48"?r.test(d):f.eui==="64"?l.test(d):r.test(d)||l.test(d):(f==null?void 0:f.eui)==="48"?s.test(d)||o.test(d):(f==null?void 0:f.eui)==="64"?a.test(d)||u.test(d):c(d,{eui:"48"})||c(d,{eui:"64"})}n.exports=e.default,n.exports.default=e.default})(lC,lC.exports);var Moe=lC.exports,uC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(j),i=s(I1);function s(u){return u&&u.__esModule?u:{default:u}}var r=/^\d{1,3}$/,o=32,a=128;function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,t.default)(u);var d=u.split("/");if(d.length!==2||!r.test(d[1])||d[1].length>1&&d[1].startsWith("0"))return!1;var f=(0,i.default)(d[0],c);if(!f)return!1;var p=null;switch(String(c)){case"4":p=o;break;case"6":p=a;break;default:p=(0,i.default)(d[0],"6")?a:o}return d[1]<=p&&d[1]>=0}n.exports=e.default,n.exports.default=e.default})(uC,uC.exports);var Ioe=uC.exports,cC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;var t=i(li);function i(g){return g&&g.__esModule?g:{default:g}}function s(g,w){return a(g)||o(g,w)||u(g,w)||r()}function r(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(g,w){var v=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(v!=null){var y,_,A,E,C=[],T=!0,k=!1;try{if(A=(v=v.call(g)).next,w!==0)for(;!(T=(y=A.call(v)).done)&&(C.push(y.value),C.length!==w);T=!0);}catch(P){k=!0,_=P}finally{try{if(!T&&v.return!=null&&(E=v.return(),Object(E)!==E))return}finally{if(k)throw _}}return C}}function a(g){if(Array.isArray(g))return g}function l(g,w){var v=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!v){if(Array.isArray(g)||(v=u(g))||w){v&&(g=v);var y=0,_=function(){};return{s:_,n:function(){return y>=g.length?{done:!0}:{done:!1,value:g[y++]}},e:function(k){throw k},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,E=!1,C;return{s:function(){v=v.call(g)},n:function(){var k=v.next();return A=k.done,k},e:function(k){E=!0,C=k},f:function(){try{!A&&v.return!=null&&v.return()}finally{if(E)throw C}}}}function u(g,w){if(g){if(typeof g=="string")return c(g,w);var v=Object.prototype.toString.call(g).slice(8,-1);if(v==="Object"&&g.constructor&&(v=g.constructor.name),v==="Map"||v==="Set")return Array.from(g);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return c(g,w)}}function c(g,w){(w==null||w>g.length)&&(w=g.length);for(var v=0,y=new Array(w);v<w;v++)y[v]=g[v];return y}var d={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function f(g){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(g)}function p(g,w){for(var v=[],y=Math.min(g.length,w.length),_=0;_<y;_++)v.push([g[_],w[_]]);return v}function m(g,w){if(typeof w=="string"?w=(0,t.default)({format:w},d):w=(0,t.default)(w,d),typeof g=="string"&&f(w.format)){var v=w.delimiters.find(function(X){return w.format.indexOf(X)!==-1}),y=w.strictMode?v:w.delimiters.find(function(X){return g.indexOf(X)!==-1}),_=p(g.split(y),w.format.toLowerCase().split(v)),A={},E=l(_),C;try{for(E.s();!(C=E.n()).done;){var T=s(C.value,2),k=T[0],P=T[1];if(k.length!==P.length)return!1;A[P.charAt(0)]=k}}catch(X){E.e(X)}finally{E.f()}var M=A.y;if(M.startsWith("-"))return!1;if(A.y.length===2){var D=parseInt(A.y,10);if(isNaN(D))return!1;var H=new Date().getFullYear()%100;D<H?M="20".concat(A.y):M="19".concat(A.y)}var W=A.m;A.m.length===1&&(W="0".concat(A.m));var F=A.d;return A.d.length===1&&(F="0".concat(A.d)),new Date("".concat(M,"-").concat(W,"-").concat(F,"T00:00:00.000Z")).getUTCDate()===+A.d}return w.strictMode?!1:Object.prototype.toString.call(g)==="[object Date]"&&isFinite(g)}n.exports=e.default,n.exports.default=e.default})(cC,cC.exports);var z9=cC.exports,hC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(li);function i(a){return a&&a.__esModule?a:{default:a}}var s={hourFormat:"hour24",mode:"default"},r={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};function o(a,l){return l=(0,t.default)(l,s),typeof a!="string"?!1:r[l.hourFormat][l.mode].test(a)}n.exports=e.default,n.exports.default=e.default})(hC,hC.exports);var Loe=hC.exports,dC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(j);function i(l){return l&&l.__esModule?l:{default:l}}var s={loose:!1},r=["true","false","1","0"],o=[].concat(r,["yes","no"]);function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return(0,t.default)(l),u.loose?o.includes(l.toLowerCase()):r.includes(l)}n.exports=e.default,n.exports.default=e.default})(dC,dC.exports);var Doe=dC.exports,fC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var t=i(j);function i(_){return _&&_.__esModule?_:{default:_}}var s="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",r="(([a-zA-Z]{2,3}(-".concat(s,")?)|([a-zA-Z]{5,8}))"),o="([A-Za-z]{4})",a="([A-Za-z]{2}|\\d{3})",l="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",u="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",c="(".concat(u,"(-[A-Za-z0-9]{2,8})+)"),d="(x(-[A-Za-z0-9]{1,8})+)",f="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",p="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",m="(".concat(f,"|").concat(p,")"),g="(-|_)",w="".concat(r,"(").concat(g).concat(o,")?(").concat(g).concat(a,")?(").concat(g).concat(l,")*(").concat(g).concat(c,")*(").concat(g).concat(d,")?"),v=new RegExp("(^".concat(d,"$)|(^").concat(m,"$)|(^").concat(w,"$)"));function y(_){return(0,t.default)(_),v.test(_)}n.exports=e.default,n.exports.default=e.default})(fC,fC.exports);var Ooe=fC.exports,pC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function r(o){if((0,t.default)(o),!s.test(o))return!1;for(var a=0,l=0;l<o.length;l++)l%3===0?a+=o[l]*3:l%3===1?a+=o[l]*7:a+=o[l]*1;return a%10===0}n.exports=e.default,n.exports.default=e.default})(pC,pC.exports);var Noe=pC.exports,Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.default=Boe;Wy.locales=void 0;var Foe=$oe(j),gC=ut;function $oe(n){return n&&n.__esModule?n:{default:n}}function Boe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,Foe.default)(n);var i=n,s=t.ignore;if(s)if(s instanceof RegExp)i=i.replace(s,"");else if(typeof s=="string")i=i.replace(new RegExp("[".concat(s.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(e in gC.alpha)return gC.alpha[e].test(i);throw new Error("Invalid locale '".concat(e,"'"))}Wy.locales=Object.keys(gC.alpha);var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.default=Voe;Gy.locales=void 0;var zoe=Uoe(j),mC=ut;function Uoe(n){return n&&n.__esModule?n:{default:n}}function Voe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,zoe.default)(n);var i=n,s=t.ignore;if(s)if(s instanceof RegExp)i=i.replace(s,"");else if(typeof s=="string")i=i.replace(new RegExp("[".concat(s.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(e in mC.alphanumeric)return mC.alphanumeric[e].test(i);throw new Error("Invalid locale '".concat(e,"'"))}Gy.locales=Object.keys(mC.alphanumeric);var vC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(j),i=ut;function s(a){return a&&a.__esModule?a:{default:a}}var r=/^[0-9]+$/;function o(a,l){return(0,t.default)(a),l&&l.no_symbols?r.test(a):new RegExp("^[+-]?([0-9]*[".concat((l||{}).locale?i.decimal[l.locale]:".","])?[0-9]+$")).test(a)}n.exports=e.default,n.exports.default=e.default})(vC,vC.exports);var joe=vC.exports,yC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};function r(o,a){(0,t.default)(o);var l=o.replace(/\s/g,"").toUpperCase();return a.toUpperCase()in s&&s[a].test(l)}n.exports=e.default,n.exports.default=e.default})(yC,yC.exports);var Hoe=yC.exports,wC={exports:{}},_C={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(j);function i(a){return a&&a.__esModule?a:{default:a}}var s=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,r=/^[-+]?[0-9]+$/;function o(a,l){(0,t.default)(a),l=l||{};var u=l.allow_leading_zeroes===!1?s:r,c=!l.hasOwnProperty("min")||a>=l.min,d=!l.hasOwnProperty("max")||a<=l.max,f=!l.hasOwnProperty("lt")||a<l.lt,p=!l.hasOwnProperty("gt")||a>l.gt;return u.test(a)&&c&&d&&f&&p}n.exports=e.default,n.exports.default=e.default})(_C,_C.exports);var KR=_C.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(KR);function i(r){return r&&r.__esModule?r:{default:r}}function s(r){return(0,t.default)(r,{allow_leading_zeroes:!1,min:0,max:65535})}n.exports=e.default,n.exports.default=e.default})(wC,wC.exports);var Woe=wC.exports,bC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r){return(0,t.default)(r),r===r.toLowerCase()}n.exports=e.default,n.exports.default=e.default})(bC,bC.exports);var Goe=bC.exports,SC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r){return(0,t.default)(r),r===r.toUpperCase()}n.exports=e.default,n.exports.default=e.default})(SC,SC.exports);var qoe=SC.exports,AC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(j);function i(a){return a&&a.__esModule?a:{default:a}}var s=/^[0-9]{15}$/,r=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function o(a,l){(0,t.default)(a),l=l||{};var u=s;if(l.allow_hyphens&&(u=r),!u.test(a))return!1;a=a.replace(/-/g,"");for(var c=0,d=2,f=14,p=0;p<f;p++){var m=a.substring(f-p-1,f-p),g=parseInt(m,10)*d;g>=10?c+=g%10+1:c+=g,d===1?d+=1:d-=1}var w=(10-c%10)%10;return w===parseInt(a.substring(14,15),10)}n.exports=e.default,n.exports.default=e.default})(AC,AC.exports);var Koe=AC.exports,xC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[\x00-\x7F]+$/;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(xC,xC.exports);var Zoe=xC.exports,Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.default=Joe;Pp.fullWidth=void 0;var Yoe=Xoe(j);function Xoe(n){return n&&n.__esModule?n:{default:n}}var Qoe=Pp.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function Joe(n){return(0,Yoe.default)(n),Qoe.test(n)}var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.default=iae;Cp.halfWidth=void 0;var eae=tae(j);function tae(n){return n&&n.__esModule?n:{default:n}}var nae=Cp.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function iae(n){return(0,eae.default)(n),nae.test(n)}var EC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(j),i=Pp,s=Cp;function r(a){return a&&a.__esModule?a:{default:a}}function o(a){return(0,t.default)(a),i.fullWidth.test(a)&&s.halfWidth.test(a)}n.exports=e.default,n.exports.default=e.default})(EC,EC.exports);var sae=EC.exports,PC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/[^\x00-\x7F]/;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(PC,PC.exports);var rae=PC.exports,CC={exports:{}},TC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i,s){var r=i.join("");return new RegExp(r,s)}n.exports=e.default,n.exports.default=e.default})(TC,TC.exports);var oae=TC.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(j),i=s(oae);function s(a){return a&&a.__esModule?a:{default:a}}var r=(0,i.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function o(a){return(0,t.default)(a),r.test(a)}n.exports=e.default,n.exports.default=e.default})(CC,CC.exports);var aae=CC.exports,kC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(kC,kC.exports);var lae=kC.exports,RC={exports:{}},MC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(s,r){return s.some(function(o){return r===o})};e.default=t,n.exports=e.default,n.exports.default=e.default})(MC,MC.exports);var uae=MC.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=o(li),i=o(j),s=o(uae),r=ut;function o(d){return d&&d.__esModule?d:{default:d}}function a(d){var f=new RegExp("^[-+]?([0-9]+)?(\\".concat(r.decimal[d.locale],"[0-9]{").concat(d.decimal_digits,"})").concat(d.force_decimal?"":"?","$"));return f}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},u=["","-","+"];function c(d,f){if((0,i.default)(d),f=(0,t.default)(f,l),f.locale in r.decimal)return!(0,s.default)(u,d.replace(/ /g,""))&&a(f).test(d);throw new Error("Invalid locale '".concat(f.locale,"'"))}n.exports=e.default,n.exports.default=e.default})(RC,RC.exports);var cae=RC.exports,IC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^(0x|0h)?[0-9A-F]+$/i;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(IC,IC.exports);var U9=IC.exports,LC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^(0o)?[0-7]+$/i;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(LC,LC.exports);var hae=LC.exports,DC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=s(j),i=s(N9);function s(o){return o&&o.__esModule?o:{default:o}}function r(o,a){return(0,t.default)(o),(0,i.default)(o)%parseInt(a,10)===0}n.exports=e.default,n.exports.default=e.default})(DC,DC.exports);var dae=DC.exports,OC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(OC,OC.exports);var fae=OC.exports,NC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=i(j);function i(u){return u&&u.__esModule?u:{default:u}}var s=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,r=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,o=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,a=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,t.default)(u),c?s.test(u)||r.test(u)||o.test(u)||a.test(u):s.test(u)||r.test(u)}n.exports=e.default,n.exports.default=e.default})(NC,NC.exports);var pae=NC.exports,FC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(j);function i(a){return a&&a.__esModule?a:{default:a}}var s=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,r=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function o(a){(0,t.default)(a);var l=a.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return l.indexOf(",")!==-1?s.test(l):r.test(l)}n.exports=e.default,n.exports.default=e.default})(FC,FC.exports);var gae=FC.exports,$C={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})($C,$C.exports);var mae=$C.exports,qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.default=Sae;qy.locales=void 0;var vae=yae(j);function yae(n){return n&&n.__esModule?n:{default:n}}var ob={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function wae(n){var e=n.filter(function(t){return!(t in ob)});return!(e.length>0)}function _ae(n,e){var t=n.replace(/[\s\-]+/gi,"").toUpperCase(),i=t.slice(0,2).toUpperCase(),s=i in ob;if(e.whitelist){if(!wae(e.whitelist))return!1;var r=e.whitelist.includes(i);if(!r)return!1}if(e.blacklist){var o=e.blacklist.includes(i);if(o)return!1}return s&&ob[i].test(t)}function bae(n){var e=n.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),t=e.slice(4)+e.slice(0,4),i=t.replace(/[A-Z]/g,function(r){return r.charCodeAt(0)-55}),s=i.match(/\d{1,7}/g).reduce(function(r,o){return Number(r+o)%97},"");return s===1}function Sae(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,vae.default)(n),_ae(n,e)&&bae(n)}qy.locales=Object.keys(ob);var BC={exports:{}},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.CountryCodes=void 0;Tp.default=Eae;var Aae=xae(j);function xae(n){return n&&n.__esModule?n:{default:n}}var V9=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function Eae(n){return(0,Aae.default)(n),V9.has(n.toUpperCase())}Tp.CountryCodes=V9;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(j),i=Tp;function s(a){return a&&a.__esModule?a:{default:a}}var r=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function o(a){(0,t.default)(a);var l=a.slice(4,6).toUpperCase();return!i.CountryCodes.has(l)&&l!=="XK"?!1:r.test(a)}n.exports=e.default,n.exports.default=e.default})(BC,BC.exports);var Pae=BC.exports,zC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[a-f0-9]{32}$/;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(zC,zC.exports);var Cae=zC.exports,UC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function r(o,a){(0,t.default)(o);var l=new RegExp("^[a-fA-F0-9]{".concat(s[a],"}$"));return l.test(o)}n.exports=e.default,n.exports.default=e.default})(UC,UC.exports);var Tae=UC.exports,VC={exports:{}},jC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(j),i=s(li);function s(u){return u&&u.__esModule?u:{default:u}}var r=/[^A-Z0-9+\/=]/i,o=/^[A-Z0-9_\-]*$/i,a={urlSafe:!1};function l(u,c){(0,t.default)(u),c=(0,i.default)(c,a);var d=u.length;if(c.urlSafe)return o.test(u);if(d%4!==0||r.test(u))return!1;var f=u.indexOf("=");return f===-1||f===d-1||f===d-2&&u[d-1]==="="}n.exports=e.default,n.exports.default=e.default})(jC,jC.exports);var j9=jC.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=s(j),i=s(j9);function s(o){return o&&o.__esModule?o:{default:o}}function r(o){(0,t.default)(o);var a=o.split("."),l=a.length;return l!==3?!1:a.reduce(function(u,c){return u&&(0,i.default)(c,{urlSafe:!0})},!0)}n.exports=e.default,n.exports.default=e.default})(VC,VC.exports);var kae=VC.exports,HC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(j),i=s(li);function s(l){return l&&l.__esModule?l:{default:l}}function r(l){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r(l)}var o={allow_primitives:!1};function a(l,u){(0,t.default)(l);try{u=(0,i.default)(u,o);var c=[];u.allow_primitives&&(c=[null,!1,!0]);var d=JSON.parse(l);return c.includes(d)||!!d&&r(d)==="object"}catch{}return!1}n.exports=e.default,n.exports.default=e.default})(HC,HC.exports);var Rae=HC.exports,WC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(j),i=s(li);function s(a){return a&&a.__esModule?a:{default:a}}var r={ignore_whitespace:!1};function o(a,l){return(0,t.default)(a),l=(0,i.default)(l,r),(l.ignore_whitespace?a.trim().length:a.length)===0}n.exports=e.default,n.exports.default=e.default})(WC,WC.exports);var Mae=WC.exports,GC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}function s(o){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},s(o)}function r(o,a){(0,t.default)(o);var l,u;s(a)==="object"?(l=a.min||0,u=a.max):(l=arguments[1]||0,u=arguments[2]);var c=o.match(/(\uFE0F|\uFE0E)/g)||[],d=o.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],f=o.length-c.length-d.length;return f>=l&&(typeof u>"u"||f<=u)}n.exports=e.default,n.exports.default=e.default})(GC,GC.exports);var Iae=GC.exports,qC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function r(o,a){(0,t.default)(o);var l=s[[void 0,null].includes(a)?"all":a];return!!l&&l.test(o)}n.exports=e.default,n.exports.default=e.default})(qC,qC.exports);var Lae=qC.exports,KC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=s(j),i=s(U9);function s(o){return o&&o.__esModule?o:{default:o}}function r(o){return(0,t.default)(o),(0,i.default)(o)&&o.length===24}n.exports=e.default,n.exports.default=e.default})(KC,KC.exports);var Dae=KC.exports,ZC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(GR);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){var a=(o==null?void 0:o.comparisonDate)||o||Date().toString(),l=(0,t.default)(a),u=(0,t.default)(r);return!!(u&&l&&u>l)}n.exports=e.default,n.exports.default=e.default})(ZC,ZC.exports);var Oae=ZC.exports,YC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=s(j),i=s(GR);function s(o){return o&&o.__esModule?o:{default:o}}function r(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:String(new Date);(0,t.default)(o);var l=(0,i.default)(a),u=(0,i.default)(o);return!!(u&&l&&u<l)}n.exports=e.default,n.exports.default=e.default})(YC,YC.exports);var Nae=YC.exports,XC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(j),i=s(F9);function s(a){return a&&a.__esModule?a:{default:a}}function r(a){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},r(a)}function o(a,l){(0,t.default)(a);var u;if(Object.prototype.toString.call(l)==="[object Array]"){var c=[];for(u in l)({}).hasOwnProperty.call(l,u)&&(c[u]=(0,i.default)(l[u]));return c.indexOf(a)>=0}else{if(r(l)==="object")return l.hasOwnProperty(a);if(l&&typeof l.indexOf=="function")return l.indexOf(a)>=0}return!1}n.exports=e.default,n.exports.default=e.default})(XC,XC.exports);var Fae=XC.exports,QC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r){(0,t.default)(r);for(var o=r.replace(/[- ]+/g,""),a=0,l,u,c,d=o.length-1;d>=0;d--)l=o.substring(d,d+1),u=parseInt(l,10),c?(u*=2,u>=10?a+=u%10+1:a+=u):a+=u,c=!c;return!!(a%10===0&&o)}n.exports=e.default,n.exports.default=e.default})(QC,QC.exports);var H9=QC.exports,JC={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(j),i=s(H9);function s(l){return l&&l.__esModule?l:{default:l}}var r={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},o=function(){var l=[];for(var u in r)r.hasOwnProperty(u)&&l.push(r[u]);return l}();function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(l);var c=u.provider,d=l.replace(/[- ]+/g,"");if(c&&c.toLowerCase()in r){if(!r[c.toLowerCase()].test(d))return!1}else{if(c&&!(c.toLowerCase()in r))throw new Error("".concat(c," is not a valid credit card provider."));if(!o.some(function(f){return f.test(d)}))return!1}return(0,i.default)(l)}n.exports=e.default,n.exports.default=e.default})(JC,JC.exports);var $ae=JC.exports,eT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(j),i=s(KR);function s(a){return a&&a.__esModule?a:{default:a}}var r={PL:function(l){(0,t.default)(l);var u={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(l!=null&&l.length===11&&(0,i.default)(l,{allow_leading_zeroes:!0})){var c=l.split("").slice(0,-1),d=c.reduce(function(m,g,w){return m+Number(g)*u[w+1]},0),f=d%10,p=Number(l.charAt(l.length-1));if(f===0&&p===0||p===10-f)return!0}return!1},ES:function(l){(0,t.default)(l);var u=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,c={X:0,Y:1,Z:2},d=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],f=l.trim().toUpperCase();if(!u.test(f))return!1;var p=f.slice(0,-1).replace(/[X,Y,Z]/g,function(m){return c[m]});return f.endsWith(d[p%23])},FI:function(l){if((0,t.default)(l),l.length!==11||!l.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var u="0123456789ABCDEFHJKLMNPRSTUVWXY",c=parseInt(l.slice(0,6),10)*1e3+parseInt(l.slice(7,10),10),d=c%31,f=u[d];return f===l.slice(10,11)},IN:function(l){var u=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,c=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],d=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],f=l.trim();if(!u.test(f))return!1;var p=0,m=f.replace(/\s/g,"").split("").map(Number).reverse();return m.forEach(function(g,w){p=c[p][d[w%8][g]]}),p===0},IR:function(l){if(!l.match(/^\d{10}$/)||(l="0000".concat(l).slice(l.length-6),parseInt(l.slice(3,9),10)===0))return!1;for(var u=parseInt(l.slice(9,10),10),c=0,d=0;d<9;d++)c+=parseInt(l.slice(d,d+1),10)*(10-d);return c%=11,c<2&&u===c||c>=2&&u===11-c},IT:function(l){return l.length!==9||l==="CA00000AA"?!1:l.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(l){var u=l.trim();if(isNaN(Number(u))||u.length!==11||u==="00000000000")return!1;var c=u.split("").map(Number),d=(11-(3*c[0]+7*c[1]+6*c[2]+1*c[3]+8*c[4]+9*c[5]+4*c[6]+5*c[7]+2*c[8])%11)%11,f=(11-(5*c[0]+4*c[1]+3*c[2]+2*c[3]+7*c[4]+6*c[5]+5*c[6]+4*c[7]+3*c[8]+2*d)%11)%11;return!(d!==c[9]||f!==c[10])},TH:function(l){if(!l.match(/^[1-8]\d{12}$/))return!1;for(var u=0,c=0;c<12;c++)u+=parseInt(l[c],10)*(13-c);return l[12]===((11-u%11)%10).toString()},LK:function(l){var u=/^[1-9]\d{8}[vx]$/i,c=/^[1-9]\d{11}$/i;return l.length===10&&u.test(l)?!0:!!(l.length===12&&c.test(l))},"he-IL":function(l){var u=/^\d{9}$/,c=l.trim();if(!u.test(c))return!1;for(var d=c,f=0,p,m=0;m<d.length;m++)p=Number(d[m])*(m%2+1),f+=p>9?p-9:p;return f%10===0},"ar-LY":function(l){var u=/^(1|2)\d{11}$/,c=l.trim();return!!u.test(c)},"ar-TN":function(l){var u=/^\d{8}$/,c=l.trim();return!!u.test(c)},"zh-CN":function(l){var u=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],c=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],d=["1","0","X","9","8","7","6","5","4","3","2"],f=function(A){return u.includes(A)},p=function(A){var E=parseInt(A.substring(0,4),10),C=parseInt(A.substring(4,6),10),T=parseInt(A.substring(6),10),k=new Date(E,C-1,T);return k>new Date?!1:k.getFullYear()===E&&k.getMonth()===C-1&&k.getDate()===T},m=function(A){for(var E=A.substring(0,17),C=0,T=0;T<17;T++)C+=parseInt(E.charAt(T),10)*parseInt(c[T],10);var k=C%11;return d[k]},g=function(A){return m(A)===A.charAt(17).toUpperCase()},w=function(A){var E=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(A);if(!E)return!1;var C=A.substring(0,2);if(E=f(C),!E)return!1;var T="19".concat(A.substring(6,12));return E=p(T),!!E},v=function(A){var E=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(A);if(!E)return!1;var C=A.substring(0,2);if(E=f(C),!E)return!1;var T=A.substring(6,14);return E=p(T),E?g(A):!1},y=function(A){var E=/^\d{15}|(\d{17}(\d|x|X))$/.test(A);return E?A.length===15?w(A):v(A):!1};return y(l)},"zh-HK":function(l){l=l.trim();var u=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,c=/^[0-9]$/;if(l=l.toUpperCase(),!u.test(l))return!1;l=l.replace(/\[|\]|\(|\)/g,""),l.length===8&&(l="3".concat(l));for(var d=0,f=0;f<=7;f++){var p=void 0;c.test(l[f])?p=l[f]:p=(l[f].charCodeAt(0)-55)%11,d+=p*(9-f)}d%=11;var m;return d===0?m="0":d===1?m="A":m=String(11-d),m===l[l.length-1]},"zh-TW":function(l){var u={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},c=l.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(c)?Array.from(c).reduce(function(d,f,p){if(p===0){var m=u[f];return m%10*9+Math.floor(m/10)}return p===9?(10-d%10-Number(f))%10===0:d+Number(f)*(9-p)},0):!1}};function o(a,l){if((0,t.default)(a),l in r)return r[l](a);if(l==="any"){for(var u in r)if(r.hasOwnProperty(u)){var c=r[u];if(c(a))return!0}return!1}throw new Error("Invalid locale '".concat(l,"'"))}n.exports=e.default,n.exports.default=e.default})(eT,eT.exports);var Bae=eT.exports,tT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=i(j);function i(c){return c&&c.__esModule?c:{default:c}}var s=8,r=14,o=/^(\d{8}|\d{13}|\d{14})$/;function a(c,d){return c===s||c===r?d%2===0?3:1:d%2===0?1:3}function l(c){var d=c.slice(0,-1).split("").map(function(p,m){return Number(p)*a(c.length,m)}).reduce(function(p,m){return p+m},0),f=10-d%10;return f<10?f:0}function u(c){(0,t.default)(c);var d=Number(c.slice(-1));return o.test(c)&&d===l(c)}n.exports=e.default,n.exports.default=e.default})(tT,tT.exports);var zae=tT.exports,nT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function r(o){if((0,t.default)(o),!s.test(o))return!1;for(var a=!0,l=0,u=o.length-2;u>=0;u--)if(o[u]>="A"&&o[u]<="Z")for(var c=o[u].charCodeAt(0)-55,d=c%10,f=Math.trunc(c/10),p=0,m=[d,f];p<m.length;p++){var g=m[p];a?g>=5?l+=1+(g-5)*2:l+=g*2:l+=g,a=!a}else{var w=o[u].charCodeAt(0)-48;a?w>=5?l+=1+(w-5)*2:l+=w*2:l+=w,a=!a}var v=Math.trunc((l+9)/10)*10-l;return+o[o.length-1]===v}n.exports=e.default,n.exports.default=e.default})(nT,nT.exports);var Uae=nT.exports,iT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(j);function i(l){return l&&l.__esModule?l:{default:l}}var s=/^(?:[0-9]{9}X|[0-9]{10})$/,r=/^(?:[0-9]{13})$/,o=[1,3];function a(l,u){(0,t.default)(l);var c=String((u==null?void 0:u.version)||u);if(!(u!=null&&u.version||u))return a(l,{version:10})||a(l,{version:13});var d=l.replace(/[\s-]+/g,""),f=0;if(c==="10"){if(!s.test(d))return!1;for(var p=0;p<c-1;p++)f+=(p+1)*d.charAt(p);if(d.charAt(9)==="X"?f+=10*10:f+=10*d.charAt(9),f%11===0)return!0}else if(c==="13"){if(!r.test(d))return!1;for(var m=0;m<12;m++)f+=o[m%2]*d.charAt(m);if(d.charAt(12)-(10-f%10)%10===0)return!0}return!1}n.exports=e.default,n.exports.default=e.default})(iT,iT.exports);var Vae=iT.exports,sT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s="^\\d{4}-?\\d{3}[\\dX]$";function r(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(o);var l=s;if(l=a.require_hyphen?l.replace("?",""):l,l=a.case_sensitive?new RegExp(l):new RegExp(l,"i"),!l.test(o))return!1;for(var u=o.replace("-","").toUpperCase(),c=0,d=0;d<u.length;d++){var f=u[d];c+=(f==="X"?10:+f)*(8-d)}return c%11===0}n.exports=e.default,n.exports.default=e.default})(sT,sT.exports);var jae=sT.exports,rT={exports:{}},wh={};Object.defineProperty(wh,"__esModule",{value:!0});wh.iso7064Check=Hae;wh.luhnCheck=Wae;wh.reverseMultiplyAndSum=Gae;wh.verhoeffCheck=qae;function Hae(n){for(var e=10,t=0;t<n.length-1;t++)e=(parseInt(n[t],10)+e)%10===0?10*2%11:(parseInt(n[t],10)+e)%10*2%11;return e=e===1?0:11-e,e===parseInt(n[10],10)}function Wae(n){for(var e=0,t=!1,i=n.length-1;i>=0;i--){if(t){var s=parseInt(n[i],10)*2;s>9?e+=s.toString().split("").map(function(r){return parseInt(r,10)}).reduce(function(r,o){return r+o},0):e+=s}else e+=parseInt(n[i],10);t=!t}return e%10===0}function Gae(n,e){for(var t=0,i=0;i<n.length;i++)t+=n[i]*(e-i);return t}function qae(n){for(var e=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],t=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],i=n.split("").reverse().join(""),s=0,r=0;r<i.length;r++)s=e[s][t[r%8][parseInt(i[r],10)]];return s===0}(function(n,e){function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},t(R)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=O1;var i=l(j),s=a(wh),r=l(z9);function o(R){if(typeof WeakMap!="function")return null;var I=new WeakMap,O=new WeakMap;return(o=function(B){return B?O:I})(R)}function a(R,I){if(R.__esModule)return R;if(R===null||t(R)!="object"&&typeof R!="function")return{default:R};var O=o(I);if(O&&O.has(R))return O.get(R);var z={__proto__:null},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in R)if(q!=="default"&&{}.hasOwnProperty.call(R,q)){var ce=B?Object.getOwnPropertyDescriptor(R,q):null;ce&&(ce.get||ce.set)?Object.defineProperty(z,q,ce):z[q]=R[q]}return z.default=R,O&&O.set(R,z),z}function l(R){return R&&R.__esModule?R:{default:R}}function u(R){return p(R)||f(R)||d(R)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(R,I){if(R){if(typeof R=="string")return m(R,I);var O=Object.prototype.toString.call(R).slice(8,-1);if(O==="Object"&&R.constructor&&(O=R.constructor.name),O==="Map"||O==="Set")return Array.from(R);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return m(R,I)}}function f(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function p(R){if(Array.isArray(R))return m(R)}function m(R,I){(I==null||I>R.length)&&(I=R.length);for(var O=0,z=new Array(I);O<I;O++)z[O]=R[O];return z}function g(R){var I=R.slice(0,2),O=parseInt(R.slice(2,4),10);O>40?(O-=40,I="20".concat(I)):O>20?(O-=20,I="18".concat(I)):I="19".concat(I),O<10&&(O="0".concat(O));var z="".concat(I,"/").concat(O,"/").concat(R.slice(4,6));if(!(0,r.default)(z,"YYYY/MM/DD"))return!1;for(var B=R.split("").map(function(Be){return parseInt(Be,10)}),q=[2,4,8,5,10,9,7,3,6],ce=0,be=0;be<q.length;be++)ce+=B[be]*q[be];return ce=ce%11===10?0:ce%11,ce===B[9]}function w(R){var I=R.split(""),O=I.filter(function(B,q){return q%2}).map(function(B){return Number(B)*2}).join("").split(""),z=I.filter(function(B,q){return!(q%2)}).concat(O).map(function(B){return Number(B)}).reduce(function(B,q){return B+q});return z%10===0}function v(R){R=R.replace(/\W/,"");var I=parseInt(R.slice(0,2),10);if(R.length===10)I<54?I="20".concat(I):I="19".concat(I);else{if(R.slice(6)==="000")return!1;if(I<54)I="19".concat(I);else return!1}I.length===3&&(I=[I.slice(0,2),"0",I.slice(2)].join(""));var O=parseInt(R.slice(2,4),10);if(O>50&&(O-=50),O>20){if(parseInt(I,10)<2004)return!1;O-=20}O<10&&(O="0".concat(O));var z="".concat(I,"/").concat(O,"/").concat(R.slice(4,6));if(!(0,r.default)(z,"YYYY/MM/DD"))return!1;if(R.length===10&&parseInt(R,10)%11!==0){var B=parseInt(R.slice(0,9),10)%11;if(parseInt(I,10)<1986&&B===10){if(parseInt(R.slice(9),10)!==0)return!1}else return!1}return!0}function y(R){return s.luhnCheck(R)}function _(R){for(var I=R.split("").map(function(Be){return parseInt(Be,10)}),O=[],z=0;z<I.length-1;z++){O.push("");for(var B=0;B<I.length-1;B++)I[z]===I[B]&&(O[z]+=B)}if(O=O.filter(function(Be){return Be.length>1}),O.length!==2&&O.length!==3)return!1;if(O[0].length===3){for(var q=O[0].split("").map(function(Be){return parseInt(Be,10)}),ce=0,be=0;be<q.length-1;be++)q[be]+1===q[be+1]&&(ce+=1);if(ce===2)return!1}return s.iso7064Check(R)}function A(R){R=R.replace(/\W/,"");var I=parseInt(R.slice(4,6),10),O=R.slice(6,7);switch(O){case"0":case"1":case"2":case"3":I="19".concat(I);break;case"4":case"9":I<37?I="20".concat(I):I="19".concat(I);break;default:if(I<37)I="20".concat(I);else if(I>58)I="18".concat(I);else return!1;break}I.length===3&&(I=[I.slice(0,2),"0",I.slice(2)].join(""));var z="".concat(I,"/").concat(R.slice(2,4),"/").concat(R.slice(0,2));if(!(0,r.default)(z,"YYYY/MM/DD"))return!1;for(var B=R.split("").map(function(Be){return parseInt(Be,10)}),q=0,ce=4,be=0;be<9;be++)q+=B[be]*ce,ce-=1,ce===1&&(ce=7);return q%=11,q===1?!1:q===0?B[9]===0:B[9]===11-q}function E(R){for(var I=R.slice(0,8).split("").map(function(q){return parseInt(q,10)}),O=0,z=1;z<I.length;z+=2)O+=I[z];for(var B=0;B<I.length;B+=2)I[B]<2?O+=1-I[B]:(O+=2*(I[B]-2)+5,I[B]>4&&(O+=2));return String.fromCharCode(O%26+65)===R.charAt(8)}function C(R){for(var I=R.split("").map(function(B){return parseInt(B,10)}),O=0,z=0;z<8;z++)O+=I[z]*Math.pow(2,8-z);return O%11%10===I[8]}function T(R){var I=s.reverseMultiplyAndSum(R.split("").slice(0,7).map(function(O){return parseInt(O,10)}),8);return R.length===9&&R[8]!=="W"&&(I+=(R[8].charCodeAt(0)-64)*9),I%=23,I===0?R[7].toUpperCase()==="W":R[7].toUpperCase()===String.fromCharCode(64+I)}var k={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function P(){var R=[];for(var I in k)k.hasOwnProperty(I)&&R.push.apply(R,u(k[I]));return R}function M(R){return P().indexOf(R.slice(0,2))!==-1}function D(R){for(var I=0,O=R.split(""),z=parseInt(O.pop(),10),B=0;B<O.length;B++)I+=O[9-B]*(2+B%6);var q=11-I%11;return q===11?q=0:q===10&&(q=9),z===q}function H(R){var I=R.toUpperCase().split("");if(isNaN(parseInt(I[0],10))&&I.length>1){var O=0;switch(I[0]){case"Y":O=1;break;case"Z":O=2;break}I.splice(0,1,O)}else for(;I.length<9;)I.unshift(0);var z=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];I=I.join("");var B=parseInt(I.slice(0,8),10)%23;return I[8]===z[B]}function W(R){var I=R.slice(1,3),O=R.slice(0,1);switch(O){case"1":case"2":I="18".concat(I);break;case"3":case"4":I="19".concat(I);break;default:I="20".concat(I);break}var z="".concat(I,"/").concat(R.slice(3,5),"/").concat(R.slice(5,7));if(!(0,r.default)(z,"YYYY/MM/DD"))return!1;for(var B=R.split("").map(function(ot){return parseInt(ot,10)}),q=0,ce=1,be=0;be<10;be++)q+=B[be]*ce,ce+=1,ce===10&&(ce=1);if(q%11===10){q=0,ce=3;for(var Be=0;Be<10;Be++)q+=B[Be]*ce,ce+=1,ce===10&&(ce=1);if(q%11===10)return B[10]===0}return q%11===B[10]}function F(R){var I=R.slice(4,6),O=R.slice(6,7);switch(O){case"+":I="18".concat(I);break;case"-":I="19".concat(I);break;default:I="20".concat(I);break}var z="".concat(I,"/").concat(R.slice(2,4),"/").concat(R.slice(0,2));if(!(0,r.default)(z,"YYYY/MM/DD"))return!1;var B=parseInt(R.slice(0,6)+R.slice(7,10),10)%31;if(B<10)return B===parseInt(R.slice(10),10);B-=10;var q=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return q[B]===R.slice(10)}function X(R){if(R.slice(2,4)!=="00"||R.slice(4,6)!=="00"){var I="".concat(R.slice(0,2),"/").concat(R.slice(2,4),"/").concat(R.slice(4,6));if(!(0,r.default)(I,"YY/MM/DD"))return!1}var O=97-parseInt(R.slice(0,9),10)%97,z=parseInt(R.slice(9,11),10);return!(O!==z&&(O=97-parseInt("2".concat(R.slice(0,9)),10)%97,O!==z))}function Y(R){R=R.replace(/\s/g,"");var I=parseInt(R.slice(0,10),10)%511,O=parseInt(R.slice(10,13),10);return I===O}function G(R){var I="".concat(R.slice(0,4),"/").concat(R.slice(4,6),"/").concat(R.slice(6,8));return!(0,r.default)(I,"YYYY/MM/DD")||!s.luhnCheck(R.slice(0,12))?!1:s.verhoeffCheck("".concat(R.slice(0,11)).concat(R[12]))}function N(R){return s.iso7064Check(R)}function Q(R){for(var I=R.split("").map(function(B){return parseInt(B,10)}),O=8,z=1;z<9;z++)O+=I[z]*(z+1);return O%11===I[9]}function J(R){for(var I=!1,O=!1,z=0;z<3;z++)if(!I&&/[AEIOU]/.test(R[z]))I=!0;else if(!O&&I&&R[z]==="X")O=!0;else if(z>0&&(I&&!O&&!/[AEIOU]/.test(R[z])||O&&!/X/.test(R[z])))return!1;return!0}function he(R){var I=R.toUpperCase().split("");if(!J(I.slice(0,3))||!J(I.slice(3,6)))return!1;for(var O=[6,7,9,10,12,13,14],z={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},B=0,q=O;B<q.length;B++){var ce=q[B];I[ce]in z&&I.splice(ce,1,z[I[ce]])}var be={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},Be=be[I[8]],ot=parseInt(I[9]+I[10],10);ot>40&&(ot-=40),ot<10&&(ot="0".concat(ot));var eu="".concat(I[6]).concat(I[7],"/").concat(Be,"/").concat(ot);if(!(0,r.default)(eu,"YY/MM/DD"))return!1;for(var po=0,yr=1;yr<I.length-1;yr+=2){var kp=parseInt(I[yr],10);isNaN(kp)&&(kp=I[yr].charCodeAt(0)-65),po+=kp}for(var Rp={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},tu=0;tu<I.length-1;tu+=2){var Ah=0;if(I[tu]in Rp)Ah=Rp[I[tu]];else{var e0=parseInt(I[tu],10);Ah=2*e0+1,e0>4&&(Ah+=2)}po+=Ah}return String.fromCharCode(65+po%26)===I[15]}function ue(R){R=R.replace(/\W/,"");var I=R.slice(0,2);if(I!=="32"){var O=R.slice(2,4);if(O!=="00"){var z=R.slice(4,6);switch(R[6]){case"0":z="18".concat(z);break;case"1":z="19".concat(z);break;default:z="20".concat(z);break}var B="".concat(z,"/").concat(R.slice(2,4),"/").concat(I);if(!(0,r.default)(B,"YYYY/MM/DD"))return!1}for(var q=1101,ce=[1,6,3,7,9,10,5,8,4,2],be=0;be<R.length-1;be++)q-=parseInt(R[be],10)*ce[be];return parseInt(R[10],10)===q%11}return!0}function ge(R){if(R.length!==9){for(var I=R.toUpperCase().split("");I.length<8;)I.unshift(0);switch(R[7]){case"A":case"P":if(parseInt(I[6],10)===0)return!1;break;default:{var O=parseInt(I.join("").slice(0,5),10);if(O>32e3)return!1;var z=parseInt(I.join("").slice(5,7),10);if(O===z)return!1}}}return!0}function $e(R){return s.reverseMultiplyAndSum(R.split("").slice(0,8).map(function(I){return parseInt(I,10)}),9)%11===parseInt(R[8],10)}function Xe(R){if(R.length===10){for(var I=[6,5,7,2,3,4,5,6,7],O=0,z=0;z<I.length;z++)O+=parseInt(R[z],10)*I[z];return O%=11,O===10?!1:O===parseInt(R[9],10)}var B=R.slice(0,2),q=parseInt(R.slice(2,4),10);q>80?(B="18".concat(B),q-=80):q>60?(B="22".concat(B),q-=60):q>40?(B="21".concat(B),q-=40):q>20?(B="20".concat(B),q-=20):B="19".concat(B),q<10&&(q="0".concat(q));var ce="".concat(B,"/").concat(q,"/").concat(R.slice(4,6));if(!(0,r.default)(ce,"YYYY/MM/DD"))return!1;for(var be=0,Be=1,ot=0;ot<R.length-1;ot++)be+=parseInt(R[ot],10)*Be%10,Be+=2,Be>10?Be=1:Be===5&&(Be+=2);return be=10-be%10,be===parseInt(R[10],10)}function Pe(R){if(R.length===11){var I,O;if(I=0,R==="11111111111"||R==="22222222222"||R==="33333333333"||R==="44444444444"||R==="55555555555"||R==="66666666666"||R==="77777777777"||R==="88888888888"||R==="99999999999"||R==="00000000000")return!1;for(var z=1;z<=9;z++)I+=parseInt(R.substring(z-1,z),10)*(11-z);if(O=I*10%11,O===10&&(O=0),O!==parseInt(R.substring(9,10),10))return!1;I=0;for(var B=1;B<=10;B++)I+=parseInt(R.substring(B-1,B),10)*(12-B);return O=I*10%11,O===10&&(O=0),O===parseInt(R.substring(10,11),10)}if(R==="00000000000000"||R==="11111111111111"||R==="22222222222222"||R==="33333333333333"||R==="44444444444444"||R==="55555555555555"||R==="66666666666666"||R==="77777777777777"||R==="88888888888888"||R==="99999999999999")return!1;for(var q=R.length-2,ce=R.substring(0,q),be=R.substring(q),Be=0,ot=q-7,eu=q;eu>=1;eu--)Be+=ce.charAt(q-eu)*ot,ot-=1,ot<2&&(ot=9);var po=Be%11<2?0:11-Be%11;if(po!==parseInt(be.charAt(0),10))return!1;q+=1,ce=R.substring(0,q),Be=0,ot=q-7;for(var yr=q;yr>=1;yr--)Be+=ce.charAt(q-yr)*ot,ot-=1,ot<2&&(ot=9);return po=Be%11<2?0:11-Be%11,po===parseInt(be.charAt(1),10)}function oe(R){var I=11-s.reverseMultiplyAndSum(R.split("").slice(0,8).map(function(O){return parseInt(O,10)}),9)%11;return I>9?parseInt(R[8],10)===0:I===parseInt(R[8],10)}function Vn(R){if(R.slice(0,4)!=="9000"){var I=R.slice(1,3);switch(R[0]){case"1":case"2":I="19".concat(I);break;case"3":case"4":I="18".concat(I);break;case"5":case"6":I="20".concat(I);break}var O="".concat(I,"/").concat(R.slice(3,5),"/").concat(R.slice(5,7));if(O.length===8){if(!(0,r.default)(O,"YY/MM/DD"))return!1}else if(!(0,r.default)(O,"YYYY/MM/DD"))return!1;for(var z=R.split("").map(function(be){return parseInt(be,10)}),B=[2,7,9,1,4,6,3,5,8,2,7,9],q=0,ce=0;ce<B.length;ce++)q+=z[ce]*B[ce];return q%11===10?z[12]===1:z[12]===q%11}return!0}function _h(R){if(R.length===9){if(R=R.replace(/\W/,""),R.slice(6)==="000")return!1;var I=parseInt(R.slice(0,2),10);if(I>53)return!1;I<10?I="190".concat(I):I="19".concat(I);var O=parseInt(R.slice(2,4),10);O>50&&(O-=50),O<10&&(O="0".concat(O));var z="".concat(I,"/").concat(O,"/").concat(R.slice(4,6));if(!(0,r.default)(z,"YYYY/MM/DD"))return!1}return!0}function bh(R){var I=11-s.reverseMultiplyAndSum(R.split("").slice(0,7).map(function(O){return parseInt(O,10)}),8)%11;return I===10?parseInt(R[7],10)===0:I===parseInt(R[7],10)}function L1(R){var I=R.slice(0);R.length>11&&(I=I.slice(2));var O="",z=I.slice(2,4),B=parseInt(I.slice(4,6),10);if(R.length>11)O=R.slice(0,4);else if(O=R.slice(0,2),R.length===11&&B<60){var q=new Date().getFullYear().toString(),ce=parseInt(q.slice(0,2),10);if(q=parseInt(q,10),R[6]==="-")parseInt("".concat(ce).concat(O),10)>q?O="".concat(ce-1).concat(O):O="".concat(ce).concat(O);else if(O="".concat(ce-1).concat(O),q-parseInt(O,10)<100)return!1}B>60&&(B-=60),B<10&&(B="0".concat(B));var be="".concat(O,"/").concat(z,"/").concat(B);if(be.length===8){if(!(0,r.default)(be,"YY/MM/DD"))return!1}else if(!(0,r.default)(be,"YYYY/MM/DD"))return!1;return s.luhnCheck(R.replace(/\W/,""))}function D1(R){for(var I=R.split("").map(function(q){return parseInt(q,10)}),O=[-1,5,7,9,4,6,10,5,7],z=0,B=0;B<O.length;B++)z+=I[B]*O[B];return z%11===10?I[9]===0:I[9]===z%11}var rs={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};rs["lb-LU"]=rs["fr-LU"],rs["lt-LT"]=rs["et-EE"],rs["nl-BE"]=rs["fr-BE"],rs["fr-CA"]=rs["en-CA"];var os={"bg-BG":g,"cs-CZ":v,"de-AT":y,"de-DE":_,"dk-DK":A,"el-CY":E,"el-GR":C,"en-CA":w,"en-IE":T,"en-US":M,"es-AR":D,"es-ES":H,"et-EE":W,"fi-FI":F,"fr-BE":X,"fr-FR":Y,"fr-LU":G,"hr-HR":N,"hu-HU":Q,"it-IT":he,"lv-LV":ue,"mt-MT":ge,"nl-NL":$e,"pl-PL":Xe,"pt-BR":Pe,"pt-PT":oe,"ro-RO":Vn,"sk-SK":_h,"sl-SI":bh,"sv-SE":L1,"uk-UA":D1};os["lb-LU"]=os["fr-LU"],os["lt-LT"]=os["et-EE"],os["nl-BE"]=os["fr-BE"],os["fr-CA"]=os["en-CA"];var Jy=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,Sh={"de-AT":Jy,"de-DE":/[\/\\]/g,"fr-BE":Jy};Sh["nl-BE"]=Sh["fr-BE"];function O1(R){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,i.default)(R);var O=R.slice(0);if(I in rs)return I in Sh&&(O=O.replace(Sh[I],"")),rs[I].test(O)?I in os?os[I](O):!0:!1;throw new Error("Invalid locale '".concat(I,"'"))}n.exports=e.default,n.exports.default=e.default})(rT,rT.exports);var Kae=rT.exports,Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.default=Xae;Ky.locales=void 0;var Zae=Yae(j);function Yae(n){return n&&n.__esModule?n:{default:n}}var ht={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};ht["en-CA"]=ht["en-US"];ht["fr-CA"]=ht["en-CA"];ht["fr-BE"]=ht["nl-BE"];ht["zh-HK"]=ht["en-HK"];ht["zh-MO"]=ht["en-MO"];ht["ga-IE"]=ht["en-IE"];ht["fr-CH"]=ht["de-CH"];ht["it-CH"]=ht["fr-CH"];function Xae(n,e,t){if((0,Zae.default)(n),t&&t.strictMode&&!n.startsWith("+"))return!1;if(Array.isArray(e))return e.some(function(r){if(ht.hasOwnProperty(r)){var o=ht[r];if(o.test(n))return!0}return!1});if(e in ht)return ht[e].test(n);if(!e||e==="any"){for(var i in ht)if(ht.hasOwnProperty(i)){var s=ht[i];if(s.test(n))return!0}return!1}throw new Error("Invalid locale '".concat(e,"'"))}Ky.locales=Object.keys(ht);var oT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^(0x)[0-9a-f]{40}$/i;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(oT,oT.exports);var Qae=oT.exports,aT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(li),i=s(j);function s(l){return l&&l.__esModule?l:{default:l}}function r(l){var u="\\d{".concat(l.digits_after_decimal[0],"}");l.digits_after_decimal.forEach(function(y,_){_!==0&&(u="".concat(u,"|\\d{").concat(y,"}"))});var c="(".concat(l.symbol.replace(/\W/,function(y){return"\\".concat(y)}),")").concat(l.require_symbol?"":"?"),d="-?",f="[1-9]\\d*",p="[1-9]\\d{0,2}(\\".concat(l.thousands_separator,"\\d{3})*"),m=["0",f,p],g="(".concat(m.join("|"),")?"),w="(\\".concat(l.decimal_separator,"(").concat(u,"))").concat(l.require_decimal?"":"?"),v=g+(l.allow_decimal||l.require_decimal?w:"");return l.allow_negatives&&!l.parens_for_negatives&&(l.negative_sign_after_digits?v+=d:l.negative_sign_before_digits&&(v=d+v)),l.allow_negative_sign_placeholder?v="( (?!\\-))?".concat(v):l.allow_space_after_symbol?v=" ?".concat(v):l.allow_space_after_digits&&(v+="( (?!$))?"),l.symbol_after_digits?v+=c:v=c+v,l.allow_negatives&&(l.parens_for_negatives?v="(\\(".concat(v,"\\)|").concat(v,")"):l.negative_sign_before_digits||l.negative_sign_after_digits||(v=d+v)),new RegExp("^(?!-? )(?=.*\\d)".concat(v,"$"))}var o={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function a(l,u){return(0,i.default)(l),u=(0,t.default)(u,o),r(u).test(l)}n.exports=e.default,n.exports.default=e.default})(aT,aT.exports);var Jae=aT.exports,lT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(j);function i(a){return a&&a.__esModule?a:{default:a}}var s=/^(bc1)[a-z0-9]{25,39}$/,r=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function o(a){return(0,t.default)(a),s.test(a)||r.test(a)}n.exports=e.default,n.exports.default=e.default})(lT,lT.exports);var ele=lT.exports,Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.isFreightContainerID=void 0;Zy.isISO6346=W9;var tle=nle(j);function nle(n){return n&&n.__esModule?n:{default:n}}var ile=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,sle=/^[0-9]$/;function W9(n){if((0,tle.default)(n),n=n.toUpperCase(),!ile.test(n))return!1;if(n.length===11){for(var e=0,t=0;t<n.length-1;t++)if(sle.test(n[t]))e+=n[t]*Math.pow(2,t);else{var i=void 0,s=n.charCodeAt(t)-55;s<11?i=s:s>=11&&s<=20?i=12+s%11:s>=21&&s<=30?i=23+s%21:i=34+s%31,e+=i*Math.pow(2,t)}var r=e%11;return Number(n[n.length-1])===r}return!0}Zy.isFreightContainerID=W9;var uT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function r(o){return(0,t.default)(o),s.has(o)}n.exports=e.default,n.exports.default=e.default})(uT,uT.exports);var rle=uT.exports,cT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(j);function i(l){return l&&l.__esModule?l:{default:l}}var s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,r=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,o=function(u){var c=u.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(c){var d=Number(c[1]),f=Number(c[2]);return d%4===0&&d%100!==0||d%400===0?f<=366:f<=365}var p=u.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),m=p[1],g=p[2],w=p[3],v=g&&"0".concat(g).slice(-2),y=w&&"0".concat(w).slice(-2),_=new Date("".concat(m,"-").concat(v||"01","-").concat(y||"01"));return g&&w?_.getUTCFullYear()===m&&_.getUTCMonth()+1===g&&_.getUTCDate()===w:!0};function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(l);var c=u.strictSeparator?r.test(l):s.test(l);return c&&u.strict?o(l):c}n.exports=e.default,n.exports.default=e.default})(cT,cT.exports);var ole=cT.exports,hT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var t=i(j);function i(y){return y&&y.__esModule?y:{default:y}}var s=/[0-9]{4}/,r=/(0[1-9]|1[0-2])/,o=/([12]\d|0[1-9]|3[01])/,a=/([01][0-9]|2[0-3])/,l=/[0-5][0-9]/,u=/([0-5][0-9]|60)/,c=/(\.[0-9]+)?/,d=new RegExp("[-+]".concat(a.source,":").concat(l.source)),f=new RegExp("([zZ]|".concat(d.source,")")),p=new RegExp("".concat(a.source,":").concat(l.source,":").concat(u.source).concat(c.source)),m=new RegExp("".concat(s.source,"-").concat(r.source,"-").concat(o.source)),g=new RegExp("".concat(p.source).concat(f.source)),w=new RegExp("^".concat(m.source,"[ tT]").concat(g.source,"$"));function v(y){return(0,t.default)(y),w.test(y)}n.exports=e.default,n.exports.default=e.default})(hT,hT.exports);var ale=hT.exports,dT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function r(o){return(0,t.default)(o),s.has(o.toUpperCase())}n.exports=e.default,n.exports.default=e.default})(dT,dT.exports);var lle=dT.exports,Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.CurrencyCodes=void 0;Yy.default=hle;var ule=cle(j);function cle(n){return n&&n.__esModule?n:{default:n}}var G9=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function hle(n){return(0,ule.default)(n),G9.has(n.toUpperCase())}Yy.CurrencyCodes=G9;var fT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(j),i=s(li);function s(u){return u&&u.__esModule?u:{default:u}}var r=/^[A-Z2-7]+=*$/,o=/^[A-HJKMNP-TV-Z0-9]+$/,a={crockford:!1};function l(u,c){if((0,t.default)(u),c=(0,i.default)(c,a),c.crockford)return o.test(u);var d=u.length;return!!(d%8===0&&r.test(u))}n.exports=e.default,n.exports.default=e.default})(fT,fT.exports);var dle=fT.exports,pT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[A-HJ-NP-Za-km-z1-9]*$/;function r(o){return(0,t.default)(o),!!s.test(o)}n.exports=e.default,n.exports.default=e.default})(pT,pT.exports);var fle=pT.exports,gT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(j);function i(l){return l&&l.__esModule?l:{default:l}}var s=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,r=/^[a-z\-]+=[a-z0-9\-]+$/i,o=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function a(l){(0,t.default)(l);var u=l.split(",");if(u.length<2)return!1;var c=u.shift().trim().split(";"),d=c.shift();if(d.slice(0,5)!=="data:")return!1;var f=d.slice(5);if(f!==""&&!s.test(f))return!1;for(var p=0;p<c.length;p++)if(!(p===c.length-1&&c[p].toLowerCase()==="base64")&&!r.test(c[p]))return!1;for(var m=0;m<u.length;m++)if(!o.test(u[m]))return!1;return!0}n.exports=e.default,n.exports.default=e.default})(gT,gT.exports);var ple=gT.exports,mT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function r(o){return(0,t.default)(o),o.indexOf("magnet:?")!==0?!1:s.test(o)}n.exports=e.default,n.exports.default=e.default})(mT,mT.exports);var gle=mT.exports,vT={exports:{}},yT={exports:{}},wT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){if((0,t.default)(r),o){var a=new RegExp("[".concat(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return r.replace(a,"")}for(var l=r.length-1;/\s/.test(r.charAt(l));)l-=1;return r.slice(0,l+1)}n.exports=e.default,n.exports.default=e.default})(wT,wT.exports);var q9=wT.exports,_T={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){(0,t.default)(r);var a=o?new RegExp("^[".concat(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return r.replace(a,"")}n.exports=e.default,n.exports.default=e.default})(_T,_T.exports);var K9=_T.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=s(q9),i=s(K9);function s(o){return o&&o.__esModule?o:{default:o}}function r(o,a){return(0,t.default)((0,i.default)(o,a),a)}n.exports=e.default,n.exports.default=e.default})(yT,yT.exports);var Z9=yT.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;var t=r(Z9),i=r(B9),s=r(j);function r(g){return g&&g.__esModule?g:{default:g}}function o(g,w){return u(g)||l(g,w)||d(g,w)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(g,w){var v=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(v!=null){var y,_,A,E,C=[],T=!0,k=!1;try{if(A=(v=v.call(g)).next,w!==0)for(;!(T=(y=A.call(v)).done)&&(C.push(y.value),C.length!==w);T=!0);}catch(P){k=!0,_=P}finally{try{if(!T&&v.return!=null&&(E=v.return(),Object(E)!==E))return}finally{if(k)throw _}}return C}}function u(g){if(Array.isArray(g))return g}function c(g,w){var v=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!v){if(Array.isArray(g)||(v=d(g))||w){v&&(g=v);var y=0,_=function(){};return{s:_,n:function(){return y>=g.length?{done:!0}:{done:!1,value:g[y++]}},e:function(k){throw k},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,E=!1,C;return{s:function(){v=v.call(g)},n:function(){var k=v.next();return A=k.done,k},e:function(k){E=!0,C=k},f:function(){try{!A&&v.return!=null&&v.return()}finally{if(E)throw C}}}}function d(g,w){if(g){if(typeof g=="string")return f(g,w);var v=Object.prototype.toString.call(g).slice(8,-1);if(v==="Object"&&g.constructor&&(v=g.constructor.name),v==="Map"||v==="Set")return Array.from(g);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return f(g,w)}}function f(g,w){(w==null||w>g.length)&&(w=g.length);for(var v=0,y=new Array(w);v<w;v++)y[v]=g[v];return y}function p(g){var w=new Set(["subject","body","cc","bcc"]),v={cc:"",bcc:""},y=!1,_=g.split("&");if(_.length>4)return!1;var A=c(_),E;try{for(A.s();!(E=A.n()).done;){var C=E.value,T=C.split("="),k=o(T,2),P=k[0],M=k[1];if(P&&!w.has(P)){y=!0;break}M&&(P==="cc"||P==="bcc")&&(v[P]=M),P&&w.delete(P)}}catch(D){A.e(D)}finally{A.f()}return y?!1:v}function m(g,w){if((0,s.default)(g),g.indexOf("mailto:")!==0)return!1;var v=g.replace("mailto:","").split("?"),y=o(v,2),_=y[0],A=y[1],E=A===void 0?"":A;if(!_&&!E)return!0;var C=p(E);return C?"".concat(_,",").concat(C.cc,",").concat(C.bcc).split(",").every(function(T){return T=(0,t.default)(T," "),T?(0,i.default)(T,w):!0}):!1}n.exports=e.default,n.exports.default=e.default})(vT,vT.exports);var mle=vT.exports,bT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(j);function i(l){return l&&l.__esModule?l:{default:l}}var s=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,r=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,o=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function a(l){return(0,t.default)(l),s.test(l)||r.test(l)||o.test(l)}n.exports=e.default,n.exports.default=e.default})(bT,bT.exports);var vle=bT.exports,ST={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=s(j),i=s(li);function s(d){return d&&d.__esModule?d:{default:d}}var r=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,o=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,a=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,l=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,u={checkDMS:!1};function c(d,f){if((0,t.default)(d),f=(0,i.default)(f,u),!d.includes(","))return!1;var p=d.split(",");return p[0].startsWith("(")&&!p[1].endsWith(")")||p[1].endsWith(")")&&!p[0].startsWith("(")?!1:f.checkDMS?a.test(p[0])&&l.test(p[1]):r.test(p[0])&&o.test(p[1])}n.exports=e.default,n.exports.default=e.default})(ST,ST.exports);var yle=ST.exports,Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.default=ble;Xy.locales=void 0;var wle=_le(j);function _le(n){return n&&n.__esModule?n:{default:n}}var p2=/^\d{3}$/,Ti=/^\d{4}$/,Hn=/^\d{5}$/,pA=/^\d{6}$/,jh={AD:/^AD\d{3}$/,AT:Ti,AU:Ti,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:Ti,BG:Ti,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:Ti,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:Hn,DK:Ti,DO:Hn,DZ:Hn,EE:Hn,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:Hn,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:Ti,ID:Hn,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:p2,IT:Hn,JP:/^\d{3}\-\d{4}$/,KE:Hn,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:Ti,LV:/^LV\-\d{4}$/,LK:Hn,MG:p2,MX:Hn,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:Hn,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:Ti,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:Ti,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:pA,RU:pA,SA:Hn,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:pA,SI:Ti,SK:/^\d{3}\s?\d{2}$/,TH:Hn,TN:Ti,TW:/^\d{3}(\d{2})?$/,UA:Hn,US:/^\d{5}(-\d{4})?$/,ZA:Ti,ZM:Hn};Xy.locales=Object.keys(jh);function ble(n,e){if((0,wle.default)(n),e in jh)return jh[e].test(n);if(e==="any"){for(var t in jh)if(jh.hasOwnProperty(t)){var i=jh[t];if(i.test(n))return!0}return!1}throw new Error("Invalid locale '".concat(e,"'"))}var AT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r){return(0,t.default)(r),r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}n.exports=e.default,n.exports.default=e.default})(AT,AT.exports);var Sle=AT.exports,xT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r){return(0,t.default)(r),r.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}n.exports=e.default,n.exports.default=e.default})(xT,xT.exports);var Ale=xT.exports,ET={exports:{}},PT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){return(0,t.default)(r),r.replace(new RegExp("[".concat(o,"]+"),"g"),"")}n.exports=e.default,n.exports.default=e.default})(PT,PT.exports);var Y9=PT.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=s(j),i=s(Y9);function s(o){return o&&o.__esModule?o:{default:o}}function r(o,a){(0,t.default)(o);var l=a?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,i.default)(o,l)}n.exports=e.default,n.exports.default=e.default})(ET,ET.exports);var xle=ET.exports,CT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){return(0,t.default)(r),r.replace(new RegExp("[^".concat(o,"]+"),"g"),"")}n.exports=e.default,n.exports.default=e.default})(CT,CT.exports);var Ele=CT.exports,TT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(j);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,o){(0,t.default)(r);for(var a=r.length-1;a>=0;a--)if(o.indexOf(r[a])===-1)return!1;return!0}n.exports=e.default,n.exports.default=e.default})(TT,TT.exports);var Ple=TT.exports,kT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=i(li);function i(d){return d&&d.__esModule?d:{default:d}}var s={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},r=["icloud.com","me.com"],o=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],a=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],l=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(d){return d.length>1?d:""}function c(d,f){f=(0,t.default)(f,s);var p=d.split("@"),m=p.pop(),g=p.join("@"),w=[g,m];if(w[1]=w[1].toLowerCase(),w[1]==="gmail.com"||w[1]==="googlemail.com"){if(f.gmail_remove_subaddress&&(w[0]=w[0].split("+")[0]),f.gmail_remove_dots&&(w[0]=w[0].replace(/\.+/g,u)),!w[0].length)return!1;(f.all_lowercase||f.gmail_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]=f.gmail_convert_googlemaildotcom?"gmail.com":w[1]}else if(r.indexOf(w[1])>=0){if(f.icloud_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(f.all_lowercase||f.icloud_lowercase)&&(w[0]=w[0].toLowerCase())}else if(o.indexOf(w[1])>=0){if(f.outlookdotcom_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(f.all_lowercase||f.outlookdotcom_lowercase)&&(w[0]=w[0].toLowerCase())}else if(a.indexOf(w[1])>=0){if(f.yahoo_remove_subaddress){var v=w[0].split("-");w[0]=v.length>1?v.slice(0,-1).join("-"):v[0]}if(!w[0].length)return!1;(f.all_lowercase||f.yahoo_lowercase)&&(w[0]=w[0].toLowerCase())}else l.indexOf(w[1])>=0?((f.all_lowercase||f.yandex_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]="yandex.ru"):f.all_lowercase&&(w[0]=w[0].toLowerCase());return w.join("@")}n.exports=e.default,n.exports.default=e.default})(kT,kT.exports);var Cle=kT.exports,RT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function r(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(RT,RT.exports);var Tle=RT.exports,MT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(j);function i(o){return o&&o.__esModule?o:{default:o}}var s={"cs-CZ":function(a){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(a)},"de-DE":function(a){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G|GP|GR|GS|GT|G|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T|B|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BD|BUL|BR|BS|BZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL|FOR|FRG|FRI|FRW|FTL|FS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM|HOG|HOH|HOL|HOM|HOR|HS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JL|KEH|KEL|KEM|KIB|KLE|KLZ|KN|KT|KZ|KRU|KN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LB|LOS|LRO|LSZ|LN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MB|MR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL|PR|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RD|RG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL|SLZ|SM|SOB|SOG|SOK|SM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SW|SWA|SZB|TBB|TDO|TET|TIR|TL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(a)},"de-LI":function(a){return/^FL[- ]?\d{1,5}[UZ]?$/.test(a)},"en-IN":function(a){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(a)},"es-AR":function(a){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(a)},"fi-FI":function(a){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(a)},"hu-HU":function(a){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(a)},"pt-BR":function(a){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(a)},"pt-PT":function(a){return/^([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})$/.test(a)},"sq-AL":function(a){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(a)},"sv-SE":function(a){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z ]{2,7}$)/.test(a.trim())},"en-PK":function(a){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(a.trim())}};function r(o,a){if((0,t.default)(o),a in s)return s[a](o);if(a==="any"){for(var l in s){var u=s[l];if(u(o))return!0}return!1}throw new Error("Invalid locale '".concat(a,"'"))}n.exports=e.default,n.exports.default=e.default})(MT,MT.exports);var kle=MT.exports,IT={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var t=s(li),i=s(j);function s(m){return m&&m.__esModule?m:{default:m}}var r=/^[A-Z]$/,o=/^[a-z]$/,a=/^[0-9]$/,l=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,u={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function c(m){var g={};return Array.from(m).forEach(function(w){var v=g[w];v?g[w]+=1:g[w]=1}),g}function d(m){var g=c(m),w={length:m.length,uniqueChars:Object.keys(g).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(g).forEach(function(v){r.test(v)?w.uppercaseCount+=g[v]:o.test(v)?w.lowercaseCount+=g[v]:a.test(v)?w.numberCount+=g[v]:l.test(v)&&(w.symbolCount+=g[v])}),w}function f(m,g){var w=0;return w+=m.uniqueChars*g.pointsPerUnique,w+=(m.length-m.uniqueChars)*g.pointsPerRepeat,m.lowercaseCount>0&&(w+=g.pointsForContainingLower),m.uppercaseCount>0&&(w+=g.pointsForContainingUpper),m.numberCount>0&&(w+=g.pointsForContainingNumber),m.symbolCount>0&&(w+=g.pointsForContainingSymbol),w}function p(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,i.default)(m);var w=d(m);return g=(0,t.default)(g||{},u),g.returnScore?f(w,g):w.length>=g.minLength&&w.lowercaseCount>=g.minLowercase&&w.uppercaseCount>=g.minUppercase&&w.numberCount>=g.minNumbers&&w.symbolCount>=g.minSymbols}n.exports=e.default,n.exports.default=e.default})(IT,IT.exports);var Rle=IT.exports,Qy={};function LT(n){"@babel/helpers - typeof";return LT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LT(n)}Object.defineProperty(Qy,"__esModule",{value:!0});Qy.default=Fle;Qy.vatMatchers=void 0;var g2=Lle(j),Mle=Ile(wh);function X9(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(X9=function(s){return s?t:e})(n)}function Ile(n,e){if(n.__esModule)return n;if(n===null||LT(n)!="object"&&typeof n!="function")return{default:n};var t=X9(e);if(t&&t.has(n))return t.get(n);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in n)if(r!=="default"&&{}.hasOwnProperty.call(n,r)){var o=s?Object.getOwnPropertyDescriptor(n,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=n[r]}return i.default=n,t&&t.set(n,i),i}function Lle(n){return n&&n.__esModule?n:{default:n}}var Dle=function(e){var t=e.match(/^(AU)?(\d{11})$/);if(!t)return!1;var i=[10,1,3,5,7,9,11,13,15,17,19];e=e.replace(/^AU/,"");for(var s=(parseInt(e.slice(0,1),10)-1).toString()+e.slice(1),r=0,o=0;o<11;o++)r+=i[o]*s.charAt(o);return r!==0&&r%89===0},Ole=function(e){var t=function(s){var r=s.pop(),o=[5,4,3,2,7,6,5,4],a=(11-s.reduce(function(l,u,c){return l+u*o[c]},0)%11)%11;return r===a};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(e)&&t(e.match(/\d/g).map(function(i){return+i}))},Nle=function(e){var t=e.match(/^(PT)?(\d{9})$/);if(!t)return!1;var i=t[2],s=11-Mle.reverseMultiplyAndSum(i.split("").slice(0,8).map(function(r){return parseInt(r,10)}),9)%11;return s>9?parseInt(i[8],10)===0:s===parseInt(i[8],10)},m2=Qy.vatMatchers={AT:function(e){return/^(AT)?U\d{8}$/.test(e)},BE:function(e){return/^(BE)?\d{10}$/.test(e)},BG:function(e){return/^(BG)?\d{9,10}$/.test(e)},HR:function(e){return/^(HR)?\d{11}$/.test(e)},CY:function(e){return/^(CY)?\w{9}$/.test(e)},CZ:function(e){return/^(CZ)?\d{8,10}$/.test(e)},DK:function(e){return/^(DK)?\d{8}$/.test(e)},EE:function(e){return/^(EE)?\d{9}$/.test(e)},FI:function(e){return/^(FI)?\d{8}$/.test(e)},FR:function(e){return/^(FR)?\w{2}\d{9}$/.test(e)},DE:function(e){return/^(DE)?\d{9}$/.test(e)},EL:function(e){return/^(EL)?\d{9}$/.test(e)},HU:function(e){return/^(HU)?\d{8}$/.test(e)},IE:function(e){return/^(IE)?\d{7}\w{1}(W)?$/.test(e)},IT:function(e){return/^(IT)?\d{11}$/.test(e)},LV:function(e){return/^(LV)?\d{11}$/.test(e)},LT:function(e){return/^(LT)?\d{9,12}$/.test(e)},LU:function(e){return/^(LU)?\d{8}$/.test(e)},MT:function(e){return/^(MT)?\d{8}$/.test(e)},NL:function(e){return/^(NL)?\d{9}B\d{2}$/.test(e)},PL:function(e){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(e)},PT:Nle,RO:function(e){return/^(RO)?\d{2,10}$/.test(e)},SK:function(e){return/^(SK)?\d{10}$/.test(e)},SI:function(e){return/^(SI)?\d{8}$/.test(e)},ES:function(e){return/^(ES)?\w\d{7}[A-Z]$/.test(e)},SE:function(e){return/^(SE)?\d{12}$/.test(e)},AL:function(e){return/^(AL)?\w{9}[A-Z]$/.test(e)},MK:function(e){return/^(MK)?\d{13}$/.test(e)},AU:Dle,BY:function(e){return/^( )?\d{9}$/.test(e)},CA:function(e){return/^(CA)?\d{9}$/.test(e)},IS:function(e){return/^(IS)?\d{5,6}$/.test(e)},IN:function(e){return/^(IN)?\d{15}$/.test(e)},ID:function(e){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(e)},IL:function(e){return/^(IL)?\d{9}$/.test(e)},KZ:function(e){return/^(KZ)?\d{12}$/.test(e)},NZ:function(e){return/^(NZ)?\d{9}$/.test(e)},NG:function(e){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(e)},NO:function(e){return/^(NO)?\d{9}MVA$/.test(e)},PH:function(e){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(e)},RU:function(e){return/^(RU)?(\d{10}|\d{12})$/.test(e)},SM:function(e){return/^(SM)?\d{5}$/.test(e)},SA:function(e){return/^(SA)?\d{15}$/.test(e)},RS:function(e){return/^(RS)?\d{9}$/.test(e)},CH:Ole,TR:function(e){return/^(TR)?\d{10}$/.test(e)},UA:function(e){return/^(UA)?\d{12}$/.test(e)},GB:function(e){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(e)},UZ:function(e){return/^(UZ)?\d{9}$/.test(e)},AR:function(e){return/^(AR)?\d{11}$/.test(e)},BO:function(e){return/^(BO)?\d{7}$/.test(e)},BR:function(e){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(e)},CL:function(e){return/^(CL)?\d{8}-\d{1}$/.test(e)},CO:function(e){return/^(CO)?\d{10}$/.test(e)},CR:function(e){return/^(CR)?\d{9,12}$/.test(e)},EC:function(e){return/^(EC)?\d{13}$/.test(e)},SV:function(e){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(e)},GT:function(e){return/^(GT)?\d{7}-\d{1}$/.test(e)},HN:function(e){return/^(HN)?$/.test(e)},MX:function(e){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(e)},NI:function(e){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(e)},PA:function(e){return/^(PA)?$/.test(e)},PY:function(e){return/^(PY)?\d{6,8}-\d{1}$/.test(e)},PE:function(e){return/^(PE)?\d{11}$/.test(e)},DO:function(e){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(e)},UY:function(e){return/^(UY)?\d{12}$/.test(e)},VE:function(e){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(e)}};function Fle(n,e){if((0,g2.default)(n),(0,g2.default)(e),e in m2)return m2[e](n);throw new Error("Invalid country code: '".concat(e,"'"))}(function(n,e){function t(at){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wr){return typeof wr}:function(wr){return wr&&typeof Symbol=="function"&&wr.constructor===Symbol&&wr!==Symbol.prototype?"symbol":typeof wr},t(at)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=V(GR),s=V(N9),r=V(Eoe),o=V(Poe),a=V(Coe),l=V(Toe),u=V(koe),c=V(B9),d=V(Roe),f=V(Moe),p=V(I1),m=V(Ioe),g=V(qR),w=V(z9),v=V(Loe),y=V(Doe),_=V(Ooe),A=V(Noe),E=xh(Wy),C=xh(Gy),T=V(joe),k=V(Hoe),P=V(Woe),M=V(Goe),D=V(qoe),H=V(Koe),W=V(Zoe),F=V(Pp),X=V(Cp),Y=V(sae),G=V(rae),N=V(aae),Q=V(lae),J=V(KR),he=xh(Ep),ue=V(cae),ge=V(U9),$e=V(hae),Xe=V(dae),Pe=V(fae),oe=V(pae),Vn=V(gae),_h=V(mae),bh=xh(qy),L1=V(Pae),D1=V(Cae),rs=V(Tae),os=V(kae),Jy=V(Rae),Sh=V(Mae),O1=V(Iae),R=V($9),I=V(Lae),O=V(Dae),z=V(Oae),B=V(Nae),q=V(Fae),ce=V(H9),be=V($ae),Be=V(Bae),ot=V(zae),eu=V(Uae),po=V(Vae),yr=V(jae),kp=V(Kae),Rp=xh(Ky),tu=V(Qae),Ah=V(Jae),e0=V(ele),eM=Zy,Q9=V(rle),J9=V(ole),eV=V(ale),tV=V(Tp),nV=V(lle),iV=V(Yy),sV=V(dle),rV=V(fle),oV=V(j9),aV=V(ple),lV=V(gle),uV=V(mle),cV=V(vle),hV=V(yle),tM=xh(Xy),dV=V(K9),fV=V(q9),pV=V(Z9),gV=V(Sle),mV=V(Ale),vV=V(xle),yV=V(Ele),wV=V(Y9),_V=V(Ple),bV=V(Cle),SV=V(Tle),AV=V(kle),xV=V(Rle),EV=V(Qy);function nM(at){if(typeof WeakMap!="function")return null;var wr=new WeakMap,nu=new WeakMap;return(nM=function(N1){return N1?nu:wr})(at)}function xh(at,wr){if(at&&at.__esModule)return at;if(at===null||t(at)!="object"&&typeof at!="function")return{default:at};var nu=nM(wr);if(nu&&nu.has(at))return nu.get(at);var Eh={__proto__:null},N1=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ph in at)if(Ph!=="default"&&{}.hasOwnProperty.call(at,Ph)){var t0=N1?Object.getOwnPropertyDescriptor(at,Ph):null;t0&&(t0.get||t0.set)?Object.defineProperty(Eh,Ph,t0):Eh[Ph]=at[Ph]}return Eh.default=at,nu&&nu.set(at,Eh),Eh}function V(at){return at&&at.__esModule?at:{default:at}}var PV="13.12.0",CV={version:PV,toDate:i.default,toFloat:s.default,toInt:r.default,toBoolean:o.default,equals:a.default,contains:l.default,matches:u.default,isEmail:c.default,isURL:d.default,isMACAddress:f.default,isIP:p.default,isIPRange:m.default,isFQDN:g.default,isBoolean:y.default,isIBAN:bh.default,isBIC:L1.default,isAbaRouting:A.default,isAlpha:E.default,isAlphaLocales:E.locales,isAlphanumeric:C.default,isAlphanumericLocales:C.locales,isNumeric:T.default,isPassportNumber:k.default,isPort:P.default,isLowercase:M.default,isUppercase:D.default,isAscii:W.default,isFullWidth:F.default,isHalfWidth:X.default,isVariableWidth:Y.default,isMultibyte:G.default,isSemVer:N.default,isSurrogatePair:Q.default,isInt:J.default,isIMEI:H.default,isFloat:he.default,isFloatLocales:he.locales,isDecimal:ue.default,isHexadecimal:ge.default,isOctal:$e.default,isDivisibleBy:Xe.default,isHexColor:Pe.default,isRgbColor:oe.default,isHSL:Vn.default,isISRC:_h.default,isMD5:D1.default,isHash:rs.default,isJWT:os.default,isJSON:Jy.default,isEmpty:Sh.default,isLength:O1.default,isLocale:_.default,isByteLength:R.default,isUUID:I.default,isMongoId:O.default,isAfter:z.default,isBefore:B.default,isIn:q.default,isLuhnNumber:ce.default,isCreditCard:be.default,isIdentityCard:Be.default,isEAN:ot.default,isISIN:eu.default,isISBN:po.default,isISSN:yr.default,isMobilePhone:Rp.default,isMobilePhoneLocales:Rp.locales,isPostalCode:tM.default,isPostalCodeLocales:tM.locales,isEthereumAddress:tu.default,isCurrency:Ah.default,isBtcAddress:e0.default,isISO6346:eM.isISO6346,isFreightContainerID:eM.isFreightContainerID,isISO6391:Q9.default,isISO8601:J9.default,isRFC3339:eV.default,isISO31661Alpha2:tV.default,isISO31661Alpha3:nV.default,isISO4217:iV.default,isBase32:sV.default,isBase58:rV.default,isBase64:oV.default,isDataURI:aV.default,isMagnetURI:lV.default,isMailtoURI:uV.default,isMimeType:cV.default,isLatLong:hV.default,ltrim:dV.default,rtrim:fV.default,trim:pV.default,escape:gV.default,unescape:mV.default,stripLow:vV.default,whitelist:yV.default,blacklist:wV.default,isWhitelisted:_V.default,normalizeEmail:bV.default,toString,isSlug:SV.default,isStrongPassword:xV.default,isTaxID:kp.default,isDate:w.default,isTime:v.default,isLicensePlate:AV.default,isVAT:EV.default,ibanLocales:bh.locales};e.default=CV,n.exports=e.default,n.exports.default=e.default})(GP,GP.exports);var $le=GP.exports;const lce=xy($le);export{Vle as B,Kle as D,jle as H,Ok as L,oce as Q,Ule as R,sce as T,rce as W,np as _,n5 as a,aM as b,Cl as c,lue as d,pe as e,cue as f,Lue as g,Oue as h,Due as i,d_ as j,Nue as k,uue as l,Gle as m,zle as n,Zue as o,Yue as p,Que as q,L as r,qle as s,Kue as t,UH as u,nt as v,ace as w,lce as x};
