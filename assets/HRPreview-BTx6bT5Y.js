import{r as l,u as j,n as N,j as e,c as b,L as S,D as E,d as L,f as V,g as D,h as R,i as P,k as F,l as U}from"./vendor-B2Wt-wJ2.js";import{g as T}from"./supabaseClient-B2YFH3xu.js";const B="_container_10l8w_1",z="_header_10l8w_10",A="_toolbar_10l8w_22",I="_backLink_10l8w_32",M="_backSymbol_10l8w_42",O="_backButton_10l8w_46",Z="_title_10l8w_55",W="_button_10l8w_62",q="_buttonIcon_10l8w_72",G="_pdfContainer_10l8w_76",H="_buttonText_10l8w_157",t={container:B,header:z,toolbar:A,backLink:I,backSymbol:M,backButton:O,title:Z,button:W,buttonIcon:q,pdfContainer:G,buttonText:H},K={vb14125:{name:"Valentyna",filePath:"Valentyna_Boiko/Excited_to_Connect_Message.pdf",title:"Andrii Zhygalko - Connection with Valentyna",company:"ExtTech Development",downloadName:"Andrii_Zhygalko_Message_to_Valentyna.pdf"},ks14125:{name:"Kateryna",filePath:"Kateryna_Solomenchuk/Excited_to_Connect_Message.pdf",title:"Andrii Zhygalko - Application for Company",company:"Eddy LMS",downloadName:"Andrii_Zhygalko_Application.pdf"}};L.workerSrc=`https://unpkg.com/pdfjs-dist@${V}/build/pdf.worker.min.mjs`;function X(){const _=l.useRef(null),o=l.useRef(null),w=l.useRef(!1),m=j(),{hrId:h}=N(),[i,v]=l.useState(),r=h?K[h]:void 0;l.useEffect(()=>{if(!r){m("/404");return}document.title=r.title,T(r.filePath).then(a=>{v(a)}).catch(a=>{console.error("Error fetching PDF URL:",a)})},[r,m]),l.useEffect(()=>{if(!i)return;async function a(){if(!(w.current||!_.current))try{const n=_.current.querySelector(".pdfViewerContainer");if(!n)throw new Error("Viewer container not found");const s=n.querySelector(".pdfViewer");s&&s.remove();const c=document.createElement("div");c.className="pdfViewer",n.appendChild(c);const d=new D,u=new R({eventBus:d}),g=new P({eventBus:d,linkService:u}),p=new F({container:n,eventBus:d,linkService:u,findController:g,l10n:void 0,textLayerMode:2});o.current=p,u.setViewer(p);const k=await U(i).promise;p.setDocument(k),u.setDocument(k);const f=()=>{var x;if((x=o.current)!=null&&x.pagesCount)try{window.innerWidth<=480?o.current.currentScaleValue="page-fit":window.innerWidth<=768?o.current.currentScaleValue="page-width":o.current.currentScale=1}catch(C){console.error("Error setting scale:",C)}};return window.addEventListener("resize",f),d.on("pagesloaded",()=>{setTimeout(f,100)}),w.current=!0,()=>{window.removeEventListener("resize",f)}}catch(n){console.error("Error initializing PDF viewer:",n);return}}return a(),()=>{var n,s;o.current&&((s=(n=o.current).cleanup)==null||s.call(n)),o.current=null,w.current=!1}},[i]);const y=async()=>{if(!(!i||!r))try{const n=await(await fetch(i)).blob(),s=window.URL.createObjectURL(n),c=document.createElement("a");c.href=s,c.download=r.downloadName,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(s)}catch(a){console.error("Download failed:",a)}};return!r||!i?null:e.jsxs("div",{className:t.container,children:[e.jsx("header",{className:b(t.header),children:e.jsxs("div",{className:b(t.toolbar),children:[e.jsxs(S,{to:"/",className:t.backLink,children:[e.jsx("span",{className:t.backSymbol,children:"<"}),e.jsx("span",{className:t.backButton,children:"Portfolio"})]}),e.jsxs("h1",{className:t.title,children:["Message for ",r.name]}),e.jsxs("button",{onClick:y,className:b(t.button,"button"),type:"button",children:[e.jsx("span",{className:t.buttonText,children:"Download PDF"}),e.jsx(E,{className:t.buttonIcon,size:20})]})]})}),e.jsx("div",{ref:_,className:t.pdfContainer,children:e.jsx("div",{className:"pdfViewerContainer",children:e.jsx("div",{className:"pdfViewer"})})})]})}export{X as default};
